<!DOCTYPE html>
<html><head><style>.Õº1.cm-focused {outline: 1px dotted #212121;}
.Õº1 {position: relative !important; box-sizing: border-box; display: flex !important; flex-direction: column;}
.Õº1 .cm-scroller {display: flex !important; align-items: flex-start !important; font-family: monospace; line-height: 1.4; height: 100%; overflow-x: auto; position: relative; z-index: 0; overflow-anchor: none;}
.Õº1 .cm-content[contenteditable=true] {-webkit-user-modify: read-write-plaintext-only;}
.Õº1 .cm-content {margin: 0; flex-grow: 2; flex-shrink: 0; display: block; white-space: pre; word-wrap: normal; box-sizing: border-box; min-height: 100%; padding: 4px 0; outline: none;}
.Õº1 .cm-lineWrapping {white-space: pre-wrap; white-space: break-spaces; word-break: break-word; overflow-wrap: anywhere; flex-shrink: 1;}
.Õº2 .cm-content {caret-color: black;}
.Õº3 .cm-content {caret-color: white;}
.Õº1 .cm-line {display: block; padding: 0 2px 0 6px;}
.Õº1 .cm-layer > * {position: absolute;}
.Õº1 .cm-layer {position: absolute; left: 0; top: 0; contain: size style;}
.Õº2 .cm-selectionBackground {background: #d9d9d9;}
.Õº3 .cm-selectionBackground {background: #222;}
.Õº2.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground {background: #d7d4f0;}
.Õº3.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground {background: #233;}
.Õº1 .cm-cursorLayer {pointer-events: none;}
.Õº1.cm-focused > .cm-scroller > .cm-cursorLayer {animation: steps(1) cm-blink 1.2s infinite;}
@keyframes cm-blink {50% {opacity: 0;}}
@keyframes cm-blink2 {50% {opacity: 0;}}
.Õº1 .cm-cursor, .Õº1 .cm-dropCursor {border-left: 1.2px solid black; margin-left: -0.6px; pointer-events: none;}
.Õº1 .cm-cursor {display: none;}
.Õº3 .cm-cursor {border-left-color: #ddd;}
.Õº1 .cm-dropCursor {position: absolute;}
.Õº1.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor {display: block;}
.Õº1 .cm-iso {unicode-bidi: isolate;}
.Õº1 .cm-announced {position: fixed; top: -10000px;}
@media print {.Õº1 .cm-announced {display: none;}}
.Õº2 .cm-activeLine {background-color: #cceeff44;}
.Õº3 .cm-activeLine {background-color: #99eeff33;}
.Õº2 .cm-specialChar {color: red;}
.Õº3 .cm-specialChar {color: #f78;}
.Õº1 .cm-gutters {flex-shrink: 0; display: flex; height: 100%; box-sizing: border-box; z-index: 200;}
.Õº1 .cm-gutters-before {inset-inline-start: 0;}
.Õº1 .cm-gutters-after {inset-inline-end: 0;}
.Õº2 .cm-gutters.cm-gutters-before {border-right-width: 1px;}
.Õº2 .cm-gutters.cm-gutters-after {border-left-width: 1px;}
.Õº2 .cm-gutters {background-color: #f5f5f5; color: #6c6c6c; border: 0px solid #ddd;}
.Õº3 .cm-gutters {background-color: #333338; color: #ccc;}
.Õº1 .cm-gutter {display: flex !important; flex-direction: column; flex-shrink: 0; box-sizing: border-box; min-height: 100%; overflow: hidden;}
.Õº1 .cm-gutterElement {box-sizing: border-box;}
.Õº1 .cm-lineNumbers .cm-gutterElement {padding: 0 3px 0 5px; min-width: 20px; text-align: right; white-space: nowrap;}
.Õº2 .cm-activeLineGutter {background-color: #e2f2ff;}
.Õº3 .cm-activeLineGutter {background-color: #222227;}
.Õº1 .cm-panels {box-sizing: border-box; position: sticky; left: 0; right: 0; z-index: 300;}
.Õº2 .cm-panels {background-color: #f5f5f5; color: black;}
.Õº2 .cm-panels-top {border-bottom: 1px solid #ddd;}
.Õº2 .cm-panels-bottom {border-top: 1px solid #ddd;}
.Õº3 .cm-panels {background-color: #333338; color: white;}
.Õº1 .cm-dialog label {font-size: 80%;}
.Õº1 .cm-dialog {padding: 2px 19px 4px 6px; position: relative;}
.Õº1 .cm-dialog-close {position: absolute; top: 3px; right: 4px; background-color: inherit; border: none; font: inherit; font-size: 14px; padding: 0;}
.Õº1 .cm-tab {display: inline-block; overflow: hidden; vertical-align: bottom;}
.Õº1 .cm-widgetBuffer {vertical-align: text-top; height: 1em; width: 0; display: inline;}
.Õº1 .cm-placeholder {color: #888; display: inline-block; vertical-align: top; user-select: none;}
.Õº1 .cm-highlightSpace {background-image: radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%); background-position: center;}
.Õº1 .cm-highlightTab {background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>'); background-size: auto 100%; background-position: right 90%; background-repeat: no-repeat;}
.Õº1 .cm-trailingSpace {background-color: #ff332255;}
.Õº1 .cm-button {vertical-align: middle; color: inherit; font-size: 70%; padding: .2em 1em; border-radius: 1px;}
.Õº2 .cm-button:active {background-image: linear-gradient(#b4b4b4, #d0d3d6);}
.Õº2 .cm-button {background-image: linear-gradient(#eff1f5, #d9d9df); border: 1px solid #888;}
.Õº3 .cm-button:active {background-image: linear-gradient(#111, #333);}
.Õº3 .cm-button {background-image: linear-gradient(#393939, #111); border: 1px solid #888;}
.Õº1 .cm-textfield {vertical-align: middle; color: inherit; font-size: 70%; border: 1px solid silver; padding: .2em .5em;}
.Õº2 .cm-textfield {background-color: white;}
.Õº3 .cm-textfield {border: 1px solid #555; background-color: inherit;}
.Õº1 .cm-selectionMatch {background-color: #99ff7780;}
.Õº1 .cm-searchMatch .cm-selectionMatch {background-color: transparent;}
.Õº1 .cm-tooltip.cm-tooltip-autocomplete > ul > li, .Õº1 .cm-tooltip.cm-tooltip-autocomplete > ul > completion-section {padding: 1px 3px; line-height: 1.2;}
.Õº1 .cm-tooltip.cm-tooltip-autocomplete > ul > li {overflow-x: hidden; text-overflow: ellipsis; cursor: pointer;}
.Õº1 .cm-tooltip.cm-tooltip-autocomplete > ul > completion-section {display: list-item; border-bottom: 1px solid silver; padding-left: 0.5em; opacity: 0.7;}
.Õº1 .cm-tooltip.cm-tooltip-autocomplete > ul {font-family: monospace; white-space: nowrap; overflow: hidden auto; max-width: 700px; max-width: min(700px, 95vw); min-width: 250px; max-height: 10em; height: 100%; list-style: none; margin: 0; padding: 0;}
.Õº2 .cm-tooltip-autocomplete ul li[aria-selected] {background: #17c; color: white;}
.Õº2 .cm-tooltip-autocomplete-disabled ul li[aria-selected] {background: #777;}
.Õº3 .cm-tooltip-autocomplete ul li[aria-selected] {background: #347; color: white;}
.Õº3 .cm-tooltip-autocomplete-disabled ul li[aria-selected] {background: #444;}
.Õº1 .cm-completionListIncompleteTop:before, .Õº1 .cm-completionListIncompleteBottom:after {content: "¬∑¬∑¬∑"; opacity: 0.5; display: block; text-align: center;}
.Õº1 .cm-tooltip.cm-completionInfo {position: absolute; padding: 3px 9px; width: max-content; max-width: 400px; box-sizing: border-box; white-space: pre-line;}
.Õº1 .cm-completionInfo.cm-completionInfo-left {right: 100%;}
.Õº1 .cm-completionInfo.cm-completionInfo-right {left: 100%;}
.Õº1 .cm-completionInfo.cm-completionInfo-left-narrow {right: 30px;}
.Õº1 .cm-completionInfo.cm-completionInfo-right-narrow {left: 30px;}
.Õº2 .cm-snippetField {background-color: #00000022;}
.Õº3 .cm-snippetField {background-color: #ffffff22;}
.Õº1 .cm-snippetFieldPosition {vertical-align: text-top; width: 0; height: 1.15em; display: inline-block; margin: 0 -0.7px -.7em; border-left: 1.4px dotted #888;}
.Õº1 .cm-completionMatchedText {text-decoration: underline;}
.Õº1 .cm-completionDetail {margin-left: 0.5em; font-style: italic;}
.Õº1 .cm-completionIcon {font-size: 90%; width: .8em; display: inline-block; text-align: center; padding-right: .6em; opacity: 0.6; box-sizing: content-box;}
.Õº1 .cm-completionIcon-function:after, .Õº1 .cm-completionIcon-method:after {content: '∆í';}
.Õº1 .cm-completionIcon-class:after {content: '‚óã';}
.Õº1 .cm-completionIcon-interface:after {content: '‚óå';}
.Õº1 .cm-completionIcon-variable:after {content: 'ùë•';}
.Õº1 .cm-completionIcon-constant:after {content: 'ùê∂';}
.Õº1 .cm-completionIcon-type:after {content: 'ùë°';}
.Õº1 .cm-completionIcon-enum:after {content: '‚à™';}
.Õº1 .cm-completionIcon-property:after {content: '‚ñ°';}
.Õº1 .cm-completionIcon-keyword:after {content: 'üîëÔ∏é';}
.Õº1 .cm-completionIcon-namespace:after {content: '‚ñ¢';}
.Õº1 .cm-completionIcon-text:after {content: 'abc'; font-size: 50%; vertical-align: middle;}
.Õº1 .cm-tooltip {z-index: 500; box-sizing: border-box;}
.Õº2 .cm-tooltip {border: 1px solid #bbb; background-color: #f5f5f5;}
.Õº2 .cm-tooltip-section:not(:first-child) {border-top: 1px solid #bbb;}
.Õº3 .cm-tooltip {background-color: #333338; color: white;}
.Õº1 .cm-tooltip-arrow:before, .Õº1 .cm-tooltip-arrow:after {content: ''; position: absolute; width: 0; height: 0; border-left: 7px solid transparent; border-right: 7px solid transparent;}
.Õº1 .cm-tooltip-above .cm-tooltip-arrow:before {border-top: 7px solid #bbb;}
.Õº1 .cm-tooltip-above .cm-tooltip-arrow:after {border-top: 7px solid #f5f5f5; bottom: 1px;}
.Õº1 .cm-tooltip-above .cm-tooltip-arrow {bottom: -7px;}
.Õº1 .cm-tooltip-below .cm-tooltip-arrow:before {border-bottom: 7px solid #bbb;}
.Õº1 .cm-tooltip-below .cm-tooltip-arrow:after {border-bottom: 7px solid #f5f5f5; top: 1px;}
.Õº1 .cm-tooltip-below .cm-tooltip-arrow {top: -7px;}
.Õº1 .cm-tooltip-arrow {height: 7px; width: 14px; position: absolute; z-index: -1; overflow: hidden;}
.Õº3 .cm-tooltip .cm-tooltip-arrow:before {border-top-color: #333338; border-bottom-color: #333338;}
.Õº3 .cm-tooltip .cm-tooltip-arrow:after {border-top-color: transparent; border-bottom-color: transparent;}
.Õº1.cm-focused .cm-matchingBracket {background-color: #328c8252;}
.Õº1.cm-focused .cm-nonmatchingBracket {background-color: #bb555544;}
.Õº1 .cm-foldPlaceholder {background-color: #eee; border: 1px solid #ddd; color: #888; border-radius: .2em; margin: 0 1px; padding: 0 1px; cursor: pointer;}
.Õº1 .cm-foldGutter span {padding: 0 1px; cursor: pointer;}
.Õº5 {color: #404740;}
.Õº6 {text-decoration: underline;}
.Õº7 {text-decoration: underline; font-weight: bold;}
.Õº8 {font-style: italic;}
.Õº9 {font-weight: bold;}
.Õºa {text-decoration: line-through;}
.Õºb {color: #708;}
.Õºc {color: #219;}
.Õºd {color: #164;}
.Õºe {color: #a11;}
.Õºf {color: #e40;}
.Õºg {color: #00f;}
.Õºh {color: #30a;}
.Õºi {color: #085;}
.Õºj {color: #167;}
.Õºk {color: #256;}
.Õºl {color: #00c;}
.Õºm {color: #940;}
.Õºn {color: #f00;}
.Õº4 .cm-line ::selection, .Õº4 .cm-line::selection {background-color: transparent !important;}
.Õº4 .cm-line {caret-color: transparent !important;}
.Õº4 .cm-content :focus::selection, .Õº4 .cm-content :focus ::selection {background-color: Highlight !important;}
.Õº4 .cm-content :focus {caret-color: initial !important;}
.Õº4 .cm-content {caret-color: transparent !important;}
</style>
		<meta charset="UTF-8">
		<meta copy="3">

		<!-- Browser Support -->
		<!--
			Determining browser support is hard.
			LLMs are useful for this task.
			I wonder how much would it cost to implement a browser support API that uses an LLM.
			Or even using a local one.
		-->
		<script type="application/json+browser-support">
			{
				"html+css": {
					"chrome": "29 (2013)",
					"firefox": "28 (2014)",
					"safari": "9 (2015)",
					"min": "2013",
					"max": "2015"
				},
				"javascript": {
					"chrome": "89 (2021)",
					"firefox": "108 (2022)",
					"safari": "16.4 (2023)",
					"min": "2021",
					"max": "2023"
				}
			}
		</script>

		<!-- Style reset and vars -->
		<style name="base">
			:root {
				--font-default: "Inter", sans-serif;
				--font-monospace: "Departure Mono", monospace;
			}

			/*
			  1. Prevent padding and border from affecting element width.
			  2. Remove default margins and padding
			  3. Reset all borders.
			*/

			*,
			::after,
			::before {
				box-sizing: border-box; /* 1 */
				margin: 0; /* 2 */
				padding: 0; /* 2 */
				border: 0 solid; /* 3 */
			}

			/*
			  1. Use a consistent sensible line-height in all browsers.
			  2. Prevent adjustments of font size after orientation changes in iOS.
			  3. Use a more readable tab size.
			  4. Use system font stack.
			  5. Disable tap highlights on iOS.
			*/

			html {
				line-height: 1.5; /* 1 */
				-webkit-text-size-adjust: 100%; /* 2 */
				tab-size: 4; /* 3 */
				font-family: var(--font-default); /* 4 */
				-webkit-tap-highlight-color: transparent; /* 5 */
			}

			/*
			  1. Add the correct height in Firefox.
			  2. Correct the inheritance of border color in Firefox.
			  3. Reset the default border style to a 1px solid border.
			*/

			hr {
				height: 0; /* 1 */
				color: inherit; /* 2 */
				border-top-width: 1px; /* 3 */
			}

			/*
			  Add the correct text decoration in Chrome, Edge, and Safari.
			*/

			abbr[title] {
				-webkit-text-decoration: underline dotted;
				text-decoration: underline dotted;
			}

			/*
			  Remove the default font size and weight for headings.
			*/

			h1,
			h2,
			h3,
			h4,
			h5,
			h6 {
				font-size: inherit;
				font-weight: inherit;
			}

			/*
			  Reset links to optimize for opt-in styling instead of opt-out.
			*/

			a {
				color: inherit;
				text-decoration: inherit;
			}

			/*
			  Add the correct font weight in Edge and Safari.
			*/

			b,
			strong {
				font-weight: bolder;
			}

			/*
			  1. Use monospace font family.
			  2. Correct the odd `em` font sizing in all browsers.
			*/

			code,
			kbd,
			samp,
			pre {
				font-family: var(--font-monospace); /* 1 */
				font-size: 1em; /* 2 */
			}

			/*
			  Add the correct font size in all browsers.
			*/

			small {
				font-size: 80%;
			}

			/*
			  Prevent `sub` and `sup` elements from affecting the line height in all browsers.
			*/

			sub,
			sup {
				font-size: 75%;
				line-height: 0;
				position: relative;
				vertical-align: baseline;
			}

			sub {
				bottom: -0.25em;
			}

			sup {
				top: -0.5em;
			}

			/*
			  1. Remove text indentation from table contents in Chrome and Safari.
			  2. Correct table border color inheritance in all Chrome and Safari.
			  3. Remove gaps between table borders by default.
			*/

			table {
				text-indent: 0; /* 1 */
				border-color: inherit; /* 2 */
				border-collapse: collapse; /* 3 */
			}

			/*
			  Use the modern Firefox focus style for all focusable elements.
			*/

			/*:-moz-focusring {
				outline: auto;
			}*/

			/*
			  Add the correct vertical alignment in Chrome and Firefox.
			*/

			progress {
				vertical-align: baseline;
			}

			/*
			  Add the correct display in Chrome and Safari.
			*/

			summary {
				display: list-item;
			}

			/*
			  Make lists unstyled by default.
			*/

			ol,
			ul,
			menu {
				list-style: none;
			}

			/*
			  1. Make replaced elements `display: block` by default.
			  2. Add `vertical-align: middle` to align replaced elements more sensibly by default.
			*/

			img,
			svg,
			video,
			canvas,
			audio,
			iframe,
			embed,
			object {
				display: block; /* 1 */
				vertical-align: middle; /* 2 */
			}

			/*
			  Constrain images and videos to the parent width and preserve their intrinsic aspect ratio.
			*/

			img,
			video {
				max-width: 100%;
				height: auto;
			}

			/*
			  1. Inherit font styles in all browsers.
			  2. Remove border radius in all browsers.
			  3. Remove background color in all browsers.
			*/

			button,
			input,
			select,
			optgroup,
			textarea {
				font-family: inherit; /* 1 */
				font-size: inherit; /* 1 */
				font-weight: inherit; /* 1 */
				line-height: inherit; /* 1 */
				color: inherit; /* 1 */
				border-radius: 0; /* 2 */
				background-color: transparent; /* 3 */
				text-align: left;
			}

			/*
			  Reset the default placeholder opacity in Firefox.
			*/

			::placeholder {
				opacity: 1;
				color: #9ca3af;
			}

			/*
			  Prevent resizing textareas horizontally by default.
			*/

			textarea {
				resize: vertical;
			}

			/*
			  Remove the inner padding in Chrome and Safari on macOS.
			*/

			::-webkit-search-decoration {
				-webkit-appearance: none;
			}

			/*
			  Remove excess padding from pseudo-elements in date/time inputs.
			*/

			::-webkit-datetime-edit,
			::-webkit-datetime-edit-year-field,
			::-webkit-datetime-edit-month-field,
			::-webkit-datetime-edit-day-field,
			::-webkit-datetime-edit-hour-field,
			::-webkit-datetime-edit-minute-field,
			::-webkit-datetime-edit-second-field,
			::-webkit-datetime-edit-millisecond-field,
			::-webkit-datetime-edit-meridiem-field {
				padding: 0;
			}

			/*
			  Remove the additional `:invalid` styles in Firefox.
			*/

			/*:-moz-ui-invalid {
				box-shadow: none;
			}*/

			/*
			  Correct the inability to style the border radius in iOS Safari.
			*/

			button,
			input[type="button"],
			input[type="reset"],
			input[type="submit"] {
				-webkit-appearance: button;
			}

			/*
			  Correct the cursor style of increment and decrement buttons in Safari.
			*/

			::-webkit-inner-spin-button,
			::-webkit-outer-spin-button {
				height: auto;
			}

			/*
			  Make elements with the HTML hidden attribute stay hidden by default.
			*/

			[hidden] {
				display: none !important;
			}
		</style>

		<!-- Blob Module Loader -->
		<script id="module-loader">
			window.__blob_module_loader_settings__ = {
				prefers_remote_modules: true,
			};

			window.addEventListener("load", async () => {
				const load_start_time = performance.now();
				const blob_urls = new Map();
				const remote_modules = new Map();

				window.__blob_modules__ = new Map();

				//
				// Remote Blob Module Cache
				//

				function openCache() {
					return new Promise((resolve, reject) => {
						const request = indexedDB.open("blob_module_cache", 1);

						request.onerror = () => reject(request.error);
						request.onsuccess = () => resolve(request.result);

						request.onupgradeneeded = (event) => {
							const db = event.target.result;
							if (!db.objectStoreNames.contains("modules")) {
								const store = db.createObjectStore("modules", {
									keyPath: "url",
								});
								store.createIndex("timestamp", "timestamp", {
									unique: false,
								});
							}
						};
					});
				}

				window.getCachedModule = async function (url) {
					try {
						const db = await openCache();
						const transaction = db.transaction(["modules"], "readonly");
						const store = transaction.objectStore("modules");

						return new Promise((resolve, reject) => {
							const request = store.get(url);
							request.onerror = () => reject(request.error);
							request.onsuccess = () => resolve(request.result);
						});
					} catch (error) {
						console.warn("Failed to get cached module:", error);
						return null;
					}
				};

				window.setCachedModule = async function (url, content) {
					try {
						const db = await openCache();
						const transaction = db.transaction(["modules"], "readwrite");
						const store = transaction.objectStore("modules");

						const cache_entry = {
							url: url,
							content: content,
							timestamp: Date.now(),
						};

						return new Promise((resolve, reject) => {
							const request = store.put(cache_entry);
							request.onerror = () => reject(request.error);
							request.onsuccess = () => resolve();
						});
					} catch (error) {
						console.warn("Failed to cache module:", error);
					}
				};

				// Cache busting function - exposing globally
				window.clearBlobModuleCache = async function (url = null) {
					try {
						const db = await openCache();
						const transaction = db.transaction(["modules"], "readwrite");
						const store = transaction.objectStore("modules");

						return new Promise((resolve, reject) => {
							let request;

							if (url) {
								// Clear specific URL
								request = store.delete(url);
								request.onsuccess = () => {
									console.log(`Cleared cache for: ${url}`);
									resolve();
								};
							} else {
								// Clear all cached modules
								request = store.clear();
								request.onsuccess = () => {
									console.log("Cleared all blob module cache");
									resolve();
								};
							}

							request.onerror = () => reject(request.error);
						});
					} catch (error) {
						console.warn("Failed to clear cache:", error);
					}
				};

				//
				// Blob Style Processing
				//

				const blob_styles = new Map();
				const blob_style_urls = new Map();
				const remote_styles = new Map();

				const style_tags = document.querySelectorAll("style[remote]");

				// First pass: collect all style contents and remote URLs
				style_tags.forEach((style) => {
					const remote_url = style.getAttribute("remote");
					const style_id = remote_url; // Use URL as identifier since styles don't have names

					if (!remote_url) {
						console.warn("style tag missing remote attribute");
						return;
					}

					// Check for name collisions
					if (blob_styles.has(style_id) || remote_styles.has(style_id)) {
						console.warn(`Style URL collision detected: "${style_id}" already exists. Skipping duplicate.`);
						return;
					}

					const content = style.textContent.trim();

					if (!content) {
						// Empty content with remote URL - fetch remote
						remote_styles.set(style_id, remote_url);
						return;
					} else {
						// Both remote and content exist - store local, compare later
						blob_styles.set(style_id, content);
						remote_styles.set(style_id, remote_url);
						return;
					}
				});

				// Fetch remote styles (with caching) and create local copies before proceeding
				for (const [style_id, remote_url] of remote_styles) {
					try {
						let remote_content;

						if (__blob_module_loader_settings__.prefers_remote_modules) {
							// Auto-update mode: fetch from remote first, fallback to cache
							try {
								console.log(`Fetching remote style from ${remote_url} (auto-update mode)`);
								const response = await fetch(remote_url);
								remote_content = await response.text();

								// Update the cache with fresh content
								await setCachedModule(remote_url, remote_content);
								console.log(`Updated cache for remote style from ${remote_url}`);
							} catch (fetch_error) {
								console.warn(`Failed to fetch remote style from "${remote_url}", falling back to cache:`, fetch_error);

								// Fallback to cached version
								const cached_style = await getCachedModule(remote_url);
								if (cached_style) {
									console.log(`Using cached style from ${remote_url} as fallback`);
									remote_content = cached_style.content;
								} else {
									throw new Error("No cached version available");
								}
							}
						} else {
							// Cache-first mode: check cache first, then fetch remote if needed
							const cached_style = await getCachedModule(remote_url);

							if (cached_style) {
								console.log(`Using cached style from ${remote_url}`);
								remote_content = cached_style.content;
							} else {
								console.log(`Fetching remote style from ${remote_url}`);
								const response = await fetch(remote_url);
								remote_content = await response.text();

								// Cache the fetched content
								await setCachedModule(remote_url, remote_content);
								console.log(`Cached remote style from ${remote_url}`);
							}
						}

						if (blob_styles.has(style_id)) {
							// Compare with existing local content
							const local_content = blob_styles.get(style_id);
							if (remote_content.trim() !== local_content.trim()) {
								if (__blob_module_loader_settings__.prefers_remote_modules) {
									console.log(
										`Remote and local content differ for style "${remote_url}". Using remote content (auto-update mode).`,
									);
									blob_styles.set(style_id, remote_content); // Use remote content
								} else {
									console.warn(
										`Remote and local content are different for style "${remote_url}". Using local content.`,
									);
									// Keep local content (no change needed)
								}
							}
							// If content is the same, keep existing (local) content
						} else {
							// No local content, use fetched remote content
							blob_styles.set(style_id, remote_content);
							console.log(`Successfully loaded remote style from ${remote_url}`);
						}
					} catch (error) {
						console.warn(`Failed to fetch remote style from "${remote_url}":`, error);
						if (!blob_styles.has(style_id)) {
							console.log(`Will keep original remote reference for style "${remote_url}"`);
						} else if (blob_styles.has(style_id)) {
							console.log(`Using local style for "${remote_url}"`);
						}
					}
				}

				// Create blob URLs for all styles and update style tags
				blob_styles.forEach((content, style_id) => {
					const style_blob = new Blob([content], {
						type: "text/css",
					});
					const blob_url = URL.createObjectURL(style_blob);
					blob_style_urls.set(style_id, blob_url);

					// Find the corresponding style tag and update it
					const style_tag = Array.from(style_tags).find((tag) => tag.getAttribute("remote") === style_id);
					if (style_tag) {
						// Clear the content
						style_tag.textContent = "";

						// Create a new link element to load the CSS
						const link_element = document.createElement("link");
						link_element.rel = "stylesheet";
						link_element.href = blob_url;

						// Insert the link element after the style tag
						style_tag.parentNode.insertBefore(link_element, style_tag.nextSibling);

						console.log(`Created blob URL link for ${style_id}`);
					}
				});

				// Expose blob style metadata map
				window.__blob_style_map__ = new Map();

				// Populate the style metadata map
				blob_styles.forEach((content, style_id) => {
					const blob_url = blob_style_urls.get(style_id);
					const src_bytes = new Blob([content]).size;

					const metadata = {
						remote_url: style_id,
						src_bytes,
						blob_url,
					};

					window.__blob_style_map__.set(style_id, metadata);
				});

				//
				// Blob Module Processing
				//

				const blob_scripts = document.querySelectorAll('script[type="blob-module"]');

				// First pass: collect all module contents and remote URLs, skip disabled modules
				blob_scripts.forEach((script) => {
					const module_name = script.getAttribute("name");
					const remote_url = script.getAttribute("remote");
					const is_disabled = script.hasAttribute("disabled");

					if (!module_name) {
						console.warn("blob-module script missing name attribute");
						return;
					}

					// Skip disabled modules
					if (is_disabled) {
						console.log(`Skipping disabled module: "${module_name}"`);
						return;
					}

					// Check for name collisions
					if (__blob_modules__.has(module_name) || remote_modules.has(module_name)) {
						console.warn(`Module name collision detected: "${module_name}" already exists. Skipping duplicate.`);
						return;
					}

					// @TODO: We could minify or format here since this will be the source map from blobs
					const content = script.textContent.trim();

					if (remote_url) {
						if (!content) {
							// Empty content with remote URL - fetch remote
							remote_modules.set(module_name, remote_url);
							return;
						} else {
							// Both remote and content exist - store local, compare later
							__blob_modules__.set(module_name, content);
							remote_modules.set(module_name, remote_url);
							return;
						}
					}

					// No remote URL, just store content
					__blob_modules__.set(module_name, content);
				});

				// Fetch remote modules (with caching) and create local copies before proceeding
				for (const [module_name, remote_url] of remote_modules) {
					try {
						let remote_content;

						if (__blob_module_loader_settings__.prefers_remote_modules) {
							// Auto-update mode: fetch from remote first, fallback to cache
							try {
								console.log(`Fetching remote module "${module_name}" from ${remote_url} (auto-update mode)`);
								const response = await fetch(remote_url);
								remote_content = await response.text();

								// Update the cache with fresh content
								await setCachedModule(remote_url, remote_content);
								console.log(`Updated cache for remote module "${module_name}"`);
							} catch (fetch_error) {
								console.warn(`Failed to fetch remote module "${module_name}", falling back to cache:`, fetch_error);

								// Fallback to cached version
								const cached_module = await getCachedModule(remote_url);
								if (cached_module) {
									console.log(`Using cached module "${module_name}" as fallback`);
									remote_content = cached_module.content;
								} else {
									throw new Error("No cached version available");
								}
							}
						} else {
							// Cache-first mode: check cache first, then fetch remote if needed
							const cached_module = await getCachedModule(remote_url);

							if (cached_module) {
								console.log(`Using cached module "${module_name}" from ${remote_url}`);
								remote_content = cached_module.content;
							} else {
								console.log(`Fetching remote module "${module_name}" from ${remote_url}`);
								const response = await fetch(remote_url);
								remote_content = await response.text();

								// Cache the fetched content
								await setCachedModule(remote_url, remote_content);
								console.log(`Cached remote module "${module_name}"`);
							}
						}

						if (__blob_modules__.has(module_name)) {
							// Compare with existing local content
							const local_content = __blob_modules__.get(module_name);
							if (remote_content.trim() !== local_content.trim()) {
								if (__blob_module_loader_settings__.prefers_remote_modules) {
									console.log(
										`Remote and local content differ for module "${module_name}". Using remote content (auto-update mode).`,
									);
									__blob_modules__.set(module_name, remote_content); // Use remote content
								} else {
									console.warn(
										`Remote and local content are different for module "${module_name}". Using local content.`,
									);
									// Keep local content (no change needed)
								}
							}
							// If content is the same, keep existing (local) content
						} else {
							// No local content, use fetched remote content
							__blob_modules__.set(module_name, remote_content);
							console.log(`Successfully loaded remote module "${module_name}"`);
						}
					} catch (error) {
						console.warn(`Failed to fetch remote module "${module_name}":`, error);
						if (!__blob_modules__.has(module_name)) {
							// Use remote URL directly in importmap
							blob_urls.set(module_name, remote_url);
							console.log(`Will use remote URL directly for module "${module_name}"`);
						} else if (__blob_modules__.has(module_name)) {
							console.log(`Using local module "${module_name}"`);
						}
					}
				}

				// Create blob URLs for all modules
				__blob_modules__.forEach((content, module_name) => {
					const module_blob = new Blob([content], {
						type: "text/javascript",
					});
					const blob_url = URL.createObjectURL(module_blob);
					blob_urls.set(module_name, blob_url);
				});

				// Clear script tag contents and add blob URL attributes (only for non-disabled modules)
				blob_scripts.forEach((script) => {
					const module_name = script.getAttribute("name");
					const is_disabled = script.hasAttribute("disabled");

					// Skip disabled modules
					if (is_disabled) {
						return;
					}

					const blob_url = blob_urls.get(module_name);

					if (blob_url) {
						// Clear the textContent to free up memory
						script.textContent = "";
						// Add blob URL as attribute for reference
						script.setAttribute("blob", blob_url);
					}
				});

				// Create import map with all blob URLs
				const imports = {};
				blob_urls.forEach((url, name) => {
					imports[name] = url;
				});

				const import_map = document.createElement("script");
				import_map.type = "importmap";
				import_map.textContent = JSON.stringify(
					{
						imports,
					},
					null,
					2,
				);
				document.head.appendChild(import_map);

				// Run the main module if it exists and is not disabled
				if (__blob_modules__.has("main")) {
					setTimeout(() => {
						const main_script = document.createElement("script");
						main_script.type = "module";
						main_script.setAttribute("entrypoint", "");
						main_script.textContent = `
									const main_start_time = performance.now();
									const load_duration = main_start_time - ${load_start_time};
									console.log(\`Main module started \${load_duration.toFixed(2)}ms after page load\`);
									import("main");
								`;
						document.head.appendChild(main_script);
					}, 0);
				}

				// Expose blob module metadata map
				window.__blob_module_map__ = new Map();

				// Populate the metadata map (including disabled modules for reference)
				blob_scripts.forEach((script) => {
					const module_name = script.getAttribute("name");
					const remote_url = script.getAttribute("remote") || null;
					const is_disabled = script.hasAttribute("disabled");
					const blob_url = blob_urls.get(module_name) || null;
					const content = __blob_modules__.get(module_name) || "";

					// Calculate source size in bytes
					const src_bytes = new Blob([content]).size;

					const metadata = {
						module_name,
						src_bytes,
						remote_url,
						blob_url,
						is_disabled,
					};

					window.__blob_module_map__.set(module_name, metadata);
				});

				//
				// Editable HTML Export
				//
				//

				window.getDocumentOuterHtml = function () {
					// Clone the current document
					const doc_clone = document.cloneNode(true);

					// Remove the importmap script we added
					const import_map_script = doc_clone.querySelector('script[type="importmap"]');
					if (import_map_script) {
						import_map_script.remove();
					}

					// Remove the main execution script we added
					const main_execution_script = doc_clone.querySelector("script[entrypoint]");
					if (main_execution_script) {
						main_execution_script.remove();
					}

					// Process blob-module scripts
					const cloned_blob_scripts = doc_clone.querySelectorAll('script[type="blob-module"]');
					cloned_blob_scripts.forEach((script) => {
						const module_name = script.getAttribute("name");
						const remote_url = script.getAttribute("remote");
						const no_download = script.hasAttribute("nodownload");
						const is_disabled = script.hasAttribute("disabled");

						// Remove blob attribute if it exists
						if (script.hasAttribute("blob")) {
							script.removeAttribute("blob");
						}

						// Skip processing content for disabled modules
						if (is_disabled) {
							return;
						}

						// Get the module content
						const module_content = __blob_modules__.get(module_name);

						// Check for nodownload modules
						if (module_content && !no_download) {
							script.textContent = module_content;
						} else if (no_download) {
							// Keep the remote URL but clear any local content
							script.textContent = "";
						}
					});

					// Process remote styles
					const original_style_tags = doc_clone.querySelectorAll("style[remote]");
					original_style_tags.forEach((style) => {
						const remote_url = style.getAttribute("remote");
						const no_download = style.hasAttribute("nodownload");

						if (no_download) {
							// Keep empty with just the remote attribute
							style.textContent = "";
						} else {
							// Get the style content and inline it
							const style_content = blob_styles.get(remote_url);
							if (style_content) {
								style.textContent = style_content;
							}
						}
					});

					// Remove the blob link elements we created
					const blob_links = doc_clone.querySelectorAll('link[href^="blob:"]');
					blob_links.forEach((link) => link.remove());

					// Get the full HTML
					return `<!DOCTYPE html>\n${doc_clone.documentElement.outerHTML}`;
				};

				window.saveHtmlFile = async function () {
					// Try to use Om sys function
					if (location.origin === "file://" && globalThis.__sys) {
						try {
							await __sys.invoke("file.write", location.pathname, getDocumentOuterHtml());
							return;
						} catch (error) {
							console.error("Failed to save HTML file using Om sys:", error);
						}
					}

					// Check if File System Access API is available
					if (window.showSaveFilePicker) {
						try {
							// Show save file picker
							const file_handle = await window.showSaveFilePicker({
								suggestedName: `${document.title || Date.now()}.html`,
								types: [
									{
										description: "HTML files",
										accept: {
											"text/html": [".html", ".htm"],
										},
									},
								],
							});

							const html_content = getDocumentOuterHtml();

							// Write to file
							const writable = await file_handle.createWritable();
							await writable.write(html_content);
							await writable.close();

							console.log("HTML file saved successfully");
							return;
						} catch (error) {
							if (error.name === "AbortError") {
								console.log("Save operation was cancelled by user");
								return;
							} else {
								console.warn("Failed to save file using File System Access API, falling back to download:", error);
							}
						}
					}

					// Fallback to download method
					alert("File System Access API not available, falling back to download");
					console.log("File System Access API not available, falling back to download");

					const html_content = getDocumentOuterHtml();

					// Create and trigger download
					const blob = new Blob([html_content], {
						type: "text/html",
					});
					const url = URL.createObjectURL(blob);

					const download_link = document.createElement("a");
					download_link.href = url;
					download_link.download = "index.html";
					download_link.click();

					// Clean up the blob URL
					URL.revokeObjectURL(url);

					console.log("HTML file download initiated");
				};
			});
		</script>

		<!-- Main Entry -->
		<script type="blob-module" name="main">import CodeMirror from "codemirror";
			import { useStyledTags } from "@std/ima-utils";

			const { EditorView, basicSetup } = CodeMirror.All;
			const { EditorState } = CodeMirror.State;
			const { javascript } = CodeMirror.Languages.JavaScript;

			const { div } = useStyledTags();

			const root = div(
				{
					styles: `
						& {
							position: fixed;
							top: 0;
							left: 0;
							width: 100%;
							height: 100%;
							background-color: #f5f5f5;
							color: #333;
						}
					`
				}
			);

			let state = EditorState.create({
			  doc: `"hello"`,
				extensions: [basicSetup, javascript()],
			});

			let view = new EditorView({
				state,
				parent: root
			})

			const main_el = document.querySelector("main");
			main_el.replaceChildren(root);</script>

		<!-- Tools -->
		<script type="blob-module" name="@std/utils" remote="../modules/client/utils.js">// Utils
//

// Commonly used utilities for general purpose JS programming.
// by Fernando Garcia (fergarram)
//

const __added_styles = new Set();
const __adopted_sheets = new Map();

export function base64ToString(base64_str) {
	const binary_string = atob(base64_str);
	const bytes = new Uint8Array(binary_string.length);

	for (let i = 0; i < binary_string.length; i++) {
		bytes[i] = binary_string.charCodeAt(i);
	}

	return new TextDecoder().decode(bytes);
}

export function stringToBase64(str) {
	const bytes = new TextEncoder().encode(str);
	const binary_string = String.fromCharCode(...bytes);
	return btoa(binary_string);
}

export function uniqueId() {
	// Check if crypto API is available
	if (typeof crypto === "undefined") {
		throw new Error("Crypto API is not available in this environment");
	}

	// Generate random values
	const random_values = new Uint8Array(16);
	crypto.getRandomValues(random_values);

	// Set version (4) and variant bits according to RFC4122
	random_values[6] = (random_values[6] & 0x0f) | 0x40; // version 4
	random_values[8] = (random_values[8] & 0x3f) | 0x80; // variant 1

	// Convert to hex string and format as UUID
	const hex_values = Array.from(random_values).map((byte) => byte.toString(16).padStart(2, "0"));

	return [
		hex_values.slice(0, 4).join(""),
		hex_values.slice(4, 6).join(""),
		hex_values.slice(6, 8).join(""),
		hex_values.slice(8, 10).join(""),
		hex_values.slice(10, 16).join(""),
	].join("-");
}

export function isUserTyping() {
	// Check if the active element is an input (excluding buttons, checkboxes, radio, etc.)
	if (document.activeElement?.tagName === "INPUT") {
		const input_type = document.activeElement.type.toLowerCase();
		const non_text_types = ["button", "checkbox", "radio", "submit", "reset", "file", "image", "range", "color", "hidden"];
		if (!non_text_types.includes(input_type)) {
			return true;
		}
	}

	// Check if the active element is a textarea
	if (document.activeElement?.tagName === "TEXTAREA") {
		return true;
	}

	// Check if the active element has contenteditable attribute
	if (document.activeElement?.getAttribute("contenteditable") === "true") {
		return true;
	}

	return false;
}

export function fade(color, opacity) {
	return `color-mix(in oklch, var(${color}), transparent ${100 - opacity}%)`;
}

export function docMain() {
	return document.body.querySelector("main");
}

export function debounce(fn, delay) {
	let timeout_id = null;
	let resolve_callback = null;

	// Create a promise that we'll resolve when the debounced function actually executes
	const debounced = (...args) => {
		if (timeout_id) {
			clearTimeout(timeout_id);
		}

		// Create new promise for this call
		debounced.callback = new Promise((resolve) => {
			resolve_callback = resolve;
		});

		timeout_id = window.setTimeout(() => {
			const result = fn.apply(null, args);
			if (resolve_callback) {
				resolve_callback(result);
			}
			timeout_id = null;
		}, delay);

		return debounced.callback;
	};

	// Attach the promise as a property of the function
	debounced.callback = Promise.resolve();

	// Add cancel method
	debounced.cancel = () => {
		if (timeout_id) {
			clearTimeout(timeout_id);
			timeout_id = null;
		}
	};

	return debounced;
}

export function tryCatch(func) {
	try {
		const result = func();
		// Check if the result is a promise
		if (result instanceof Promise) {
			// Return a promise that resolves to the tuple
			return result
				.then((resolved_result) => [resolved_result, null])
				.catch((error) => [null, error instanceof Error ? error : new Error(String(error))]);
		}
		// Return the tuple directly for synchronous results
		return [result, null];
	} catch (error) {
		return [null, error instanceof Error ? error : new Error(String(error))];
	}
}

export function isScrollable(element) {
	if (!element) return false;
	const style = window.getComputedStyle(element);
	const overflow_y = style.getPropertyValue("overflow-y");
	const overflow_x = style.getPropertyValue("overflow-x");
	return (
		(overflow_y === "scroll" || overflow_y === "auto" || overflow_x === "scroll" || overflow_x === "auto") &&
		(element.scrollHeight > element.clientHeight || element.scrollWidth > element.clientWidth)
	);
}

export function useGlobalStyles(styles) {
	// Skip if already added
	if (__added_styles.has(styles)) {
		return;
	}

	const sheet = createStyleSheet("global_styles");

	// Mark as added
	__added_styles.add(styles);

	// Remove comments and normalize whitespace
	const cleaned_css = styles
		.replace(/\/\*[\s\S]*?\*\//g, "") // Remove CSS comments
		.replace(/\s+/g, " ")
		.trim();

	// Parse the CSS into individual rules
	let rules = [];
	let current_rule = "";
	let brace_count = 0;

	for (let i = 0; i < cleaned_css.length; i++) {
		const char = cleaned_css[i];
		current_rule += char;

		if (char === "{") {
			brace_count++;
		} else if (char === "}") {
			brace_count--;

			// If we've closed a top-level rule
			if (brace_count === 0) {
				rules.push(current_rule.trim());
				current_rule = "";
			}
		}
	}

	// Insert each rule into the stylesheet
	for (const rule of rules) {
		try {
			sheet.insertRule(rule, sheet.cssRules.length);
		} catch (error) {
			console.error(`Failed to insert CSS rule: ${rule}`, error);
		}
	}
}

export function getAdoptedStyleSheet(id, type = "document") {
	const document_key = `${type}_${id}`;
	return __adopted_sheets.get(document_key);
}

export function createStyleSheet(id) {
	const document_key = `document_${id}`;

	let sheet = __adopted_sheets.get(document_key);

	if (!sheet || !document.adoptedStyleSheets.includes(sheet)) {
		sheet = new CSSStyleSheet();
		__adopted_sheets.set(document_key, sheet);
		document.adoptedStyleSheets.push(sheet);
	}

	return sheet;
}

export function createShadowStyleSheet(shadow_root, id) {
	const shadow_key = `shadow_${id}`;

	let sheet = __adopted_sheets.get(shadow_key);

	if (!sheet || !shadow_root.adoptedStyleSheets.includes(sheet)) {
		sheet = new CSSStyleSheet();
		__adopted_sheets.set(shadow_key, sheet);
		shadow_root.adoptedStyleSheets.push(sheet);
	}

	return sheet;
}

export function useShadowStyles(shadow_root, styles, id = "default") {
	// Create a unique key for this shadow root + styles combination
	const shadow_key = `shadow_${id}_${styles}`;

	// Skip if already added
	if (__added_styles.has(shadow_key)) {
		return createShadowStyleSheet(shadow_root, id);
	}

	const sheet = createShadowStyleSheet(shadow_root, id);

	// Mark as added
	__added_styles.add(shadow_key);

	// Clear existing rules
	while (sheet.cssRules.length > 0) {
		sheet.deleteRule(0);
	}

	// Same CSS parsing logic as useGlobalStyles...
	const cleaned_css = styles
		.replace(/\/\*[\s\S]*?\*\//g, "")
		.replace(/\s+/g, " ")
		.trim();

	let rules = [];
	let current_rule = "";
	let brace_count = 0;

	for (let i = 0; i < cleaned_css.length; i++) {
		const char = cleaned_css[i];
		current_rule += char;

		if (char === "{") {
			brace_count++;
		} else if (char === "}") {
			brace_count--;

			if (brace_count === 0) {
				rules.push(current_rule.trim());
				current_rule = "";
			}
		}
	}

	for (const rule of rules) {
		try {
			sheet.insertRule(rule, sheet.cssRules.length);
		} catch (error) {
			console.error(`Failed to insert CSS rule: ${rule}`, error);
		}
	}

	return sheet;
}

export function repeat(length, val) {
	return Array.from(
		{
			length,
		},
		() => val,
	);
}

export function throttle(func, wait) {
	let waiting = false;
	return function (...args) {
		if (!waiting) {
			func(...args);
			waiting = true;
			setTimeout(() => (waiting = false), wait);
		}
	};
}

export function finish(time = 0) {
	return new Promise((resolve) => setTimeout(resolve, time));
}

export function finishFrame() {
	return new Promise((resolve) => requestAnimationFrame(() => resolve()));
}

export function css(strings, ...values) {
	return strings.reduce((result, str, i) => result + str + (i < values.length ? values[i] : ""), "");
}

export function convertFromWindowsPath(path) {
	return path.replace(/\\/g, "/");
}

export function convertToWindowsPath(path) {
	return path.replace(/\//g, "\\");
}

export function isImageFile(ext) {
	const exts = ["jpg", "jpeg", "png", "gif", "webp"];
	return exts.includes(ext.toLowerCase());
}

export function getImageMediaType(filepath) {
	const ext = filepath.toLowerCase();
	if (ext.endsWith(".jpg") || ext.endsWith(".jpeg")) return "image/jpeg";
	if (ext.endsWith(".png")) return "image/png";
	if (ext.endsWith(".gif")) return "image/gif";
	if (ext.endsWith(".webp")) return "image/webp";
	return null;
}

export function isSoundFile(ext) {
	const exts = ["mp3", "wav", "ogg", "m4a", "aac", "flac", "wma", "aiff", "mid", "midi"];
	return exts.includes(ext.toLowerCase());
}

export function getFileLanguage(filename) {
	const extension = filename.split(".").pop()?.toLowerCase() || "";

	const language_map = {
		// Programming Languages
		js: "javascript",
		ts: "typescript",
		jsx: "javascript",
		tsx: "typescript",
		py: "python",
		cpp: "cpp",
		c: "c",
		h: "cpp",
		hpp: "cpp",
		cs: "csharp",
		java: "java",
		rb: "ruby",
		php: "php",
		go: "go",
		rs: "rust",
		swift: "swift",

		// Web Technologies
		html: "html",
		htm: "html",
		css: "css",
		scss: "scss",
		less: "less",
		json: "json",
		xml: "xml",
		svg: "xml",

		// Markup/Config
		md: "markdown",
		markdown: "markdown",
		yaml: "yaml",
		yml: "yaml",
		toml: "toml",
		ini: "ini",

		// Shell Scripts
		sh: "shell",
		bash: "shell",
		zsh: "shell",
		bat: "bat",
		cmd: "bat",

		// Game Development
		glsl: "glsl",
		frag: "glsl",
		vert: "glsl",
		shader: "glsl",

		// Data formats
		csv: "plaintext",
		txt: "plaintext",
		log: "plaintext",

		// Chat files
		chat: "markdown",
	};

	return language_map[extension] || "plaintext";
}

export function cn(...classes) {
	return classes
		.flatMap((cls) => {
			if (typeof cls === "string" || cls === undefined) {
				return cls;
			}
			if (Array.isArray(cls)) {
				return cls;
			}
			if (typeof cls === "object" && cls !== null) {
				return Object.entries(cls)
					.filter(([_, value]) => value)
					.map(([key, _]) => key);
			}
			return undefined;
		})
		.filter(Boolean)
		.join(" ");
}
</script>
		<script type="blob-module" name="@std/ima" remote="../modules/client/ima.js">//
// IMA (‰ªä) 0.7.0
// by fergarram
//

// A tiny immediate-mode inspired UI rendering engine.

//
// Index:
//

// ‚Äî Tags
// ‚Äî Reactive System
// ‚Äî Static Generation

//
// Tag Generation
//

export function useStaticTags() {
	return new Proxy({}, { get: staticTagGenerator });
}

export function useTags(options) {
	const is_static = typeof window === "undefined";

	// Handle backward compatibility - if options is a string, treat it as namespace
	const resolved_options = typeof options === "string" ? { namespace: options } : options || {};

	if (is_static) {
		return useStaticTags();
	} else {
		return new Proxy(
			{},
			{
				get: (target, tag) => tagGenerator(target, String(tag), resolved_options),
			},
		);
	}
}

//
// DOM Element Generation
//

if (typeof window === "undefined") {
	// In environments without DOM (like Bun/Node server-side), provide no-op versions
	// of the reactive functions to prevent errors
	const warn = () => console.warn("Trying to use client-side tags on server.");
	globalThis.document = {
		createElement: warn,
		createTextNode: warn,
		createComment: warn,
		createElementNS: warn,
	};
}

export function parseTagArgs(args) {
	let props = {};
	let children = args;
	let ref;
	let innerHTML;

	if (args.length > 0) {
		const first_arg = args[0];

		// If first argument is a string, number, HTMLElement, or function, all args are children
		if (
			typeof first_arg === "string" ||
			typeof first_arg === "number" ||
			(typeof window !== "undefined" && first_arg instanceof HTMLElement) ||
			typeof first_arg === "function"
		) {
			children = args;
		}
		// If first argument is a plain object, treat it as props
		else if (Object.getPrototypeOf(first_arg || 0) === Object.prototype) {
			const [props_arg, ...rest_args] = args;
			const { is, ref: prop_ref, innerHTML: prop_innerHTML, ...rest_props } = props_arg;
			props = rest_props;
			children = rest_args;
			ref = prop_ref;
			innerHTML = prop_innerHTML;
		}
	}

	return { props, children, ref, innerHTML };
}

export function tagGenerator(_, tag, options) {
	return (...args) => {
		const { props, children, ref, innerHTML } = parseTagArgs(args);

		const element = options?.namespace ? document.createElementNS(options.namespace, tag) : document.createElement(tag);

		if (ref) {
			ref.current = element;
		}

		// Handle props/attributes
		for (const [attr_key, value] of Object.entries(props)) {
			let processed_name = attr_key;
			let processed_value = value;

			// Apply custom attribute processing if provided
			if (options?.attr) {
				const result = options.attr(attr_key, value);
				processed_name = result.name;
				processed_value = result.value;
			}

			if (processed_name.startsWith("on") && typeof processed_value === "function") {
				const event_name = processed_name.substring(2).toLowerCase();
				element.addEventListener(event_name, processed_value);
				continue;
			}

			if (typeof processed_value === "function" && !processed_name.startsWith("on")) {
				setupReactiveAttr(element, processed_name, processed_value);
				continue;
			}

			if (processed_value === true) {
				element.setAttribute(processed_name, "true");
			} else if (processed_value === false) {
				element.setAttribute(processed_name, "false");
			} else if (processed_value !== null && processed_value !== undefined) {
				element.setAttribute(processed_name, String(processed_value));
			}
		}

		// Handle innerHTML - set it directly and skip processing children
		if (innerHTML !== undefined) {
			element.innerHTML = String(innerHTML);
			return element;
		}

		// Process children and append to element
		for (const child of children.flat(Infinity)) {
			if (child != null) {
				if (child instanceof Node) {
					element.appendChild(child);
				} else if (typeof child === "function") {
					const reactive_node = setupReactiveNode(child);
					element.appendChild(reactive_node);
				} else {
					element.appendChild(document.createTextNode(String(child)));
				}
			}
		}

		return element;
	};
}

//
// Reactive System
//

// Reactive nodes
const reactive_markers = [];
const reactive_callbacks = [];
const reactive_prev_values = [];
let reactive_node_count = 0;

// Reactive attributes
const reactive_attr_elements = [];
const reactive_attr_names = [];
const reactive_attr_callbacks = [];
const reactive_attr_prev_values = [];
let reactive_attr_count = 0;

let frame_time = 0;
let cleanup_counter = 0;

// Start the frame loop immediately
if (typeof window !== "undefined") {
	requestAnimationFrame(updateReactiveComponents);
}

function updateReactiveComponents() {
	// Start timing the update
	const start_time = performance.now();

	let found_disconnected_attrs = false;
	let found_disconnected_nodes = false;

	// Update reactive attributes
	for (let i = 0; i < reactive_attr_count; i++) {
		const element = reactive_attr_elements[i];

		// Track if we find disconnected elements
		if (!element || !element.isConnected) {
			found_disconnected_attrs = true;
			continue;
		}

		const attr_name = reactive_attr_names[i];
		const callback = reactive_attr_callbacks[i];

		if (!attr_name || !callback) continue;

		const new_value = callback();

		// Only update if value changed
		if (new_value !== reactive_attr_prev_values[i]) {
			if (new_value === true) {
				element.setAttribute(attr_name, "true");
			} else if (new_value === false) {
				element.setAttribute(attr_name, "false");
			} else if (new_value === null || new_value === undefined) {
				element.removeAttribute(attr_name);
			} else {
				element.setAttribute(attr_name, String(new_value));
			}

			reactive_attr_prev_values[i] = new_value;
		}
	}

	// Update reactive nodes
	for (let i = 0; i < reactive_node_count; i++) {
		const marker = reactive_markers[i];

		// Track if we find disconnected markers
		if (!marker || !marker.isConnected) {
			found_disconnected_nodes = true;
			continue;
		}

		const callback = reactive_callbacks[i];
		if (!callback) continue;

		const new_value = callback();

		// Get the current node (should be right before the marker)
		const current_node = marker.previousSibling;
		if (!current_node) continue;

		// Determine if we need to update based on content
		let needs_update = false;

		if (new_value instanceof Node) {
			if (current_node instanceof HTMLElement && new_value instanceof HTMLElement) {
				// For HTML elements, compare their HTML content
				if (current_node.outerHTML !== new_value.outerHTML) {
					needs_update = true;
				}
			} else {
				// For non-HTMLElements or mixed types, always update
				needs_update = true;
			}
		} else {
			// For text values, compare with current node
			const new_text = String(new_value || "");
			if (current_node.nodeType === Node.TEXT_NODE) {
				needs_update = current_node.textContent !== new_text;
			} else {
				needs_update = true; // Different node types
			}
		}

		// Only update DOM if needed
		if (needs_update) {
			let new_node;

			if (new_value instanceof Node) {
				new_node = new_value;
			} else {
				new_node = document.createTextNode(String(new_value || ""));
			}

			current_node.replaceWith(new_node);
		}
	}

	// Only perform cleanup if we found disconnected components
	if (found_disconnected_attrs || found_disconnected_nodes) {
		cleanup_counter++;
		if (cleanup_counter >= 60) {
			cleanup_counter = 0;
			cleanupDisconnectedReactives();
		}
	}

	// Calculate and store the time it took to update
	frame_time = performance.now() - start_time;

	// Always schedule the next frame
	requestAnimationFrame(updateReactiveComponents);
}

function cleanupDisconnectedReactives() {
	// Cleanup reactive nodes
	let write_index = 0;
	for (let read_index = 0; read_index < reactive_node_count; read_index++) {
		const marker = reactive_markers[read_index];
		const callback = reactive_callbacks[read_index];
		const prev_value = reactive_prev_values[read_index];

		// Keep if marker is still connected
		if (marker && marker.isConnected) {
			if (write_index !== read_index) {
				reactive_markers[write_index] = marker;
				reactive_callbacks[write_index] = callback;
				reactive_prev_values[write_index] = prev_value;
			}
			write_index++;
		}
	}

	// Clear the remaining slots and update count
	for (let i = write_index; i < reactive_node_count; i++) {
		reactive_markers[i] = null;
		reactive_callbacks[i] = null;
		reactive_prev_values[i] = null;
	}
	reactive_node_count = write_index;

	// Cleanup reactive attributes
	write_index = 0;
	for (let read_index = 0; read_index < reactive_attr_count; read_index++) {
		const element = reactive_attr_elements[read_index];
		const attr_name = reactive_attr_names[read_index];
		const callback = reactive_attr_callbacks[read_index];
		const prev_value = reactive_attr_prev_values[read_index];

		// Keep if element is still connected
		if (element && element.isConnected) {
			if (write_index !== read_index) {
				reactive_attr_elements[write_index] = element;
				reactive_attr_names[write_index] = attr_name;
				reactive_attr_callbacks[write_index] = callback;
				reactive_attr_prev_values[write_index] = prev_value;
			}
			write_index++;
		}
	}

	// Clear the remaining slots and update count
	for (let i = write_index; i < reactive_attr_count; i++) {
		reactive_attr_elements[i] = null;
		reactive_attr_names[i] = null;
		reactive_attr_callbacks[i] = null;
		reactive_attr_prev_values[i] = undefined;
	}
	reactive_attr_count = write_index;
}

export function getFrameTime() {
	return frame_time;
}

function setupReactiveNode(callback) {
	const node_index = reactive_node_count++;

	// Create a marker comment node
	const marker = document.createComment(`reactive-${node_index}`);

	// Get initial value
	const initial_value = callback();

	// Create the initial node
	let initial_node;

	if (initial_value instanceof Node) {
		initial_node = initial_value;
	} else {
		initial_node = document.createTextNode(String(initial_value || ""));
	}

	// Create a fragment to hold both the marker and the content
	const fragment = document.createDocumentFragment();
	fragment.appendChild(initial_node);
	fragment.appendChild(marker);

	// Store reactive data
	reactive_markers[node_index] = marker;
	reactive_callbacks[node_index] = callback;
	reactive_prev_values[node_index] = initial_node;

	return fragment;
}

function setupReactiveAttr(element, attr_name, callback) {
	const attr_index = reactive_attr_count++;

	// Initialize with current value
	const initial_value = callback();

	// Set the initial attribute value
	if (initial_value === true) {
		element.setAttribute(attr_name, "true");
	} else if (initial_value === false) {
		element.setAttribute(attr_name, "false");
	} else if (initial_value !== null && initial_value !== undefined) {
		element.setAttribute(attr_name, String(initial_value));
	}

	// Store references
	reactive_attr_elements[attr_index] = element;
	reactive_attr_names[attr_index] = attr_name;
	reactive_attr_callbacks[attr_index] = callback;
	reactive_attr_prev_values[attr_index] = initial_value;
}

//
// Static Generation
//

// Void elements that are self-closing
const VOID_ELEMENTS = new Set([
	"area",
	"base",
	"br",
	"col",
	"embed",
	"hr",
	"img",
	"input",
	"link",
	"meta",
	"param",
	"source",
	"track",
	"wbr",
]);

export function escapeHtml(value) {
	return value
		.replace(/&/g, "&amp;")
		.replace(/"/g, "&quot;")
		.replace(/'/g, "&#39;")
		.replace(/</g, "&lt;")
		.replace(/>/g, "&gt;");
}

export function buildAttributesHtml(props) {
	let html = "";

	for (const [key, value] of Object.entries(props)) {
		// Skip event handlers and functions
		if (key.startsWith("on") || typeof value === "function") {
			continue;
		}
		// Regular attributes
		if (value === true) {
			html += ` ${key}`;
		} else if (value !== false && value != null) {
			html += ` ${key}="${escapeHtml(String(value))}"`;
		}
	}

	return html;
}

function staticTagGenerator(_, tag) {
	return (...args) => {
		const { props, children, innerHTML } = parseTagArgs(args);

		// Start building the HTML string
		let html = `<${tag}${buildAttributesHtml(props)}`;

		// Self-closing tags
		if (VOID_ELEMENTS.has(tag)) {
			return html + "/>";
		}

		html += ">";

		// Handle innerHTML - if present, ignore children and use innerHTML instead
		if (innerHTML !== undefined) {
			const inner_html_content = typeof innerHTML === "function" ? innerHTML() : innerHTML;
			html += String(inner_html_content);
			return html + `</${tag}>`;
		}

		// Process children
		for (const child of children.flat(Infinity)) {
			if (child != null) {
				if (typeof child === "function") {
					// Resolve function children
					html += String(child());
				} else {
					// Don't escape HTML content - treat it as raw HTML
					html += String(child);
				}
			}
		}

		return html + `</${tag}>`;
	};
}
</script>
		<script type="blob-module" name="@std/ima-utils" remote="../modules/client/ima-utils.js">//
// IMA Utils
//

// Extra utils for working with IMA
// by fergarram
//

import { useTags } from "@std/ima";
import { stringToBase64, createStyleSheet, getAdoptedStyleSheet, createShadowStyleSheet } from "@std/utils";

export function useStyledTags(opts) {
	return useTags({
		...opts,
		attr(name, value) {
			if (name === "styles") {
				// Use CSS as key
				const key = stringToBase64(value);
				const processed_css = value.replaceAll("&", `[styles-key="${key}"]`);

				if (opts && opts.shadow_root) {
					const shadow_root = typeof opts.shadow_root === "function" ? opts.shadow_root() : opts.shadow_root;
					const sheet_exists = getAdoptedStyleSheet(key, "shadow");
					if (!sheet_exists) {
						const sheet = createShadowStyleSheet(shadow_root, key);
						sheet.replaceSync(processed_css);
					}
				} else {
					const sheet_exists = getAdoptedStyleSheet(key);
					if (!sheet_exists) {
						const sheet = createStyleSheet(key);
						sheet.replaceSync(processed_css);
					}
				}

				return {
					name: "styles-key",
					value: key,
				};
			}

			// Return default for other attributes
			return opts && opts.attr ? opts.attr(name, value) : { name, value };
		},
	});
}

export function useCustomStyledTag(tag_name, definition, opts) {
	return useCustomTag(tag_name, definition, {
		...opts,
		use_styles: true,
	});
}

export function useCustomTag(tag_name, definition, opts) {
	if (!customElements.get(tag_name)) {
		customElements.define(
			tag_name,
			class extends HTMLElement {
				static observedAttributes = definition.attrs ?? [];
				#connected;
				#disconnected;
				#adopted;
				#attributeChanged;

				constructor() {
					super();

					const ac = new AbortController();
					const $listen = (evt, handler, options = true) => {
						let defaultOptions = { signal: ac.signal };
						if (typeof options === "boolean") {
							defaultOptions.capture = options;
						} else {
							defaultOptions = Object.assign(options, defaultOptions);
						}
						this.addEventListener(evt, handler, defaultOptions);
					};

					this.ac = ac;

					const { connected, disconnected, adopted, attributeChanged } = definition.apply(this, [{ $listen }]) ?? {};

					this.#connected = connected?.bind(this);
					this.#disconnected = disconnected?.bind(this);
					this.#adopted = adopted?.bind(this);
					this.#attributeChanged = attributeChanged?.bind(this);
				}

				connectedCallback() {
					this.#connected?.();
				}

				disconnectedCallback() {
					this.#disconnected?.();
					this.ac.abort();
				}

				adoptedCallback() {
					this.#adopted?.();
				}

				attributeChangedCallback(...args) {
					this.#attributeChanged?.(...args);
				}
			},
		);

		if (opts && opts.use_styles) {
			delete opts.use_styles;
			return useStyledTags(opts)[tag_name];
		} else {
			return useTags(opts)[tag_name];
		}
	}
}
</script>
		<script type="blob-module" name="codemirror" remote="../modules/client/codemirror.js">var LK=Object.defineProperty;var Q5=(Z,$)=>{for(var J in $)LK(Z,J,{get:$[J],enumerable:!0,configurable:!0,set:(X)=>$[J]=()=>X})};var m1={};Q5(m1,{minimalSetup:()=>Wz,basicSetup:()=>qz,EditorView:()=>L});var $8={};Q5($8,{tooltips:()=>PU,showTooltip:()=>L5,showPanel:()=>D0,showDialog:()=>mU,scrollPastEnd:()=>DU,runScopeHandlers:()=>l4,repositionTooltips:()=>hU,rectangularSelection:()=>i4,placeholder:()=>AU,panels:()=>vU,logException:()=>W9,lineNumbers:()=>e4,lineNumberWidgetMarker:()=>vJ,lineNumberMarkers:()=>hJ,layer:()=>d4,keymap:()=>y0,hoverTooltip:()=>r4,highlightWhitespace:()=>rU,highlightTrailingWhitespace:()=>tU,highlightSpecialChars:()=>BZ,highlightActiveLineGutter:()=>Z8,highlightActiveLine:()=>s4,hasHoverTooltips:()=>xU,gutters:()=>o4,gutterWidgetClass:()=>xJ,gutterLineClass:()=>K7,gutter:()=>CZ,getTooltip:()=>TZ,getPanel:()=>F0,getDrawSelectionConfig:()=>QU,getDialog:()=>uU,dropCursor:()=>c4,drawSelection:()=>LZ,crosshairCursor:()=>n4,closeHoverTooltips:()=>wU,__test:()=>eU,WidgetType:()=>L9,ViewUpdate:()=>W7,ViewPlugin:()=>c,RectangleMarker:()=>M5,MatchDecorator:()=>H7,GutterMarker:()=>v9,EditorView:()=>L,Direction:()=>l,Decoration:()=>T,BlockType:()=>R9,BlockInfo:()=>o9,BidiSpan:()=>Q0});var r3={};Q5(r3,{fromCodePoint:()=>_5,findColumn:()=>i5,findClusterBreak:()=>X9,countColumn:()=>Y0,combineConfig:()=>j9,codePointSize:()=>E9,codePointAt:()=>q9,Transaction:()=>Z9,Text:()=>h,StateField:()=>t,StateEffectType:()=>i3,StateEffect:()=>S,SelectionRange:()=>E0,RangeValue:()=>a9,RangeSetBuilder:()=>M9,RangeSet:()=>w,Range:()=>j5,Prec:()=>P9,MapMode:()=>Q9,Line:()=>p3,Facet:()=>B,EditorState:()=>m,EditorSelection:()=>F,Compartment:()=>s5,CharCategory:()=>u,ChangeSet:()=>J9,ChangeDesc:()=>l9,AnnotationType:()=>s3,Annotation:()=>T9});var C3=[],Z$=[];(()=>{let Z="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(($)=>$?parseInt($,36):1);for(let $=0,J=0;$<Z.length;$++)($%2?Z$:C3).push(J=J+Z[$])})();function BK(Z){if(Z<768)return!1;for(let $=0,J=C3.length;;){let X=$+J>>1;if(Z<C3[X])J=X;else if(Z>=Z$[X])$=X+1;else return!0;if($==J)return!1}}function o1(Z){return Z>=127462&&Z<=127487}var t1=8205;function $$(Z,$,J=!0,X=!0){return(J?J$:EK)(Z,$,X)}function J$(Z,$,J){if($==Z.length)return $;if($&&X$(Z.charCodeAt($))&&Y$(Z.charCodeAt($-1)))$--;let X=T3(Z,$);$+=e1(X);while($<Z.length){let Y=T3(Z,$);if(X==t1||Y==t1||J&&BK(Y))$+=e1(Y),X=Y;else if(o1(Y)){let K=0,Q=$-2;while(Q>=0&&o1(T3(Z,Q)))K++,Q-=2;if(K%2==0)break;else $+=2}else break}return $}function EK(Z,$,J){while($>0){let X=J$(Z,$-2,J);if(X<$)return X;$--}return 0}function T3(Z,$){let J=Z.charCodeAt($);if(!Y$(J)||$+1==Z.length)return J;let X=Z.charCodeAt($+1);if(!X$(X))return J;return(J-55296<<10)+(X-56320)+65536}function X$(Z){return Z>=56320&&Z<57344}function Y$(Z){return Z>=55296&&Z<56320}function e1(Z){return Z<65536?1:2}class h{lineAt(Z){if(Z<0||Z>this.length)throw new RangeError(`Invalid position ${Z} in document of length ${this.length}`);return this.lineInner(Z,!1,1,0)}line(Z){if(Z<1||Z>this.lines)throw new RangeError(`Invalid line number ${Z} in ${this.lines}-line document`);return this.lineInner(Z,!0,1,0)}replace(Z,$,J){[Z,$]=G5(this,Z,$);let X=[];if(this.decompose(0,Z,X,2),J.length)J.decompose(0,J.length,X,3);return this.decompose($,this.length,X,1),X0.from(X,this.length-($-Z)+J.length)}append(Z){return this.replace(this.length,this.length,Z)}slice(Z,$=this.length){[Z,$]=G5(this,Z,$);let J=[];return this.decompose(Z,$,J,0),X0.from(J,$-Z)}eq(Z){if(Z==this)return!0;if(Z.length!=this.length||Z.lines!=this.lines)return!1;let $=this.scanIdentical(Z,1),J=this.length-this.scanIdentical(Z,-1),X=new q5(this),Y=new q5(Z);for(let K=$,Q=$;;){if(X.next(K),Y.next(K),K=0,X.lineBreak!=Y.lineBreak||X.done!=Y.done||X.value!=Y.value)return!1;if(Q+=X.value.length,X.done||Q>=J)return!0}}iter(Z=1){return new q5(this,Z)}iterRange(Z,$=this.length){return new g3(this,Z,$)}iterLines(Z,$){let J;if(Z==null)J=this.iter();else{if($==null)$=this.lines+1;let X=this.line(Z).from;J=this.iterRange(X,Math.max(X,$==this.lines+1?this.length:$<=1?0:this.line($-1).to))}return new f3(J)}toString(){return this.sliceString(0)}toJSON(){let Z=[];return this.flatten(Z),Z}constructor(){}static of(Z){if(Z.length==0)throw new RangeError("A document must have at least one line");if(Z.length==1&&!Z[0])return h.empty;return Z.length<=32?new K9(Z):X0.from(K9.split(Z,[]))}}class K9 extends h{constructor(Z,$=PK(Z)){super();this.text=Z,this.length=$}get lines(){return this.text.length}get children(){return null}lineInner(Z,$,J,X){for(let Y=0;;Y++){let K=this.text[Y],Q=X+K.length;if(($?J:Q)>=Z)return new p3(X,Q,J,K);X=Q+1,J++}}decompose(Z,$,J,X){let Y=Z<=0&&$>=this.length?this:new K9(K$(this.text,Z,$),Math.min($,this.length)-Math.max(0,Z));if(X&1){let K=J.pop(),Q=i7(Y.text,K.text.slice(),0,Y.length);if(Q.length<=32)J.push(new K9(Q,K.length+Y.length));else{let U=Q.length>>1;J.push(new K9(Q.slice(0,U)),new K9(Q.slice(U)))}}else J.push(Y)}replace(Z,$,J){if(!(J instanceof K9))return super.replace(Z,$,J);[Z,$]=G5(this,Z,$);let X=i7(this.text,i7(J.text,K$(this.text,0,Z)),$),Y=this.length+J.length-($-Z);if(X.length<=32)return new K9(X,Y);return X0.from(K9.split(X,[]),Y)}sliceString(Z,$=this.length,J=`
`){[Z,$]=G5(this,Z,$);let X="";for(let Y=0,K=0;Y<=$&&K<this.text.length;K++){let Q=this.text[K],U=Y+Q.length;if(Y>Z&&K)X+=J;if(Z<U&&$>Y)X+=Q.slice(Math.max(0,Z-Y),$-Y);Y=U+1}return X}flatten(Z){for(let $ of this.text)Z.push($)}scanIdentical(){return 0}static split(Z,$){let J=[],X=-1;for(let Y of Z)if(J.push(Y),X+=Y.length+1,J.length==32)$.push(new K9(J,X)),J=[],X=-1;if(X>-1)$.push(new K9(J,X));return $}}class X0 extends h{constructor(Z,$){super();this.children=Z,this.length=$,this.lines=0;for(let J of Z)this.lines+=J.lines}lineInner(Z,$,J,X){for(let Y=0;;Y++){let K=this.children[Y],Q=X+K.length,U=J+K.lines-1;if(($?U:Q)>=Z)return K.lineInner(Z,$,J,X);X=Q+1,J=U+1}}decompose(Z,$,J,X){for(let Y=0,K=0;K<=$&&Y<this.children.length;Y++){let Q=this.children[Y],U=K+Q.length;if(Z<=U&&$>=K){let q=X&((K<=Z?1:0)|(U>=$?2:0));if(K>=Z&&U<=$&&!q)J.push(Q);else Q.decompose(Z-K,$-K,J,q)}K=U+1}}replace(Z,$,J){if([Z,$]=G5(this,Z,$),J.lines<this.lines)for(let X=0,Y=0;X<this.children.length;X++){let K=this.children[X],Q=Y+K.length;if(Z>=Y&&$<=Q){let U=K.replace(Z-Y,$-Y,J),q=this.lines-K.lines+U.lines;if(U.lines<q>>4&&U.lines>q>>6){let W=this.children.slice();return W[X]=U,new X0(W,this.length-($-Z)+J.length)}return super.replace(Y,Q,U)}Y=Q+1}return super.replace(Z,$,J)}sliceString(Z,$=this.length,J=`
`){[Z,$]=G5(this,Z,$);let X="";for(let Y=0,K=0;Y<this.children.length&&K<=$;Y++){let Q=this.children[Y],U=K+Q.length;if(K>Z&&Y)X+=J;if(Z<U&&$>K)X+=Q.sliceString(Z-K,$-K,J);K=U+1}return X}flatten(Z){for(let $ of this.children)$.flatten(Z)}scanIdentical(Z,$){if(!(Z instanceof X0))return 0;let J=0,[X,Y,K,Q]=$>0?[0,0,this.children.length,Z.children.length]:[this.children.length-1,Z.children.length-1,-1,-1];for(;;X+=$,Y+=$){if(X==K||Y==Q)return J;let U=this.children[X],q=Z.children[Y];if(U!=q)return J+U.scanIdentical(q,$);J+=U.length+1}}static from(Z,$=Z.reduce((J,X)=>J+X.length+1,-1)){let J=0;for(let j of Z)J+=j.lines;if(J<32){let j=[];for(let _ of Z)_.flatten(j);return new K9(j,$)}let X=Math.max(32,J>>5),Y=X<<1,K=X>>1,Q=[],U=0,q=-1,W=[];function G(j){let _;if(j.lines>Y&&j instanceof X0)for(let O of j.children)G(O);else if(j.lines>K&&(U>K||!U))z(),Q.push(j);else if(j instanceof K9&&U&&(_=W[W.length-1])instanceof K9&&j.lines+_.lines<=32)U+=j.lines,q+=j.length+1,W[W.length-1]=new K9(_.text.concat(j.text),_.length+1+j.length);else{if(U+j.lines>X)z();U+=j.lines,q+=j.length+1,W.push(j)}}function z(){if(U==0)return;Q.push(W.length==1?W[0]:X0.from(W,q)),q=-1,U=W.length=0}for(let j of Z)G(j);return z(),Q.length==1?Q[0]:new X0(Q,$)}}h.empty=new K9([""],0);function PK(Z){let $=-1;for(let J of Z)$+=J.length+1;return $}function i7(Z,$,J=0,X=1e9){for(let Y=0,K=0,Q=!0;K<Z.length&&Y<=X;K++){let U=Z[K],q=Y+U.length;if(q>=J){if(q>X)U=U.slice(0,X-Y);if(Y<J)U=U.slice(J-Y);if(Q)$[$.length-1]+=U,Q=!1;else $.push(U)}Y=q+1}return $}function K$(Z,$,J){return i7(Z,[""],$,J)}class q5{constructor(Z,$=1){this.dir=$,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[Z],this.offsets=[$>0?1:(Z instanceof K9?Z.text.length:Z.children.length)<<1]}nextInner(Z,$){this.done=this.lineBreak=!1;for(;;){let J=this.nodes.length-1,X=this.nodes[J],Y=this.offsets[J],K=Y>>1,Q=X instanceof K9?X.text.length:X.children.length;if(K==($>0?Q:0)){if(J==0)return this.done=!0,this.value="",this;if($>0)this.offsets[J-1]++;this.nodes.pop(),this.offsets.pop()}else if((Y&1)==($>0?0:1)){if(this.offsets[J]+=$,Z==0)return this.lineBreak=!0,this.value=`
`,this;Z--}else if(X instanceof K9){let U=X.text[K+($<0?-1:0)];if(this.offsets[J]+=$,U.length>Math.max(0,Z))return this.value=Z==0?U:$>0?U.slice(Z):U.slice(0,U.length-Z),this;Z-=U.length}else{let U=X.children[K+($<0?-1:0)];if(Z>U.length)Z-=U.length,this.offsets[J]+=$;else{if($<0)this.offsets[J]--;this.nodes.push(U),this.offsets.push($>0?1:(U instanceof K9?U.text.length:U.children.length)<<1)}}}}next(Z=0){if(Z<0)this.nextInner(-Z,-this.dir),Z=this.value.length;return this.nextInner(Z,this.dir)}}class g3{constructor(Z,$,J){this.value="",this.done=!1,this.cursor=new q5(Z,$>J?-1:1),this.pos=$>J?Z.length:0,this.from=Math.min($,J),this.to=Math.max($,J)}nextInner(Z,$){if($<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;Z+=Math.max(0,$<0?this.pos-this.to:this.from-this.pos);let J=$<0?this.pos-this.from:this.to-this.pos;if(Z>J)Z=J;J-=Z;let{value:X}=this.cursor.next(Z);return this.pos+=(X.length+Z)*$,this.value=X.length<=J?X:$<0?X.slice(X.length-J):X.slice(0,J),this.done=!this.value,this}next(Z=0){if(Z<0)Z=Math.max(Z,this.from-this.pos);else if(Z>0)Z=Math.min(Z,this.to-this.pos);return this.nextInner(Z,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class f3{constructor(Z){this.inner=Z,this.afterBreak=!0,this.value="",this.done=!1}next(Z=0){let{done:$,lineBreak:J,value:X}=this.inner.next(Z);if($&&this.afterBreak)this.value="",this.afterBreak=!1;else if($)this.done=!0,this.value="";else if(J)if(this.afterBreak)this.value="";else this.afterBreak=!0,this.next();else this.value=X,this.afterBreak=!1;return this}get lineBreak(){return!1}}if(typeof Symbol!="undefined")h.prototype[Symbol.iterator]=function(){return this.iter()},q5.prototype[Symbol.iterator]=g3.prototype[Symbol.iterator]=f3.prototype[Symbol.iterator]=function(){return this};class p3{constructor(Z,$,J,X){this.from=Z,this.to=$,this.number=J,this.text=X}get length(){return this.to-this.from}}function G5(Z,$,J){return $=Math.max(0,Math.min(Z.length,$)),[$,Math.max($,Math.min(Z.length,J))]}function X9(Z,$,J=!0,X=!0){return $$(Z,$,J,X)}function TK(Z){return Z>=56320&&Z<57344}function CK(Z){return Z>=55296&&Z<56320}function q9(Z,$){let J=Z.charCodeAt($);if(!CK(J)||$+1==Z.length)return J;let X=Z.charCodeAt($+1);if(!TK(X))return J;return(J-55296<<10)+(X-56320)+65536}function _5(Z){if(Z<=65535)return String.fromCharCode(Z);return Z-=65536,String.fromCharCode((Z>>10)+55296,(Z&1023)+56320)}function E9(Z){return Z<65536?1:2}var S3=/\r\n?|\n/,Q9=function(Z){return Z[Z.Simple=0]="Simple",Z[Z.TrackDel=1]="TrackDel",Z[Z.TrackBefore=2]="TrackBefore",Z[Z.TrackAfter=3]="TrackAfter",Z}(Q9||(Q9={}));class l9{constructor(Z){this.sections=Z}get length(){let Z=0;for(let $=0;$<this.sections.length;$+=2)Z+=this.sections[$];return Z}get newLength(){let Z=0;for(let $=0;$<this.sections.length;$+=2){let J=this.sections[$+1];Z+=J<0?this.sections[$]:J}return Z}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(Z){for(let $=0,J=0,X=0;$<this.sections.length;){let Y=this.sections[$++],K=this.sections[$++];if(K<0)Z(J,X,Y),X+=Y;else X+=K;J+=Y}}iterChangedRanges(Z,$=!1){k3(this,Z,$)}get invertedDesc(){let Z=[];for(let $=0;$<this.sections.length;){let J=this.sections[$++],X=this.sections[$++];if(X<0)Z.push(J,X);else Z.push(X,J)}return new l9(Z)}composeDesc(Z){return this.empty?Z:Z.empty?this:G$(this,Z)}mapDesc(Z,$=!1){return Z.empty?this:b3(this,Z,$)}mapPos(Z,$=-1,J=Q9.Simple){let X=0,Y=0;for(let K=0;K<this.sections.length;){let Q=this.sections[K++],U=this.sections[K++],q=X+Q;if(U<0){if(q>Z)return Y+(Z-X);Y+=Q}else{if(J!=Q9.Simple&&q>=Z&&(J==Q9.TrackDel&&X<Z&&q>Z||J==Q9.TrackBefore&&X<Z||J==Q9.TrackAfter&&q>Z))return null;if(q>Z||q==Z&&$<0&&!Q)return Z==X||$<0?Y:Y+U;Y+=U}X=q}if(Z>X)throw new RangeError(`Position ${Z} is out of range for changeset of length ${X}`);return Y}touchesRange(Z,$=Z){for(let J=0,X=0;J<this.sections.length&&X<=$;){let Y=this.sections[J++],K=this.sections[J++],Q=X+Y;if(K>=0&&X<=$&&Q>=Z)return X<Z&&Q>$?"cover":!0;X=Q}return!1}toString(){let Z="";for(let $=0;$<this.sections.length;){let J=this.sections[$++],X=this.sections[$++];Z+=(Z?" ":"")+J+(X>=0?":"+X:"")}return Z}toJSON(){return this.sections}static fromJSON(Z){if(!Array.isArray(Z)||Z.length%2||Z.some(($)=>typeof $!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new l9(Z)}static create(Z){return new l9(Z)}}class J9 extends l9{constructor(Z,$){super(Z);this.inserted=$}apply(Z){if(this.length!=Z.length)throw new RangeError("Applying change set to a document with the wrong length");return k3(this,($,J,X,Y,K)=>Z=Z.replace(X,X+(J-$),K),!1),Z}mapDesc(Z,$=!1){return b3(this,Z,$,!0)}invert(Z){let $=this.sections.slice(),J=[];for(let X=0,Y=0;X<$.length;X+=2){let K=$[X],Q=$[X+1];if(Q>=0){$[X]=Q,$[X+1]=K;let U=X>>1;while(J.length<U)J.push(h.empty);J.push(K?Z.slice(Y,Y+K):h.empty)}Y+=K}return new J9($,J)}compose(Z){return this.empty?Z:Z.empty?this:G$(this,Z,!0)}map(Z,$=!1){return Z.empty?this:b3(this,Z,$,!0)}iterChanges(Z,$=!1){k3(this,Z,$)}get desc(){return l9.create(this.sections)}filter(Z){let $=[],J=[],X=[],Y=new z5(this);Z:for(let K=0,Q=0;;){let U=K==Z.length?1e9:Z[K++];while(Q<U||Q==U&&Y.len==0){if(Y.done)break Z;let W=Math.min(Y.len,U-Q);H9(X,W,-1);let G=Y.ins==-1?-1:Y.off==0?Y.ins:0;if(H9($,W,G),G>0)B0(J,$,Y.text);Y.forward(W),Q+=W}let q=Z[K++];while(Q<q){if(Y.done)break Z;let W=Math.min(Y.len,q-Q);H9($,W,-1),H9(X,W,Y.ins==-1?-1:Y.off==0?Y.ins:0),Y.forward(W),Q+=W}}return{changes:new J9($,J),filtered:l9.create(X)}}toJSON(){let Z=[];for(let $=0;$<this.sections.length;$+=2){let J=this.sections[$],X=this.sections[$+1];if(X<0)Z.push(J);else if(X==0)Z.push([J]);else Z.push([J].concat(this.inserted[$>>1].toJSON()))}return Z}static of(Z,$,J){let X=[],Y=[],K=0,Q=null;function U(W=!1){if(!W&&!X.length)return;if(K<$)H9(X,$-K,-1);let G=new J9(X,Y);Q=Q?Q.compose(G.map(Q)):G,X=[],Y=[],K=0}function q(W){if(Array.isArray(W))for(let G of W)q(G);else if(W instanceof J9){if(W.length!=$)throw new RangeError(`Mismatched change set length (got ${W.length}, expected ${$})`);U(),Q=Q?Q.compose(W.map(Q)):W}else{let{from:G,to:z=G,insert:j}=W;if(G>z||G<0||z>$)throw new RangeError(`Invalid change range ${G} to ${z} (in doc of length ${$})`);let _=!j?h.empty:typeof j=="string"?h.of(j.split(J||S3)):j,O=_.length;if(G==z&&O==0)return;if(G<K)U();if(G>K)H9(X,G-K,-1);H9(X,z-G,O),B0(Y,X,_),K=z}}return q(Z),U(!Q),Q}static empty(Z){return new J9(Z?[Z,-1]:[],[])}static fromJSON(Z){if(!Array.isArray(Z))throw new RangeError("Invalid JSON representation of ChangeSet");let $=[],J=[];for(let X=0;X<Z.length;X++){let Y=Z[X];if(typeof Y=="number")$.push(Y,-1);else if(!Array.isArray(Y)||typeof Y[0]!="number"||Y.some((K,Q)=>Q&&typeof K!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");else if(Y.length==1)$.push(Y[0],0);else{while(J.length<X)J.push(h.empty);J[X]=h.of(Y.slice(1)),$.push(Y[0],J[X].length)}}return new J9($,J)}static createSet(Z,$){return new J9(Z,$)}}function H9(Z,$,J,X=!1){if($==0&&J<=0)return;let Y=Z.length-2;if(Y>=0&&J<=0&&J==Z[Y+1])Z[Y]+=$;else if(Y>=0&&$==0&&Z[Y]==0)Z[Y+1]+=J;else if(X)Z[Y]+=$,Z[Y+1]+=J;else Z.push($,J)}function B0(Z,$,J){if(J.length==0)return;let X=$.length-2>>1;if(X<Z.length)Z[Z.length-1]=Z[Z.length-1].append(J);else{while(Z.length<X)Z.push(h.empty);Z.push(J)}}function k3(Z,$,J){let X=Z.inserted;for(let Y=0,K=0,Q=0;Q<Z.sections.length;){let U=Z.sections[Q++],q=Z.sections[Q++];if(q<0)Y+=U,K+=U;else{let W=Y,G=K,z=h.empty;for(;;){if(W+=U,G+=q,q&&X)z=z.append(X[Q-2>>1]);if(J||Q==Z.sections.length||Z.sections[Q+1]<0)break;U=Z.sections[Q++],q=Z.sections[Q++]}$(Y,W,K,G,z),Y=W,K=G}}}function b3(Z,$,J,X=!1){let Y=[],K=X?[]:null,Q=new z5(Z),U=new z5($);for(let q=-1;;)if(Q.done&&U.len||U.done&&Q.len)throw new Error("Mismatched change set lengths");else if(Q.ins==-1&&U.ins==-1){let W=Math.min(Q.len,U.len);H9(Y,W,-1),Q.forward(W),U.forward(W)}else if(U.ins>=0&&(Q.ins<0||q==Q.i||Q.off==0&&(U.len<Q.len||U.len==Q.len&&!J))){let W=U.len;H9(Y,U.ins,-1);while(W){let G=Math.min(Q.len,W);if(Q.ins>=0&&q<Q.i&&Q.len<=G){if(H9(Y,0,Q.ins),K)B0(K,Y,Q.text);q=Q.i}Q.forward(G),W-=G}U.next()}else if(Q.ins>=0){let W=0,G=Q.len;while(G)if(U.ins==-1){let z=Math.min(G,U.len);W+=z,G-=z,U.forward(z)}else if(U.ins==0&&U.len<G)G-=U.len,U.next();else break;if(H9(Y,W,q<Q.i?Q.ins:0),K&&q<Q.i)B0(K,Y,Q.text);q=Q.i,Q.forward(Q.len-G)}else if(Q.done&&U.done)return K?J9.createSet(Y,K):l9.create(Y);else throw new Error("Mismatched change set lengths")}function G$(Z,$,J=!1){let X=[],Y=J?[]:null,K=new z5(Z),Q=new z5($);for(let U=!1;;)if(K.done&&Q.done)return Y?J9.createSet(X,Y):l9.create(X);else if(K.ins==0)H9(X,K.len,0,U),K.next();else if(Q.len==0&&!Q.done){if(H9(X,0,Q.ins,U),Y)B0(Y,X,Q.text);Q.next()}else if(K.done||Q.done)throw new Error("Mismatched change set lengths");else{let q=Math.min(K.len2,Q.len),W=X.length;if(K.ins==-1){let G=Q.ins==-1?-1:Q.off?0:Q.ins;if(H9(X,q,G,U),Y&&G)B0(Y,X,Q.text)}else if(Q.ins==-1){if(H9(X,K.off?0:K.len,q,U),Y)B0(Y,X,K.textBit(q))}else if(H9(X,K.off?0:K.len,Q.off?0:Q.ins,U),Y&&!Q.off)B0(Y,X,Q.text);U=(K.ins>q||Q.ins>=0&&Q.len>q)&&(U||X.length>W),K.forward2(q),Q.forward(q)}}class z5{constructor(Z){this.set=Z,this.i=0,this.next()}next(){let{sections:Z}=this.set;if(this.i<Z.length)this.len=Z[this.i++],this.ins=Z[this.i++];else this.len=0,this.ins=-2;this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:Z}=this.set,$=this.i-2>>1;return $>=Z.length?h.empty:Z[$]}textBit(Z){let{inserted:$}=this.set,J=this.i-2>>1;return J>=$.length&&!Z?h.empty:$[J].slice(this.off,Z==null?void 0:this.off+Z)}forward(Z){if(Z==this.len)this.next();else this.len-=Z,this.off+=Z}forward2(Z){if(this.ins==-1)this.forward(Z);else if(Z==this.ins)this.next();else this.ins-=Z,this.off+=Z}}class E0{constructor(Z,$,J){this.from=Z,this.to=$,this.flags=J}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let Z=this.flags&7;return Z==7?null:Z}get goalColumn(){let Z=this.flags>>6;return Z==16777215?void 0:Z}map(Z,$=-1){let J,X;if(this.empty)J=X=Z.mapPos(this.from,$);else J=Z.mapPos(this.from,1),X=Z.mapPos(this.to,-1);return J==this.from&&X==this.to?this:new E0(J,X,this.flags)}extend(Z,$=Z){if(Z<=this.anchor&&$>=this.anchor)return F.range(Z,$);let J=Math.abs(Z-this.anchor)>Math.abs($-this.anchor)?Z:$;return F.range(this.anchor,J)}eq(Z,$=!1){return this.anchor==Z.anchor&&this.head==Z.head&&(!$||!this.empty||this.assoc==Z.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(Z){if(!Z||typeof Z.anchor!="number"||typeof Z.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return F.range(Z.anchor,Z.head)}static create(Z,$,J){return new E0(Z,$,J)}}class F{constructor(Z,$){this.ranges=Z,this.mainIndex=$}map(Z,$=-1){if(Z.empty)return this;return F.create(this.ranges.map((J)=>J.map(Z,$)),this.mainIndex)}eq(Z,$=!1){if(this.ranges.length!=Z.ranges.length||this.mainIndex!=Z.mainIndex)return!1;for(let J=0;J<this.ranges.length;J++)if(!this.ranges[J].eq(Z.ranges[J],$))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new F([this.main],0)}addRange(Z,$=!0){return F.create([Z].concat(this.ranges),$?0:this.mainIndex+1)}replaceRange(Z,$=this.mainIndex){let J=this.ranges.slice();return J[$]=Z,F.create(J,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((Z)=>Z.toJSON()),main:this.mainIndex}}static fromJSON(Z){if(!Z||!Array.isArray(Z.ranges)||typeof Z.main!="number"||Z.main>=Z.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new F(Z.ranges.map(($)=>E0.fromJSON($)),Z.main)}static single(Z,$=Z){return new F([F.range(Z,$)],0)}static create(Z,$=0){if(Z.length==0)throw new RangeError("A selection needs at least one range");for(let J=0,X=0;X<Z.length;X++){let Y=Z[X];if(Y.empty?Y.from<=J:Y.from<J)return F.normalized(Z.slice(),$);J=Y.to}return new F(Z,$)}static cursor(Z,$=0,J,X){return E0.create(Z,Z,($==0?0:$<0?8:16)|(J==null?7:Math.min(6,J))|(X!==null&&X!==void 0?X:16777215)<<6)}static range(Z,$,J,X){let Y=(J!==null&&J!==void 0?J:16777215)<<6|(X==null?7:Math.min(6,X));return $<Z?E0.create($,Z,48|Y):E0.create(Z,$,($>Z?8:0)|Y)}static normalized(Z,$=0){let J=Z[$];Z.sort((X,Y)=>X.from-Y.from),$=Z.indexOf(J);for(let X=1;X<Z.length;X++){let Y=Z[X],K=Z[X-1];if(Y.empty?Y.from<=K.to:Y.from<K.to){let Q=K.from,U=Math.max(Y.to,K.to);if(X<=$)$--;Z.splice(--X,2,Y.anchor>Y.head?F.range(U,Q):F.range(Q,U))}}return new F(Z,$)}}function z$(Z,$){for(let J of Z.ranges)if(J.to>$)throw new RangeError("Selection points outside of document")}var l3=0;class B{constructor(Z,$,J,X,Y){this.combine=Z,this.compareInput=$,this.compare=J,this.isStatic=X,this.id=l3++,this.default=Z([]),this.extensions=typeof Y=="function"?Y(this):Y}get reader(){return this}static define(Z={}){return new B(Z.combine||(($)=>$),Z.compareInput||(($,J)=>$===J),Z.compare||(!Z.combine?d3:($,J)=>$===J),!!Z.static,Z.enables)}of(Z){return new l5([],this,0,Z)}compute(Z,$){if(this.isStatic)throw new Error("Can't compute a static facet");return new l5(Z,this,1,$)}computeN(Z,$){if(this.isStatic)throw new Error("Can't compute a static facet");return new l5(Z,this,2,$)}from(Z,$){if(!$)$=(J)=>J;return this.compute([Z],(J)=>$(J.field(Z)))}}function d3(Z,$){return Z==$||Z.length==$.length&&Z.every((J,X)=>J===$[X])}class l5{constructor(Z,$,J,X){this.dependencies=Z,this.facet=$,this.type=J,this.value=X,this.id=l3++}dynamicSlot(Z){var $;let J=this.value,X=this.facet.compareInput,Y=this.id,K=Z[Y]>>1,Q=this.type==2,U=!1,q=!1,W=[];for(let G of this.dependencies)if(G=="doc")U=!0;else if(G=="selection")q=!0;else if(((($=Z[G.id])!==null&&$!==void 0?$:1)&1)==0)W.push(Z[G.id]);return{create(G){return G.values[K]=J(G),1},update(G,z){if(U&&z.docChanged||q&&(z.docChanged||z.selection)||x3(G,W)){let j=J(G);if(Q?!Q$(j,G.values[K],X):!X(j,G.values[K]))return G.values[K]=j,1}return 0},reconfigure:(G,z)=>{let j,_=z.config.address[Y];if(_!=null){let O=r7(z,_);if(this.dependencies.every((H)=>{return H instanceof B?z.facet(H)===G.facet(H):H instanceof t?z.field(H,!1)==G.field(H,!1):!0})||(Q?Q$(j=J(G),O,X):X(j=J(G),O)))return G.values[K]=O,0}else j=J(G);return G.values[K]=j,1}}}}function Q$(Z,$,J){if(Z.length!=$.length)return!1;for(let X=0;X<Z.length;X++)if(!J(Z[X],$[X]))return!1;return!0}function x3(Z,$){let J=!1;for(let X of $)if(d5(Z,X)&1)J=!0;return J}function yK(Z,$,J){let X=J.map((q)=>Z[q.id]),Y=J.map((q)=>q.type),K=X.filter((q)=>!(q&1)),Q=Z[$.id]>>1;function U(q){let W=[];for(let G=0;G<X.length;G++){let z=r7(q,X[G]);if(Y[G]==2)for(let j of z)W.push(j);else W.push(z)}return $.combine(W)}return{create(q){for(let W of X)d5(q,W);return q.values[Q]=U(q),1},update(q,W){if(!x3(q,K))return 0;let G=U(q);if($.compare(G,q.values[Q]))return 0;return q.values[Q]=G,1},reconfigure(q,W){let G=x3(q,X),z=W.config.facets[$.id],j=W.facet($);if(z&&!G&&d3(J,z))return q.values[Q]=j,0;let _=U(q);if($.compare(_,j))return q.values[Q]=j,0;return q.values[Q]=_,1}}}var d7=B.define({static:!0});class t{constructor(Z,$,J,X,Y){this.id=Z,this.createF=$,this.updateF=J,this.compareF=X,this.spec=Y,this.provides=void 0}static define(Z){let $=new t(l3++,Z.create,Z.update,Z.compare||((J,X)=>J===X),Z);if(Z.provide)$.provides=Z.provide($);return $}create(Z){let $=Z.facet(d7).find((J)=>J.field==this);return(($===null||$===void 0?void 0:$.create)||this.createF)(Z)}slot(Z){let $=Z[this.id]>>1;return{create:(J)=>{return J.values[$]=this.create(J),1},update:(J,X)=>{let Y=J.values[$],K=this.updateF(Y,X);if(this.compareF(Y,K))return 0;return J.values[$]=K,1},reconfigure:(J,X)=>{let Y=J.facet(d7),K=X.facet(d7),Q;if((Q=Y.find((U)=>U.field==this))&&Q!=K.find((U)=>U.field==this))return J.values[$]=Q.create(J),1;if(X.config.address[this.id]!=null)return J.values[$]=X.field(this),0;return J.values[$]=this.create(J),1}}}init(Z){return[this,d7.of({field:this,create:Z})]}get extension(){return this}}var f0={lowest:4,low:3,default:2,high:1,highest:0};function p5(Z){return($)=>new c3($,Z)}var P9={highest:p5(f0.highest),high:p5(f0.high),default:p5(f0.default),low:p5(f0.low),lowest:p5(f0.lowest)};class c3{constructor(Z,$){this.inner=Z,this.prec=$}}class s5{of(Z){return new n7(this,Z)}reconfigure(Z){return s5.reconfigure.of({compartment:this,extension:Z})}get(Z){return Z.config.compartments.get(this)}}class n7{constructor(Z,$){this.compartment=Z,this.inner=$}}class a7{constructor(Z,$,J,X,Y,K){this.base=Z,this.compartments=$,this.dynamicSlots=J,this.address=X,this.staticValues=Y,this.facets=K,this.statusTemplate=[];while(this.statusTemplate.length<J.length)this.statusTemplate.push(0)}staticFacet(Z){let $=this.address[Z.id];return $==null?Z.default:this.staticValues[$>>1]}static resolve(Z,$,J){let X=[],Y=Object.create(null),K=new Map;for(let z of SK(Z,$,K))if(z instanceof t)X.push(z);else(Y[z.facet.id]||(Y[z.facet.id]=[])).push(z);let Q=Object.create(null),U=[],q=[];for(let z of X)Q[z.id]=q.length<<1,q.push((j)=>z.slot(j));let W=J===null||J===void 0?void 0:J.config.facets;for(let z in Y){let j=Y[z],_=j[0].facet,O=W&&W[z]||[];if(j.every((H)=>H.type==0))if(Q[_.id]=U.length<<1|1,d3(O,j))U.push(J.facet(_));else{let H=_.combine(j.map((N)=>N.value));U.push(J&&_.compare(H,J.facet(_))?J.facet(_):H)}else{for(let H of j)if(H.type==0)Q[H.id]=U.length<<1|1,U.push(H.value);else Q[H.id]=q.length<<1,q.push((N)=>H.dynamicSlot(N));Q[_.id]=q.length<<1,q.push((H)=>yK(H,_,j))}}let G=q.map((z)=>z(Q));return new a7(Z,K,G,Q,U,Y)}}function SK(Z,$,J){let X=[[],[],[],[],[]],Y=new Map;function K(Q,U){let q=Y.get(Q);if(q!=null){if(q<=U)return;let W=X[q].indexOf(Q);if(W>-1)X[q].splice(W,1);if(Q instanceof n7)J.delete(Q.compartment)}if(Y.set(Q,U),Array.isArray(Q))for(let W of Q)K(W,U);else if(Q instanceof n7){if(J.has(Q.compartment))throw new RangeError("Duplicate use of compartment in extensions");let W=$.get(Q.compartment)||Q.inner;J.set(Q.compartment,W),K(W,U)}else if(Q instanceof c3)K(Q.inner,Q.prec);else if(Q instanceof t){if(X[U].push(Q),Q.provides)K(Q.provides,U)}else if(Q instanceof l5){if(X[U].push(Q),Q.facet.extensions)K(Q.facet.extensions,f0.default)}else{let W=Q.extension;if(!W)throw new Error(`Unrecognized extension value in extension set (${Q}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);K(W,U)}}return K(Z,f0.default),X.reduce((Q,U)=>Q.concat(U))}function d5(Z,$){if($&1)return 2;let J=$>>1,X=Z.status[J];if(X==4)throw new Error("Cyclic dependency between fields and/or facets");if(X&2)return X;Z.status[J]=4;let Y=Z.computeSlot(Z,Z.config.dynamicSlots[J]);return Z.status[J]=2|Y}function r7(Z,$){return $&1?Z.config.staticValues[$>>1]:Z.values[$>>1]}var j$=B.define(),w3=B.define({combine:(Z)=>Z.some(($)=>$),static:!0}),_$=B.define({combine:(Z)=>Z.length?Z[0]:void 0,static:!0}),O$=B.define(),H$=B.define(),N$=B.define(),R$=B.define({combine:(Z)=>Z.length?Z[0]:!1});class T9{constructor(Z,$){this.type=Z,this.value=$}static define(){return new s3}}class s3{of(Z){return new T9(this,Z)}}class i3{constructor(Z){this.map=Z}of(Z){return new S(this,Z)}}class S{constructor(Z,$){this.type=Z,this.value=$}map(Z){let $=this.type.map(this.value,Z);return $===void 0?void 0:$==this.value?this:new S(this.type,$)}is(Z){return this.type==Z}static define(Z={}){return new i3(Z.map||(($)=>$))}static mapEffects(Z,$){if(!Z.length)return Z;let J=[];for(let X of Z){let Y=X.map($);if(Y)J.push(Y)}return J}}S.reconfigure=S.define();S.appendConfig=S.define();class Z9{constructor(Z,$,J,X,Y,K){if(this.startState=Z,this.changes=$,this.selection=J,this.effects=X,this.annotations=Y,this.scrollIntoView=K,this._doc=null,this._state=null,J)z$(J,$.newLength);if(!Y.some((Q)=>Q.type==Z9.time))this.annotations=Y.concat(Z9.time.of(Date.now()))}static create(Z,$,J,X,Y,K){return new Z9(Z,$,J,X,Y,K)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){if(!this._state)this.startState.applyTransaction(this);return this._state}annotation(Z){for(let $ of this.annotations)if($.type==Z)return $.value;return}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(Z){let $=this.annotation(Z9.userEvent);return!!($&&($==Z||$.length>Z.length&&$.slice(0,Z.length)==Z&&$[Z.length]=="."))}}Z9.time=T9.define();Z9.userEvent=T9.define();Z9.addToHistory=T9.define();Z9.remote=T9.define();function kK(Z,$){let J=[];for(let X=0,Y=0;;){let K,Q;if(X<Z.length&&(Y==$.length||$[Y]>=Z[X]))K=Z[X++],Q=Z[X++];else if(Y<$.length)K=$[Y++],Q=$[Y++];else return J;if(!J.length||J[J.length-1]<K)J.push(K,Q);else if(J[J.length-1]<Q)J[J.length-1]=Q}}function D$(Z,$,J){var X;let Y,K,Q;if(J)Y=$.changes,K=J9.empty($.changes.length),Q=Z.changes.compose($.changes);else Y=$.changes.map(Z.changes),K=Z.changes.mapDesc($.changes,!0),Q=Z.changes.compose(Y);return{changes:Q,selection:$.selection?$.selection.map(K):(X=Z.selection)===null||X===void 0?void 0:X.map(Y),effects:S.mapEffects(Z.effects,Y).concat(S.mapEffects($.effects,K)),annotations:Z.annotations.length?Z.annotations.concat($.annotations):$.annotations,scrollIntoView:Z.scrollIntoView||$.scrollIntoView}}function h3(Z,$,J){let X=$.selection,Y=W5($.annotations);if($.userEvent)Y=Y.concat(Z9.userEvent.of($.userEvent));return{changes:$.changes instanceof J9?$.changes:J9.of($.changes||[],J,Z.facet(_$)),selection:X&&(X instanceof F?X:F.single(X.anchor,X.head)),effects:W5($.effects),annotations:Y,scrollIntoView:!!$.scrollIntoView}}function F$(Z,$,J){let X=h3(Z,$.length?$[0]:{},Z.doc.length);if($.length&&$[0].filter===!1)J=!1;for(let K=1;K<$.length;K++){if($[K].filter===!1)J=!1;let Q=!!$[K].sequential;X=D$(X,h3(Z,$[K],Q?X.changes.newLength:Z.doc.length),Q)}let Y=Z9.create(Z,X.changes,X.selection,X.effects,X.annotations,X.scrollIntoView);return xK(J?bK(Y):Y)}function bK(Z){let $=Z.startState,J=!0;for(let Y of $.facet(O$)){let K=Y(Z);if(K===!1){J=!1;break}if(Array.isArray(K))J=J===!0?K:kK(J,K)}if(J!==!0){let Y,K;if(J===!1)K=Z.changes.invertedDesc,Y=J9.empty($.doc.length);else{let Q=Z.changes.filter(J);Y=Q.changes,K=Q.filtered.mapDesc(Q.changes).invertedDesc}Z=Z9.create($,Y,Z.selection&&Z.selection.map(K),S.mapEffects(Z.effects,K),Z.annotations,Z.scrollIntoView)}let X=$.facet(H$);for(let Y=X.length-1;Y>=0;Y--){let K=X[Y](Z);if(K instanceof Z9)Z=K;else if(Array.isArray(K)&&K.length==1&&K[0]instanceof Z9)Z=K[0];else Z=F$($,W5(K),!1)}return Z}function xK(Z){let $=Z.startState,J=$.facet(N$),X=Z;for(let Y=J.length-1;Y>=0;Y--){let K=J[Y](Z);if(K&&Object.keys(K).length)X=D$(X,h3($,K,Z.changes.newLength),!0)}return X==Z?Z:Z9.create($,Z.changes,Z.selection,X.effects,X.annotations,X.scrollIntoView)}var wK=[];function W5(Z){return Z==null?wK:Array.isArray(Z)?Z:[Z]}var u=function(Z){return Z[Z.Word=0]="Word",Z[Z.Space=1]="Space",Z[Z.Other=2]="Other",Z}(u||(u={})),hK=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,v3;try{v3=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(Z){}function vK(Z){if(v3)return v3.test(Z);for(let $=0;$<Z.length;$++){let J=Z[$];if(/\w/.test(J)||J>"¬Ä"&&(J.toUpperCase()!=J.toLowerCase()||hK.test(J)))return!0}return!1}function mK(Z){return($)=>{if(!/\S/.test($))return u.Space;if(vK($))return u.Word;for(let J=0;J<Z.length;J++)if($.indexOf(Z[J])>-1)return u.Word;return u.Other}}class m{constructor(Z,$,J,X,Y,K){if(this.config=Z,this.doc=$,this.selection=J,this.values=X,this.status=Z.statusTemplate.slice(),this.computeSlot=Y,K)K._state=this;for(let Q=0;Q<this.config.dynamicSlots.length;Q++)d5(this,Q<<1);this.computeSlot=null}field(Z,$=!0){let J=this.config.address[Z.id];if(J==null){if($)throw new RangeError("Field is not present in this state");return}return d5(this,J),r7(this,J)}update(...Z){return F$(this,Z,!0)}applyTransaction(Z){let $=this.config,{base:J,compartments:X}=$;for(let Q of Z.effects)if(Q.is(s5.reconfigure)){if($)X=new Map,$.compartments.forEach((U,q)=>X.set(q,U)),$=null;X.set(Q.value.compartment,Q.value.extension)}else if(Q.is(S.reconfigure))$=null,J=Q.value;else if(Q.is(S.appendConfig))$=null,J=W5(J).concat(Q.value);let Y;if(!$)$=a7.resolve(J,X,this),Y=new m($,this.doc,this.selection,$.dynamicSlots.map(()=>null),(U,q)=>q.reconfigure(U,this),null).values;else Y=Z.startState.values.slice();let K=Z.startState.facet(w3)?Z.newSelection:Z.newSelection.asSingle();new m($,Z.newDoc,K,Y,(Q,U)=>U.update(Q,Z),Z)}replaceSelection(Z){if(typeof Z=="string")Z=this.toText(Z);return this.changeByRange(($)=>({changes:{from:$.from,to:$.to,insert:Z},range:F.cursor($.from+Z.length)}))}changeByRange(Z){let $=this.selection,J=Z($.ranges[0]),X=this.changes(J.changes),Y=[J.range],K=W5(J.effects);for(let Q=1;Q<$.ranges.length;Q++){let U=Z($.ranges[Q]),q=this.changes(U.changes),W=q.map(X);for(let z=0;z<Q;z++)Y[z]=Y[z].map(W);let G=X.mapDesc(q,!0);Y.push(U.range.map(G)),X=X.compose(W),K=S.mapEffects(K,W).concat(S.mapEffects(W5(U.effects),G))}return{changes:X,selection:F.create(Y,$.mainIndex),effects:K}}changes(Z=[]){if(Z instanceof J9)return Z;return J9.of(Z,this.doc.length,this.facet(m.lineSeparator))}toText(Z){return h.of(Z.split(this.facet(m.lineSeparator)||S3))}sliceDoc(Z=0,$=this.doc.length){return this.doc.sliceString(Z,$,this.lineBreak)}facet(Z){let $=this.config.address[Z.id];if($==null)return Z.default;return d5(this,$),r7(this,$)}toJSON(Z){let $={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(Z)for(let J in Z){let X=Z[J];if(X instanceof t&&this.config.address[X.id]!=null)$[J]=X.spec.toJSON(this.field(Z[J]),this)}return $}static fromJSON(Z,$={},J){if(!Z||typeof Z.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let X=[];if(J){for(let Y in J)if(Object.prototype.hasOwnProperty.call(Z,Y)){let K=J[Y],Q=Z[Y];X.push(K.init((U)=>K.spec.fromJSON(Q,U)))}}return m.create({doc:Z.doc,selection:F.fromJSON(Z.selection),extensions:$.extensions?X.concat([$.extensions]):X})}static create(Z={}){let $=a7.resolve(Z.extensions||[],new Map),J=Z.doc instanceof h?Z.doc:h.of((Z.doc||"").split($.staticFacet(m.lineSeparator)||S3)),X=!Z.selection?F.single(0):Z.selection instanceof F?Z.selection:F.single(Z.selection.anchor,Z.selection.head);if(z$(X,J.length),!$.staticFacet(w3))X=X.asSingle();return new m($,J,X,$.dynamicSlots.map(()=>null),(Y,K)=>K.create(Y),null)}get tabSize(){return this.facet(m.tabSize)}get lineBreak(){return this.facet(m.lineSeparator)||`
`}get readOnly(){return this.facet(R$)}phrase(Z,...$){for(let J of this.facet(m.phrases))if(Object.prototype.hasOwnProperty.call(J,Z)){Z=J[Z];break}if($.length)Z=Z.replace(/\$(\$|\d*)/g,(J,X)=>{if(X=="$")return"$";let Y=+(X||1);return!Y||Y>$.length?J:$[Y-1]});return Z}languageDataAt(Z,$,J=-1){let X=[];for(let Y of this.facet(j$))for(let K of Y(this,$,J))if(Object.prototype.hasOwnProperty.call(K,Z))X.push(K[Z]);return X}charCategorizer(Z){return mK(this.languageDataAt("wordChars",Z).join(""))}wordAt(Z){let{text:$,from:J,length:X}=this.doc.lineAt(Z),Y=this.charCategorizer(Z),K=Z-J,Q=Z-J;while(K>0){let U=X9($,K,!1);if(Y($.slice(U,K))!=u.Word)break;K=U}while(Q<X){let U=X9($,Q);if(Y($.slice(Q,U))!=u.Word)break;Q=U}return K==Q?null:F.range(K+J,Q+J)}}m.allowMultipleSelections=w3;m.tabSize=B.define({combine:(Z)=>Z.length?Z[0]:4});m.lineSeparator=_$;m.readOnly=R$;m.phrases=B.define({compare(Z,$){let J=Object.keys(Z),X=Object.keys($);return J.length==X.length&&J.every((Y)=>Z[Y]==$[Y])}});m.languageData=j$;m.changeFilter=O$;m.transactionFilter=H$;m.transactionExtender=N$;s5.reconfigure=S.define();function j9(Z,$,J={}){let X={};for(let Y of Z)for(let K of Object.keys(Y)){let Q=Y[K],U=X[K];if(U===void 0)X[K]=Q;else if(U===Q||Q===void 0);else if(Object.hasOwnProperty.call(J,K))X[K]=J[K](U,Q);else throw new Error("Config merge conflict for field "+K)}for(let Y in $)if(X[Y]===void 0)X[Y]=$[Y];return X}class a9{eq(Z){return this==Z}range(Z,$=Z){return j5.create(Z,$,this)}}a9.prototype.startSide=a9.prototype.endSide=0;a9.prototype.point=!1;a9.prototype.mapMode=Q9.TrackDel;class j5{constructor(Z,$,J){this.from=Z,this.to=$,this.value=J}static create(Z,$,J){return new j5(Z,$,J)}}function m3(Z,$){return Z.from-$.from||Z.value.startSide-$.value.startSide}class n3{constructor(Z,$,J,X){this.from=Z,this.to=$,this.value=J,this.maxPoint=X}get length(){return this.to[this.to.length-1]}findIndex(Z,$,J,X=0){let Y=J?this.to:this.from;for(let K=X,Q=Y.length;;){if(K==Q)return K;let U=K+Q>>1,q=Y[U]-Z||(J?this.value[U].endSide:this.value[U].startSide)-$;if(U==K)return q>=0?K:Q;if(q>=0)Q=U;else K=U+1}}between(Z,$,J,X){for(let Y=this.findIndex($,-1e9,!0),K=this.findIndex(J,1e9,!1,Y);Y<K;Y++)if(X(this.from[Y]+Z,this.to[Y]+Z,this.value[Y])===!1)return!1}map(Z,$){let J=[],X=[],Y=[],K=-1,Q=-1;for(let U=0;U<this.value.length;U++){let q=this.value[U],W=this.from[U]+Z,G=this.to[U]+Z,z,j;if(W==G){let _=$.mapPos(W,q.startSide,q.mapMode);if(_==null)continue;if(z=j=_,q.startSide!=q.endSide){if(j=$.mapPos(W,q.endSide),j<z)continue}}else if(z=$.mapPos(W,q.startSide),j=$.mapPos(G,q.endSide),z>j||z==j&&q.startSide>0&&q.endSide<=0)continue;if((j-z||q.endSide-q.startSide)<0)continue;if(K<0)K=z;if(q.point)Q=Math.max(Q,j-z);J.push(q),X.push(z-K),Y.push(j-K)}return{mapped:J.length?new n3(X,Y,J,Q):null,pos:K}}}class w{constructor(Z,$,J,X){this.chunkPos=Z,this.chunk=$,this.nextLayer=J,this.maxPoint=X}static create(Z,$,J,X){return new w(Z,$,J,X)}get length(){let Z=this.chunk.length-1;return Z<0?0:Math.max(this.chunkEnd(Z),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let Z=this.nextLayer.size;for(let $ of this.chunk)Z+=$.value.length;return Z}chunkEnd(Z){return this.chunkPos[Z]+this.chunk[Z].length}update(Z){let{add:$=[],sort:J=!1,filterFrom:X=0,filterTo:Y=this.length}=Z,K=Z.filter;if($.length==0&&!K)return this;if(J)$=$.slice().sort(m3);if(this.isEmpty)return $.length?w.of($):this;let Q=new a3(this,null,-1).goto(0),U=0,q=[],W=new M9;while(Q.value||U<$.length)if(U<$.length&&(Q.from-$[U].from||Q.startSide-$[U].value.startSide)>=0){let G=$[U++];if(!W.addInner(G.from,G.to,G.value))q.push(G)}else if(Q.rangeIndex==1&&Q.chunkIndex<this.chunk.length&&(U==$.length||this.chunkEnd(Q.chunkIndex)<$[U].from)&&(!K||X>this.chunkEnd(Q.chunkIndex)||Y<this.chunkPos[Q.chunkIndex])&&W.addChunk(this.chunkPos[Q.chunkIndex],this.chunk[Q.chunkIndex]))Q.nextChunk();else{if(!K||X>Q.to||Y<Q.from||K(Q.from,Q.to,Q.value)){if(!W.addInner(Q.from,Q.to,Q.value))q.push(j5.create(Q.from,Q.to,Q.value))}Q.next()}return W.finishInner(this.nextLayer.isEmpty&&!q.length?w.empty:this.nextLayer.update({add:q,filter:K,filterFrom:X,filterTo:Y}))}map(Z){if(Z.empty||this.isEmpty)return this;let $=[],J=[],X=-1;for(let K=0;K<this.chunk.length;K++){let Q=this.chunkPos[K],U=this.chunk[K],q=Z.touchesRange(Q,Q+U.length);if(q===!1)X=Math.max(X,U.maxPoint),$.push(U),J.push(Z.mapPos(Q));else if(q===!0){let{mapped:W,pos:G}=U.map(Q,Z);if(W)X=Math.max(X,W.maxPoint),$.push(W),J.push(G)}}let Y=this.nextLayer.map(Z);return $.length==0?Y:new w(J,$,Y||w.empty,X)}between(Z,$,J){if(this.isEmpty)return;for(let X=0;X<this.chunk.length;X++){let Y=this.chunkPos[X],K=this.chunk[X];if($>=Y&&Z<=Y+K.length&&K.between(Y,Z-Y,$-Y,J)===!1)return}this.nextLayer.between(Z,$,J)}iter(Z=0){return c5.from([this]).goto(Z)}get isEmpty(){return this.nextLayer==this}static iter(Z,$=0){return c5.from(Z).goto($)}static compare(Z,$,J,X,Y=-1){let K=Z.filter((G)=>G.maxPoint>0||!G.isEmpty&&G.maxPoint>=Y),Q=$.filter((G)=>G.maxPoint>0||!G.isEmpty&&G.maxPoint>=Y),U=U$(K,Q,J),q=new U5(K,U,Y),W=new U5(Q,U,Y);if(J.iterGaps((G,z,j)=>q$(q,G,W,z,j,X)),J.empty&&J.length==0)q$(q,0,W,0,0,X)}static eq(Z,$,J=0,X){if(X==null)X=999999999;let Y=Z.filter((W)=>!W.isEmpty&&$.indexOf(W)<0),K=$.filter((W)=>!W.isEmpty&&Z.indexOf(W)<0);if(Y.length!=K.length)return!1;if(!Y.length)return!0;let Q=U$(Y,K),U=new U5(Y,Q,0).goto(J),q=new U5(K,Q,0).goto(J);for(;;){if(U.to!=q.to||!u3(U.active,q.active)||U.point&&(!q.point||!U.point.eq(q.point)))return!1;if(U.to>X)return!0;U.next(),q.next()}}static spans(Z,$,J,X,Y=-1){let K=new U5(Z,null,Y).goto($),Q=$,U=K.openStart;for(;;){let q=Math.min(K.to,J);if(K.point){let W=K.activeForPoint(K.to),G=K.pointFrom<$?W.length+1:K.point.startSide<0?W.length:Math.min(W.length,U);X.point(Q,q,K.point,W,G,K.pointRank),U=Math.min(K.openEnd(q),W.length)}else if(q>Q)X.span(Q,q,K.active,U),U=K.openEnd(q);if(K.to>J)return U+(K.point&&K.to>J?1:0);Q=K.to,K.next()}}static of(Z,$=!1){let J=new M9;for(let X of Z instanceof j5?[Z]:$?uK(Z):Z)J.add(X.from,X.to,X.value);return J.finish()}static join(Z){if(!Z.length)return w.empty;let $=Z[Z.length-1];for(let J=Z.length-2;J>=0;J--)for(let X=Z[J];X!=w.empty;X=X.nextLayer)$=new w(X.chunkPos,X.chunk,$,Math.max(X.maxPoint,$.maxPoint));return $}}w.empty=new w([],[],null,-1);function uK(Z){if(Z.length>1)for(let $=Z[0],J=1;J<Z.length;J++){let X=Z[J];if(m3($,X)>0)return Z.slice().sort(m3);$=X}return Z}w.empty.nextLayer=w.empty;class M9{finishChunk(Z){if(this.chunks.push(new n3(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,Z)this.from=[],this.to=[],this.value=[]}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(Z,$,J){if(!this.addInner(Z,$,J))(this.nextLayer||(this.nextLayer=new M9)).add(Z,$,J)}addInner(Z,$,J){let X=Z-this.lastTo||J.startSide-this.last.endSide;if(X<=0&&(Z-this.lastFrom||J.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");if(X<0)return!1;if(this.from.length==250)this.finishChunk(!0);if(this.chunkStart<0)this.chunkStart=Z;if(this.from.push(Z-this.chunkStart),this.to.push($-this.chunkStart),this.last=J,this.lastFrom=Z,this.lastTo=$,this.value.push(J),J.point)this.maxPoint=Math.max(this.maxPoint,$-Z);return!0}addChunk(Z,$){if((Z-this.lastTo||$.value[0].startSide-this.last.endSide)<0)return!1;if(this.from.length)this.finishChunk(!0);this.setMaxPoint=Math.max(this.setMaxPoint,$.maxPoint),this.chunks.push($),this.chunkPos.push(Z);let J=$.value.length-1;return this.last=$.value[J],this.lastFrom=$.from[J]+Z,this.lastTo=$.to[J]+Z,!0}finish(){return this.finishInner(w.empty)}finishInner(Z){if(this.from.length)this.finishChunk(!1);if(this.chunks.length==0)return Z;let $=w.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(Z):Z,this.setMaxPoint);return this.from=null,$}}function U$(Z,$,J){let X=new Map;for(let K of Z)for(let Q=0;Q<K.chunk.length;Q++)if(K.chunk[Q].maxPoint<=0)X.set(K.chunk[Q],K.chunkPos[Q]);let Y=new Set;for(let K of $)for(let Q=0;Q<K.chunk.length;Q++){let U=X.get(K.chunk[Q]);if(U!=null&&(J?J.mapPos(U):U)==K.chunkPos[Q]&&!(J===null||J===void 0?void 0:J.touchesRange(U,U+K.chunk[Q].length)))Y.add(K.chunk[Q])}return Y}class a3{constructor(Z,$,J,X=0){this.layer=Z,this.skip=$,this.minPoint=J,this.rank=X}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(Z,$=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(Z,$,!1),this}gotoInner(Z,$,J){while(this.chunkIndex<this.layer.chunk.length){let X=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(X)||this.layer.chunkEnd(this.chunkIndex)<Z||X.maxPoint<this.minPoint))break;this.chunkIndex++,J=!1}if(this.chunkIndex<this.layer.chunk.length){let X=this.layer.chunk[this.chunkIndex].findIndex(Z-this.layer.chunkPos[this.chunkIndex],$,!0);if(!J||this.rangeIndex<X)this.setRangeIndex(X)}this.next()}forward(Z,$){if((this.to-Z||this.endSide-$)<0)this.gotoInner(Z,$,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let Z=this.layer.chunkPos[this.chunkIndex],$=this.layer.chunk[this.chunkIndex],J=Z+$.from[this.rangeIndex];if(this.from=J,this.to=Z+$.to[this.rangeIndex],this.value=$.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(Z){if(Z==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)while(this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]))this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=Z}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(Z){return this.from-Z.from||this.startSide-Z.startSide||this.rank-Z.rank||this.to-Z.to||this.endSide-Z.endSide}}class c5{constructor(Z){this.heap=Z}static from(Z,$=null,J=-1){let X=[];for(let Y=0;Y<Z.length;Y++)for(let K=Z[Y];!K.isEmpty;K=K.nextLayer)if(K.maxPoint>=J)X.push(new a3(K,$,J,Y));return X.length==1?X[0]:new c5(X)}get startSide(){return this.value?this.value.startSide:0}goto(Z,$=-1e9){for(let J of this.heap)J.goto(Z,$);for(let J=this.heap.length>>1;J>=0;J--)y3(this.heap,J);return this.next(),this}forward(Z,$){for(let J of this.heap)J.forward(Z,$);for(let J=this.heap.length>>1;J>=0;J--)y3(this.heap,J);if((this.to-Z||this.value.endSide-$)<0)this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let Z=this.heap[0];if(this.from=Z.from,this.to=Z.to,this.value=Z.value,this.rank=Z.rank,Z.value)Z.next();y3(this.heap,0)}}}function y3(Z,$){for(let J=Z[$];;){let X=($<<1)+1;if(X>=Z.length)break;let Y=Z[X];if(X+1<Z.length&&Y.compare(Z[X+1])>=0)Y=Z[X+1],X++;if(J.compare(Y)<0)break;Z[X]=J,Z[$]=Y,$=X}}class U5{constructor(Z,$,J){this.minPoint=J,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=c5.from(Z,$,J)}goto(Z,$=-1e9){return this.cursor.goto(Z,$),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=Z,this.endSide=$,this.openStart=-1,this.next(),this}forward(Z,$){while(this.minActive>-1&&(this.activeTo[this.minActive]-Z||this.active[this.minActive].endSide-$)<0)this.removeActive(this.minActive);this.cursor.forward(Z,$)}removeActive(Z){c7(this.active,Z),c7(this.activeTo,Z),c7(this.activeRank,Z),this.minActive=W$(this.active,this.activeTo)}addActive(Z){let $=0,{value:J,to:X,rank:Y}=this.cursor;while($<this.activeRank.length&&(Y-this.activeRank[$]||X-this.activeTo[$])>0)$++;if(s7(this.active,$,J),s7(this.activeTo,$,X),s7(this.activeRank,$,Y),Z)s7(Z,$,this.cursor.from);this.minActive=W$(this.active,this.activeTo)}next(){let Z=this.to,$=this.point;this.point=null;let J=this.openStart<0?[]:null;for(;;){let X=this.minActive;if(X>-1&&(this.activeTo[X]-this.cursor.from||this.active[X].endSide-this.cursor.startSide)<0){if(this.activeTo[X]>Z){this.to=this.activeTo[X],this.endSide=this.active[X].endSide;break}if(this.removeActive(X),J)c7(J,X)}else if(!this.cursor.value){this.to=this.endSide=1e9;break}else if(this.cursor.from>Z){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let Y=this.cursor.value;if(!Y.point)this.addActive(J),this.cursor.next();else if($&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=Y,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=Y.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}}if(J){this.openStart=0;for(let X=J.length-1;X>=0&&J[X]<Z;X--)this.openStart++}}activeForPoint(Z){if(!this.active.length)return this.active;let $=[];for(let J=this.active.length-1;J>=0;J--){if(this.activeRank[J]<this.pointRank)break;if(this.activeTo[J]>Z||this.activeTo[J]==Z&&this.active[J].endSide>=this.point.endSide)$.push(this.active[J])}return $.reverse()}openEnd(Z){let $=0;for(let J=this.activeTo.length-1;J>=0&&this.activeTo[J]>Z;J--)$++;return $}}function q$(Z,$,J,X,Y,K){Z.goto($),J.goto(X);let Q=X+Y,U=X,q=X-$;for(;;){let W=Z.to+q-J.to,G=W||Z.endSide-J.endSide,z=G<0?Z.to+q:J.to,j=Math.min(z,Q);if(Z.point||J.point){if(!(Z.point&&J.point&&(Z.point==J.point||Z.point.eq(J.point))&&u3(Z.activeForPoint(Z.to),J.activeForPoint(J.to))))K.comparePoint(U,j,Z.point,J.point)}else if(j>U&&!u3(Z.active,J.active))K.compareRange(U,j,Z.active,J.active);if(z>Q)break;if((W||Z.openEnd!=J.openEnd)&&K.boundChange)K.boundChange(z);if(U=z,G<=0)Z.next();if(G>=0)J.next()}}function u3(Z,$){if(Z.length!=$.length)return!1;for(let J=0;J<Z.length;J++)if(Z[J]!=$[J]&&!Z[J].eq($[J]))return!1;return!0}function c7(Z,$){for(let J=$,X=Z.length-1;J<X;J++)Z[J]=Z[J+1];Z.pop()}function s7(Z,$,J){for(let X=Z.length-1;X>=$;X--)Z[X+1]=Z[X];Z[$]=J}function W$(Z,$){let J=-1,X=1e9;for(let Y=0;Y<$.length;Y++)if(($[Y]-X||Z[Y].endSide-Z[J].endSide)<0)J=Y,X=$[Y];return J}function Y0(Z,$,J=Z.length){let X=0;for(let Y=0;Y<J&&Y<Z.length;)if(Z.charCodeAt(Y)==9)X+=$-X%$,Y++;else X++,Y=X9(Z,Y);return X}function i5(Z,$,J,X){for(let Y=0,K=0;;){if(K>=$)return Y;if(Y==Z.length)break;K+=Z.charCodeAt(Y)==9?J-K%J:1,Y=X9(Z,Y)}return X===!0?-1:Z.length}var V$=typeof Symbol=="undefined"?"__"+"Õº":Symbol.for("Õº"),o3=typeof Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),A$=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{};class r9{constructor(Z,$){this.rules=[];let{finish:J}=$||{};function X(K){return/^@/.test(K)?[K]:K.split(/,\s*/)}function Y(K,Q,U,q){let W=[],G=/^@(\w+)\b/.exec(K[0]),z=G&&G[1]=="keyframes";if(G&&Q==null)return U.push(K[0]+";");for(let j in Q){let _=Q[j];if(/&/.test(j))Y(j.split(/,\s*/).map((O)=>K.map((H)=>O.replace(/&/,H))).reduce((O,H)=>O.concat(H)),_,U);else if(_&&typeof _=="object"){if(!G)throw new RangeError("The value of a property ("+j+") should be a primitive value.");Y(X(j),_,W,z)}else if(_!=null)W.push(j.replace(/_.*/,"").replace(/[A-Z]/g,(O)=>"-"+O.toLowerCase())+": "+_+";")}if(W.length||z)U.push((J&&!G&&!q?K.map(J):K).join(", ")+" {"+W.join(" ")+"}")}for(let K in Z)Y(X(K),Z[K],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let Z=A$[V$]||1;return A$[V$]=Z+1,"Õº"+Z.toString(36)}static mount(Z,$,J){let X=Z[o3],Y=J&&J.nonce;if(!X)X=new M$(Z,Y);else if(Y)X.setNonce(Y);X.mount(Array.isArray($)?$:[$],Z)}}var I$=new Map;class M${constructor(Z,$){let J=Z.ownerDocument||Z,X=J.defaultView;if(!Z.head&&Z.adoptedStyleSheets&&X.CSSStyleSheet){let Y=I$.get(J);if(Y)return Z[o3]=Y;this.sheet=new X.CSSStyleSheet,I$.set(J,this)}else if(this.styleTag=J.createElement("style"),$)this.styleTag.setAttribute("nonce",$);this.modules=[],Z[o3]=this}mount(Z,$){let J=this.sheet,X=0,Y=0;for(let K=0;K<Z.length;K++){let Q=Z[K],U=this.modules.indexOf(Q);if(U<Y&&U>-1)this.modules.splice(U,1),Y--,U=-1;if(U==-1){if(this.modules.splice(Y++,0,Q),J)for(let q=0;q<Q.rules.length;q++)J.insertRule(Q.rules[q],X++)}else{while(Y<U)X+=this.modules[Y++].rules.length;X+=Q.rules.length,Y++}}if(J){if($.adoptedStyleSheets.indexOf(this.sheet)<0)$.adoptedStyleSheets=[this.sheet,...$.adoptedStyleSheets]}else{let K="";for(let U=0;U<this.modules.length;U++)K+=this.modules[U].getRules()+`
`;this.styleTag.textContent=K;let Q=$.head||$;if(this.styleTag.parentNode!=Q)Q.insertBefore(this.styleTag,Q.firstChild)}}setNonce(Z){if(this.styleTag&&this.styleTag.getAttribute("nonce")!=Z)this.styleTag.setAttribute("nonce",Z)}}var O0={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},O5={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},gK=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),fK=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for($9=0;$9<10;$9++)O0[48+$9]=O0[96+$9]=String($9);var $9;for($9=1;$9<=24;$9++)O0[$9+111]="F"+$9;var $9;for($9=65;$9<=90;$9++)O0[$9]=String.fromCharCode($9+32),O5[$9]=String.fromCharCode($9);var $9;for(n5 in O0)if(!O5.hasOwnProperty(n5))O5[n5]=O0[n5];var n5;function L$(Z){var $=gK&&Z.metaKey&&Z.shiftKey&&!Z.ctrlKey&&!Z.altKey||fK&&Z.shiftKey&&Z.key&&Z.key.length==1||Z.key=="Unidentified",J=!$&&Z.key||(Z.shiftKey?O5:O0)[Z.keyCode]||Z.key||"Unidentified";if(J=="Esc")J="Escape";if(J=="Del")J="Delete";if(J=="Left")J="ArrowLeft";if(J=="Up")J="ArrowUp";if(J=="Right")J="ArrowRight";if(J=="Down")J="ArrowDown";return J}function g(){var Z=arguments[0];if(typeof Z=="string")Z=document.createElement(Z);var $=1,J=arguments[1];if(J&&typeof J=="object"&&J.nodeType==null&&!Array.isArray(J)){for(var X in J)if(Object.prototype.hasOwnProperty.call(J,X)){var Y=J[X];if(typeof Y=="string")Z.setAttribute(X,Y);else if(Y!=null)Z[X]=Y}$++}for(;$<arguments.length;$++)B$(Z,arguments[$]);return Z}function B$(Z,$){if(typeof $=="string")Z.appendChild(document.createTextNode($));else if($==null);else if($.nodeType!=null)Z.appendChild($);else if(Array.isArray($))for(var J=0;J<$.length;J++)B$(Z,$[J]);else throw new RangeError("Unsupported child node: "+$)}function U7(Z){let $;if(Z.nodeType==11)$=Z.getSelection?Z:Z.ownerDocument;else $=Z;return $.getSelection()}function Y4(Z,$){return $?Z==$||Z.contains($.nodeType!=1?$.parentNode:$):!1}function QZ(Z,$){if(!$.anchorNode)return!1;try{return Y4(Z,$.anchorNode)}catch(J){return!1}}function V5(Z){if(Z.nodeType==3)return l0(Z,0,Z.nodeValue.length).getClientRects();else if(Z.nodeType==1)return Z.getClientRects();else return[]}function J7(Z,$,J,X){return J?E$(Z,$,J,X,-1)||E$(Z,$,J,X,1):!1}function p0(Z){for(var $=0;;$++)if(Z=Z.previousSibling,!Z)return $}function NZ(Z){return Z.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(Z.nodeName)}function E$(Z,$,J,X,Y){for(;;){if(Z==J&&$==X)return!0;if($==(Y<0?0:U0(Z))){if(Z.nodeName=="DIV")return!1;let K=Z.parentNode;if(!K||K.nodeType!=1)return!1;$=p0(Z)+(Y<0?0:1),Z=K}else if(Z.nodeType==1){if(Z=Z.childNodes[$+(Y<0?-1:0)],Z.nodeType==1&&Z.contentEditable=="false")return!1;$=Y<0?U0(Z):0}else return!1}}function U0(Z){return Z.nodeType==3?Z.nodeValue.length:Z.childNodes.length}function z7(Z,$){let J=$?Z.left:Z.right;return{left:J,right:J,top:Z.top,bottom:Z.bottom}}function pK(Z){let $=Z.visualViewport;if($)return{left:0,right:$.width,top:0,bottom:$.height};return{left:0,right:Z.innerWidth,top:0,bottom:Z.innerHeight}}function _6(Z,$){let J=$.width/Z.offsetWidth,X=$.height/Z.offsetHeight;if(J>0.995&&J<1.005||!isFinite(J)||Math.abs($.width-Z.offsetWidth)<1)J=1;if(X>0.995&&X<1.005||!isFinite(X)||Math.abs($.height-Z.offsetHeight)<1)X=1;return{scaleX:J,scaleY:X}}function lK(Z,$,J,X,Y,K,Q,U){let q=Z.ownerDocument,W=q.defaultView||window;for(let G=Z,z=!1;G&&!z;)if(G.nodeType==1){let j,_=G==q.body,O=1,H=1;if(_)j=pK(W);else{if(/^(fixed|sticky)$/.test(getComputedStyle(G).position))z=!0;if(G.scrollHeight<=G.clientHeight&&G.scrollWidth<=G.clientWidth){G=G.assignedSlot||G.parentNode;continue}let A=G.getBoundingClientRect();({scaleX:O,scaleY:H}=_6(G,A)),j={left:A.left,right:A.left+G.clientWidth*O,top:A.top,bottom:A.top+G.clientHeight*H}}let N=0,D=0;if(Y=="nearest"){if($.top<j.top){if(D=$.top-(j.top+Q),J>0&&$.bottom>j.bottom+D)D=$.bottom-j.bottom+Q}else if($.bottom>j.bottom){if(D=$.bottom-j.bottom+Q,J<0&&$.top-D<j.top)D=$.top-(j.top+Q)}}else{let A=$.bottom-$.top,V=j.bottom-j.top;D=(Y=="center"&&A<=V?$.top+A/2-V/2:Y=="start"||Y=="center"&&J<0?$.top-Q:$.bottom-V+Q)-j.top}if(X=="nearest"){if($.left<j.left){if(N=$.left-(j.left+K),J>0&&$.right>j.right+N)N=$.right-j.right+K}else if($.right>j.right){if(N=$.right-j.right+K,J<0&&$.left<j.left+N)N=$.left-(j.left+K)}}else N=(X=="center"?$.left+($.right-$.left)/2-(j.right-j.left)/2:X=="start"==U?$.left-K:$.right-(j.right-j.left)+K)-j.left;if(N||D)if(_)W.scrollBy(N,D);else{let A=0,V=0;if(D){let I=G.scrollTop;G.scrollTop+=D/H,V=(G.scrollTop-I)*H}if(N){let I=G.scrollLeft;G.scrollLeft+=N/O,A=(G.scrollLeft-I)*O}if($={left:$.left-A,top:$.top-V,right:$.right-A,bottom:$.bottom-V},A&&Math.abs(A-N)<1)X="nearest";if(V&&Math.abs(V-D)<1)Y="nearest"}if(_)break;if($.top<j.top||$.bottom>j.bottom||$.left<j.left||$.right>j.right)$={left:Math.max($.left,j.left),right:Math.min($.right,j.right),top:Math.max($.top,j.top),bottom:Math.min($.bottom,j.bottom)};G=G.assignedSlot||G.parentNode}else if(G.nodeType==11)G=G.host;else break}function dK(Z){let $=Z.ownerDocument,J,X;for(let Y=Z.parentNode;Y;)if(Y==$.body||J&&X)break;else if(Y.nodeType==1){if(!X&&Y.scrollHeight>Y.clientHeight)X=Y;if(!J&&Y.scrollWidth>Y.clientWidth)J=Y;Y=Y.assignedSlot||Y.parentNode}else if(Y.nodeType==11)Y=Y.host;else break;return{x:J,y:X}}class O6{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(Z){return this.anchorNode==Z.anchorNode&&this.anchorOffset==Z.anchorOffset&&this.focusNode==Z.focusNode&&this.focusOffset==Z.focusOffset}setRange(Z){let{anchorNode:$,focusNode:J}=Z;this.set($,Math.min(Z.anchorOffset,$?U0($):0),J,Math.min(Z.focusOffset,J?U0(J):0))}set(Z,$,J,X){this.anchorNode=Z,this.anchorOffset=$,this.focusNode=J,this.focusOffset=X}}var H5=null;function H6(Z){if(Z.setActive)return Z.setActive();if(H5)return Z.focus(H5);let $=[];for(let J=Z;J;J=J.parentNode)if($.push(J,J.scrollTop,J.scrollLeft),J==J.ownerDocument)break;if(Z.focus(H5==null?{get preventScroll(){return H5={preventScroll:!0},!0}}:void 0),!H5){H5=!1;for(let J=0;J<$.length;){let X=$[J++],Y=$[J++],K=$[J++];if(X.scrollTop!=Y)X.scrollTop=Y;if(X.scrollLeft!=K)X.scrollLeft=K}}}var P$;function l0(Z,$,J=$){let X=P$||(P$=document.createRange());return X.setEnd(Z,J),X.setStart(Z,$),X}function D5(Z,$,J,X){let Y={key:$,code:$,keyCode:J,which:J,cancelable:!0};if(X)({altKey:Y.altKey,ctrlKey:Y.ctrlKey,shiftKey:Y.shiftKey,metaKey:Y.metaKey}=X);let K=new KeyboardEvent("keydown",Y);K.synthetic=!0,Z.dispatchEvent(K);let Q=new KeyboardEvent("keyup",Y);return Q.synthetic=!0,Z.dispatchEvent(Q),K.defaultPrevented||Q.defaultPrevented}function cK(Z){while(Z){if(Z&&(Z.nodeType==9||Z.nodeType==11&&Z.host))return Z;Z=Z.assignedSlot||Z.parentNode}return null}function N6(Z){while(Z.attributes.length)Z.removeAttributeNode(Z.attributes[0])}function sK(Z,$){let{focusNode:J,focusOffset:X}=$;if(!J||$.anchorNode!=J||$.anchorOffset!=X)return!1;X=Math.min(X,U0(J));for(;;)if(X){if(J.nodeType!=1)return!1;let Y=J.childNodes[X-1];if(Y.contentEditable=="false")X--;else J=Y,X=U0(J)}else if(J==Z)return!0;else X=p0(J),J=J.parentNode}function R6(Z){return Z.scrollTop>Math.max(1,Z.scrollHeight-Z.clientHeight-4)}function D6(Z,$){for(let J=Z,X=$;;)if(J.nodeType==3&&X>0)return{node:J,offset:X};else if(J.nodeType==1&&X>0){if(J.contentEditable=="false")return null;J=J.childNodes[X-1],X=U0(J)}else if(J.parentNode&&!NZ(J))X=p0(J),J=J.parentNode;else return null}function F6(Z,$){for(let J=Z,X=$;;)if(J.nodeType==3&&X<J.nodeValue.length)return{node:J,offset:X};else if(J.nodeType==1&&X<J.childNodes.length){if(J.contentEditable=="false")return null;J=J.childNodes[X],X=0}else if(J.parentNode&&!NZ(J))X=p0(J)+1,J=J.parentNode;else return null}class N9{constructor(Z,$,J=!0){this.node=Z,this.offset=$,this.precise=J}static before(Z,$){return new N9(Z.parentNode,p0(Z),$)}static after(Z,$){return new N9(Z.parentNode,p0(Z)+1,$)}}var S4=[];class a{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(Z){let $=this.posAtStart;for(let J of this.children){if(J==Z)return $;$+=J.length+J.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(Z){return this.posBefore(Z)+Z.length}sync(Z,$){if(this.flags&2){let J=this.dom,X=null,Y;for(let K of this.children){if(K.flags&7){if(!K.dom&&(Y=X?X.nextSibling:J.firstChild)){let Q=a.get(Y);if(!Q||!Q.parent&&Q.canReuseDOM(K))K.reuseDOM(Y)}K.sync(Z,$),K.flags&=-8}if(Y=X?X.nextSibling:J.firstChild,$&&!$.written&&$.node==J&&Y!=K.dom)$.written=!0;if(K.dom.parentNode==J)while(Y&&Y!=K.dom)Y=T$(Y);else J.insertBefore(K.dom,Y);X=K.dom}if(Y=X?X.nextSibling:J.firstChild,Y&&$&&$.node==J)$.written=!0;while(Y)Y=T$(Y)}else if(this.flags&1){for(let J of this.children)if(J.flags&7)J.sync(Z,$),J.flags&=-8}}reuseDOM(Z){}localPosFromDOM(Z,$){let J;if(Z==this.dom)J=this.dom.childNodes[$];else{let X=U0(Z)==0?0:$==0?-1:1;for(;;){let Y=Z.parentNode;if(Y==this.dom)break;if(X==0&&Y.firstChild!=Y.lastChild)if(Z==Y.firstChild)X=-1;else X=1;Z=Y}if(X<0)J=Z;else J=Z.nextSibling}if(J==this.dom.firstChild)return 0;while(J&&!a.get(J))J=J.nextSibling;if(!J)return this.length;for(let X=0,Y=0;;X++){let K=this.children[X];if(K.dom==J)return Y;Y+=K.length+K.breakAfter}}domBoundsAround(Z,$,J=0){let X=-1,Y=-1,K=-1,Q=-1;for(let U=0,q=J,W=J;U<this.children.length;U++){let G=this.children[U],z=q+G.length;if(q<Z&&z>$)return G.domBoundsAround(Z,$,q);if(z>=Z&&X==-1)X=U,Y=q;if(q>$&&G.dom.parentNode==this.dom){K=U,Q=W;break}W=z,q=z+G.breakAfter}return{from:Y,to:Q<0?J+this.length:Q,startDOM:(X?this.children[X-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:K<this.children.length&&K>=0?this.children[K].dom:null}}markDirty(Z=!1){this.flags|=2,this.markParentsDirty(Z)}markParentsDirty(Z){for(let $=this.parent;$;$=$.parent){if(Z)$.flags|=2;if($.flags&1)return;$.flags|=1,Z=!1}}setParent(Z){if(this.parent!=Z){if(this.parent=Z,this.flags&7)this.markParentsDirty(!0)}}setDOM(Z){if(this.dom==Z)return;if(this.dom)this.dom.cmView=null;this.dom=Z,Z.cmView=this}get rootView(){for(let Z=this;;){let $=Z.parent;if(!$)return Z;Z=$}}replaceChildren(Z,$,J=S4){this.markDirty();for(let X=Z;X<$;X++){let Y=this.children[X];if(Y.parent==this&&J.indexOf(Y)<0)Y.destroy()}if(J.length<250)this.children.splice(Z,$-Z,...J);else this.children=[].concat(this.children.slice(0,Z),J,this.children.slice($));for(let X=0;X<J.length;X++)J[X].setParent(this)}ignoreMutation(Z){return!1}ignoreEvent(Z){return!1}childCursor(Z=this.length){return new k4(this.children,Z,this.children.length)}childPos(Z,$=1){return this.childCursor().findPos(Z,$)}toString(){let Z=this.constructor.name.replace("View","");return Z+(this.children.length?"("+this.children.join()+")":this.length?"["+(Z=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(Z){return Z.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(Z,$,J,X,Y,K){return!1}become(Z){return!1}canReuseDOM(Z){return Z.constructor==this.constructor&&!((this.flags|Z.flags)&8)}getSide(){return 0}destroy(){for(let Z of this.children)if(Z.parent==this)Z.destroy();this.parent=null}}a.prototype.breakAfter=0;function T$(Z){let $=Z.nextSibling;return Z.parentNode.removeChild(Z),$}class k4{constructor(Z,$,J){this.children=Z,this.pos=$,this.i=J,this.off=0}findPos(Z,$=1){for(;;){if(Z>this.pos||Z==this.pos&&($>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=Z-this.pos,this;let J=this.children[--this.i];this.pos-=J.length+J.breakAfter}}}function V6(Z,$,J,X,Y,K,Q,U,q){let{children:W}=Z,G=W.length?W[$]:null,z=K.length?K[K.length-1]:null,j=z?z.breakAfter:Q;if($==X&&G&&!Q&&!j&&K.length<2&&G.merge(J,Y,K.length?z:null,J==0,U,q))return;if(X<W.length){let _=W[X];if(_&&(Y<_.length||_.breakAfter&&(z===null||z===void 0?void 0:z.breakAfter))){if($==X)_=_.split(Y),Y=0;if(!j&&z&&_.merge(0,Y,z,!0,0,q))K[K.length-1]=_;else{if(Y||_.children.length&&!_.children[0].length)_.merge(0,Y,null,!1,0,q);K.push(_)}}else if(_===null||_===void 0?void 0:_.breakAfter)if(z)z.breakAfter=1;else Q=1;X++}if(G){if(G.breakAfter=Q,J>0){if(!Q&&K.length&&G.merge(J,G.length,K[0],!1,U,0))G.breakAfter=K.shift().breakAfter;else if(J<G.length||G.children.length&&G.children[G.children.length-1].length==0)G.merge(J,G.length,null,!1,U,0);$++}}while($<X&&K.length)if(W[X-1].become(K[K.length-1]))X--,K.pop(),q=K.length?0:U;else if(W[$].become(K[0]))$++,K.shift(),U=K.length?0:q;else break;if(!K.length&&$&&X<W.length&&!W[$-1].breakAfter&&W[X].merge(0,0,W[$-1],!1,U,q))$--;if($<X||K.length)Z.replaceChildren($,X,K)}function A6(Z,$,J,X,Y,K){let Q=Z.childCursor(),{i:U,off:q}=Q.findPos(J,1),{i:W,off:G}=Q.findPos($,-1),z=$-J;for(let j of X)z+=j.length;Z.length+=z,V6(Z,W,G,U,q,X,0,Y,K)}var C9=typeof navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""},K4=typeof document!="undefined"?document:{documentElement:{style:{}}},Q4=/Edge\/(\d+)/.exec(C9.userAgent),I6=/MSIE \d/.test(C9.userAgent),U4=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(C9.userAgent),AZ=!!(I6||U4||Q4),C$=!AZ&&/gecko\/(\d+)/i.test(C9.userAgent),t3=!AZ&&/Chrome\/(\d+)/.exec(C9.userAgent),y$="webkitFontSmoothing"in K4.documentElement.style,M6=!AZ&&/Apple Computer/.test(C9.vendor),S$=M6&&(/Mobile\/\w+/.test(C9.userAgent)||C9.maxTouchPoints>2),P={mac:S$||/Mac/.test(C9.platform),windows:/Win/.test(C9.platform),linux:/Linux|X11/.test(C9.platform),ie:AZ,ie_version:I6?K4.documentMode||6:U4?+U4[1]:Q4?+Q4[1]:0,gecko:C$,gecko_version:C$?+(/Firefox\/(\d+)/.exec(C9.userAgent)||[0,0])[1]:0,chrome:!!t3,chrome_version:t3?+t3[1]:0,ios:S$,android:/Android\b/.test(C9.userAgent),webkit:y$,safari:M6,webkit_version:y$?+(/\bAppleWebKit\/(\d+)/.exec(C9.userAgent)||[0,0])[1]:0,tabSize:K4.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"},iK=256;class t9 extends a{constructor(Z){super();this.text=Z}get length(){return this.text.length}createDOM(Z){this.setDOM(Z||document.createTextNode(this.text))}sync(Z,$){if(!this.dom)this.createDOM();if(this.dom.nodeValue!=this.text){if($&&$.node==this.dom)$.written=!0;this.dom.nodeValue=this.text}}reuseDOM(Z){if(Z.nodeType==3)this.createDOM(Z)}merge(Z,$,J){if(this.flags&8||J&&(!(J instanceof t9)||this.length-($-Z)+J.length>iK||J.flags&8))return!1;return this.text=this.text.slice(0,Z)+(J?J.text:"")+this.text.slice($),this.markDirty(),!0}split(Z){let $=new t9(this.text.slice(Z));return this.text=this.text.slice(0,Z),this.markDirty(),$.flags|=this.flags&8,$}localPosFromDOM(Z,$){return Z==this.dom?$:$?this.text.length:0}domAtPos(Z){return new N9(this.dom,Z)}domBoundsAround(Z,$,J){return{from:J,to:J+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(Z,$){return nK(this.dom,Z,$)}}class R0 extends a{constructor(Z,$=[],J=0){super();this.mark=Z,this.children=$,this.length=J;for(let X of $)X.setParent(this)}setAttrs(Z){if(N6(Z),this.mark.class)Z.className=this.mark.class;if(this.mark.attrs)for(let $ in this.mark.attrs)Z.setAttribute($,this.mark.attrs[$]);return Z}canReuseDOM(Z){return super.canReuseDOM(Z)&&!((this.flags|Z.flags)&8)}reuseDOM(Z){if(Z.nodeName==this.mark.tagName.toUpperCase())this.setDOM(Z),this.flags|=6}sync(Z,$){if(!this.dom)this.setDOM(this.setAttrs(document.createElement(this.mark.tagName)));else if(this.flags&4)this.setAttrs(this.dom);super.sync(Z,$)}merge(Z,$,J,X,Y,K){if(J&&(!(J instanceof R0&&J.mark.eq(this.mark))||Z&&Y<=0||$<this.length&&K<=0))return!1;return A6(this,Z,$,J?J.children.slice():[],Y-1,K-1),this.markDirty(),!0}split(Z){let $=[],J=0,X=-1,Y=0;for(let Q of this.children){let U=J+Q.length;if(U>Z)$.push(J<Z?Q.split(Z-J):Q);if(X<0&&J>=Z)X=Y;J=U,Y++}let K=this.length-Z;if(this.length=Z,X>-1)this.children.length=X,this.markDirty();return new R0(this.mark,$,K)}domAtPos(Z){return L6(this,Z)}coordsAt(Z,$){return E6(this,Z,$)}}function nK(Z,$,J){let X=Z.nodeValue.length;if($>X)$=X;let Y=$,K=$,Q=0;if($==0&&J<0||$==X&&J>=0){if(!(P.chrome||P.gecko)){if($)Y--,Q=1;else if(K<X)K++,Q=-1}}else if(J<0)Y--;else if(K<X)K++;let U=l0(Z,Y,K).getClientRects();if(!U.length)return null;let q=U[(Q?Q<0:J>=0)?0:U.length-1];if(P.safari&&!Q&&q.width==0)q=Array.prototype.find.call(U,(W)=>W.width)||q;return Q?z7(q,Q<0):q||null}class T0 extends a{static create(Z,$,J){return new T0(Z,$,J)}constructor(Z,$,J){super();this.widget=Z,this.length=$,this.side=J,this.prevWidget=null}split(Z){let $=T0.create(this.widget,this.length-Z,this.side);return this.length-=Z,$}sync(Z){if(!this.dom||!this.widget.updateDOM(this.dom,Z)){if(this.dom&&this.prevWidget)this.prevWidget.destroy(this.dom);if(this.prevWidget=null,this.setDOM(this.widget.toDOM(Z)),!this.widget.editable)this.dom.contentEditable="false"}}getSide(){return this.side}merge(Z,$,J,X,Y,K){if(J&&(!(J instanceof T0)||!this.widget.compare(J.widget)||Z>0&&Y<=0||$<this.length&&K<=0))return!1;return this.length=Z+(J?J.length:0)+(this.length-$),!0}become(Z){if(Z instanceof T0&&Z.side==this.side&&this.widget.constructor==Z.widget.constructor){if(!this.widget.compare(Z.widget))this.markDirty(!0);if(this.dom&&!this.prevWidget)this.prevWidget=this.widget;return this.widget=Z.widget,this.length=Z.length,!0}return!1}ignoreMutation(){return!0}ignoreEvent(Z){return this.widget.ignoreEvent(Z)}get overrideDOMText(){if(this.length==0)return h.empty;let Z=this;while(Z.parent)Z=Z.parent;let{view:$}=Z,J=$&&$.state.doc,X=this.posAtStart;return J?J.slice(X,X+this.length):h.empty}domAtPos(Z){return(this.length?Z==0:this.side>0)?N9.before(this.dom):N9.after(this.dom,Z==this.length)}domBoundsAround(){return null}coordsAt(Z,$){let J=this.widget.coordsAt(this.dom,Z,$);if(J)return J;let X=this.dom.getClientRects(),Y=null;if(!X.length)return null;let K=this.side?this.side<0:Z>0;for(let Q=K?X.length-1:0;;Q+=K?-1:1)if(Y=X[Q],Z>0?Q==0:Q==X.length-1||Y.top<Y.bottom)break;return z7(Y,!K)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){if(super.destroy(),this.dom)this.widget.destroy(this.dom)}}class A5 extends a{constructor(Z){super();this.side=Z}get length(){return 0}merge(){return!1}become(Z){return Z instanceof A5&&Z.side==this.side}split(){return new A5(this.side)}sync(){if(!this.dom){let Z=document.createElement("img");Z.className="cm-widgetBuffer",Z.setAttribute("aria-hidden","true"),this.setDOM(Z)}}getSide(){return this.side}domAtPos(Z){return this.side>0?N9.before(this.dom):N9.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(Z){return this.dom.getBoundingClientRect()}get overrideDOMText(){return h.empty}get isHidden(){return!0}}t9.prototype.children=T0.prototype.children=A5.prototype.children=S4;function L6(Z,$){let J=Z.dom,{children:X}=Z,Y=0;for(let K=0;Y<X.length;Y++){let Q=X[Y],U=K+Q.length;if(U==K&&Q.getSide()<=0)continue;if($>K&&$<U&&Q.dom.parentNode==J)return Q.domAtPos($-K);if($<=K)break;K=U}for(let K=Y;K>0;K--){let Q=X[K-1];if(Q.dom.parentNode==J)return Q.domAtPos(Q.length)}for(let K=Y;K<X.length;K++){let Q=X[K];if(Q.dom.parentNode==J)return Q.domAtPos(0)}return new N9(J,0)}function B6(Z,$,J){let X,{children:Y}=Z;if(J>0&&$ instanceof R0&&Y.length&&(X=Y[Y.length-1])instanceof R0&&X.mark.eq($.mark))B6(X,$.children[0],J-1);else Y.push($),$.setParent(Z);Z.length+=$.length}function E6(Z,$,J){let X=null,Y=-1,K=null,Q=-1;function U(W,G){for(let z=0,j=0;z<W.children.length&&j<=G;z++){let _=W.children[z],O=j+_.length;if(O>=G){if(_.children.length)U(_,G-j);else if((!K||K.isHidden&&(J>0||rK(K,_)))&&(O>G||j==O&&_.getSide()>0))K=_,Q=G-j;else if(j<G||j==O&&_.getSide()<0&&!_.isHidden)X=_,Y=G-j}j=O}}U(Z,$);let q=(J<0?X:K)||X||K;if(q)return q.coordsAt(Math.max(0,q==X?Y:Q),J);return aK(Z)}function aK(Z){let $=Z.dom.lastChild;if(!$)return Z.dom.getBoundingClientRect();let J=V5($);return J[J.length-1]||null}function rK(Z,$){let J=Z.coordsAt(0,1),X=$.coordsAt(0,1);return J&&X&&X.top<J.bottom}function q4(Z,$){for(let J in Z)if(J=="class"&&$.class)$.class+=" "+Z.class;else if(J=="style"&&$.style)$.style+=";"+Z.style;else $[J]=Z[J];return $}var k$=Object.create(null);function RZ(Z,$,J){if(Z==$)return!0;if(!Z)Z=k$;if(!$)$=k$;let X=Object.keys(Z),Y=Object.keys($);if(X.length-(J&&X.indexOf(J)>-1?1:0)!=Y.length-(J&&Y.indexOf(J)>-1?1:0))return!1;for(let K of X)if(K!=J&&(Y.indexOf(K)==-1||Z[K]!==$[K]))return!1;return!0}function W4(Z,$,J){let X=!1;if($){for(let Y in $)if(!(J&&(Y in J)))if(X=!0,Y=="style")Z.style.cssText="";else Z.removeAttribute(Y)}if(J){for(let Y in J)if(!($&&$[Y]==J[Y]))if(X=!0,Y=="style")Z.style.cssText=J[Y];else Z.setAttribute(Y,J[Y])}return X}function oK(Z){let $=Object.create(null);for(let J=0;J<Z.attributes.length;J++){let X=Z.attributes[J];$[X.name]=X.value}return $}class L9{eq(Z){return!1}updateDOM(Z,$){return!1}compare(Z){return this==Z||this.constructor==Z.constructor&&this.eq(Z)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(Z){return!0}coordsAt(Z,$,J){return null}get isHidden(){return!1}get editable(){return!1}destroy(Z){}}var R9=function(Z){return Z[Z.Text=0]="Text",Z[Z.WidgetBefore=1]="WidgetBefore",Z[Z.WidgetAfter=2]="WidgetAfter",Z[Z.WidgetRange=3]="WidgetRange",Z}(R9||(R9={}));class T extends a9{constructor(Z,$,J,X){super();this.startSide=Z,this.endSide=$,this.widget=J,this.spec=X}get heightRelevant(){return!1}static mark(Z){return new j7(Z)}static widget(Z){let $=Math.max(-1e4,Math.min(1e4,Z.side||0)),J=!!Z.block;return $+=J&&!Z.inlineOrder?$>0?300000000:-400000000:$>0?1e8:-1e8,new C0(Z,$,$,J,Z.widget||null,!1)}static replace(Z){let $=!!Z.block,J,X;if(Z.isBlockGap)J=-500000000,X=400000000;else{let{start:Y,end:K}=P6(Z,$);J=(Y?$?-300000000:-1:500000000)-1,X=(K?$?200000000:1:-600000000)+1}return new C0(Z,J,X,$,Z.widget||null,!0)}static line(Z){return new _7(Z)}static set(Z,$=!1){return w.of(Z,$)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}T.none=w.empty;class j7 extends T{constructor(Z){let{start:$,end:J}=P6(Z);super($?-1:500000000,J?1:-600000000,null,Z);this.tagName=Z.tagName||"span",this.class=Z.class||"",this.attrs=Z.attributes||null}eq(Z){var $,J;return this==Z||Z instanceof j7&&this.tagName==Z.tagName&&(this.class||(($=this.attrs)===null||$===void 0?void 0:$.class))==(Z.class||((J=Z.attrs)===null||J===void 0?void 0:J.class))&&RZ(this.attrs,Z.attrs,"class")}range(Z,$=Z){if(Z>=$)throw new RangeError("Mark decorations may not be empty");return super.range(Z,$)}}j7.prototype.point=!1;class _7 extends T{constructor(Z){super(-200000000,-200000000,null,Z)}eq(Z){return Z instanceof _7&&this.spec.class==Z.spec.class&&RZ(this.spec.attributes,Z.spec.attributes)}range(Z,$=Z){if($!=Z)throw new RangeError("Line decoration ranges must be zero-length");return super.range(Z,$)}}_7.prototype.mapMode=Q9.TrackBefore;_7.prototype.point=!0;class C0 extends T{constructor(Z,$,J,X,Y,K){super($,J,Y,Z);this.block=X,this.isReplace=K,this.mapMode=!X?Q9.TrackDel:$<=0?Q9.TrackBefore:Q9.TrackAfter}get type(){return this.startSide!=this.endSide?R9.WidgetRange:this.startSide<=0?R9.WidgetBefore:R9.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(Z){return Z instanceof C0&&tK(this.widget,Z.widget)&&this.block==Z.block&&this.startSide==Z.startSide&&this.endSide==Z.endSide}range(Z,$=Z){if(this.isReplace&&(Z>$||Z==$&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&$!=Z)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(Z,$)}}C0.prototype.point=!0;function P6(Z,$=!1){let{inclusiveStart:J,inclusiveEnd:X}=Z;if(J==null)J=Z.inclusive;if(X==null)X=Z.inclusive;return{start:J!==null&&J!==void 0?J:$,end:X!==null&&X!==void 0?X:$}}function tK(Z,$){return Z==$||!!(Z&&$&&Z.compare($))}function UZ(Z,$,J,X=0){let Y=J.length-1;if(Y>=0&&J[Y]+X>=Z)J[Y]=Math.max(J[Y],$);else J.push(Z,$)}class U9 extends a{constructor(){super(...arguments);this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(Z,$,J,X,Y,K){if(J){if(!(J instanceof U9))return!1;if(!this.dom)J.transferDOM(this)}if(X)this.setDeco(J?J.attrs:null);return A6(this,Z,$,J?J.children.slice():[],Y,K),!0}split(Z){let $=new U9;if($.breakAfter=this.breakAfter,this.length==0)return $;let{i:J,off:X}=this.childPos(Z);if(X)$.append(this.children[J].split(X),0),this.children[J].merge(X,this.children[J].length,null,!1,0,0),J++;for(let Y=J;Y<this.children.length;Y++)$.append(this.children[Y],0);while(J>0&&this.children[J-1].length==0)this.children[--J].destroy();return this.children.length=J,this.markDirty(),this.length=Z,$}transferDOM(Z){if(!this.dom)return;this.markDirty(),Z.setDOM(this.dom),Z.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null}setDeco(Z){if(!RZ(this.attrs,Z)){if(this.dom)this.prevAttrs=this.attrs,this.markDirty();this.attrs=Z}}append(Z,$){B6(this,Z,$)}addLineDeco(Z){let $=Z.spec.attributes,J=Z.spec.class;if($)this.attrs=q4($,this.attrs||{});if(J)this.attrs=q4({class:J},this.attrs||{})}domAtPos(Z){return L6(this,Z)}reuseDOM(Z){if(Z.nodeName=="DIV")this.setDOM(Z),this.flags|=6}sync(Z,$){var J;if(!this.dom)this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0;else if(this.flags&4)N6(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0;if(this.prevAttrs!==void 0)W4(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0;super.sync(Z,$);let X=this.dom.lastChild;while(X&&a.get(X)instanceof R0)X=X.lastChild;if(!X||!this.length||X.nodeName!="BR"&&((J=a.get(X))===null||J===void 0?void 0:J.isEditable)==!1&&(!P.ios||!this.children.some((Y)=>Y instanceof t9))){let Y=document.createElement("BR");Y.cmIgnore=!0,this.dom.appendChild(Y)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let Z=0,$;for(let J of this.children){if(!(J instanceof t9)||/[^ -~]/.test(J.text))return null;let X=V5(J.dom);if(X.length!=1)return null;Z+=X[0].width,$=X[0].height}return!Z?null:{lineHeight:this.dom.getBoundingClientRect().height,charWidth:Z/this.length,textHeight:$}}coordsAt(Z,$){let J=E6(this,Z,$);if(!this.children.length&&J&&this.parent){let{heightOracle:X}=this.parent.view.viewState,Y=J.bottom-J.top;if(Math.abs(Y-X.lineHeight)<2&&X.textHeight<Y){let K=(Y-X.textHeight)/2;return{top:J.top+K,bottom:J.bottom-K,left:J.left,right:J.left}}}return J}become(Z){return Z instanceof U9&&this.children.length==0&&Z.children.length==0&&RZ(this.attrs,Z.attrs)&&this.breakAfter==Z.breakAfter}covers(){return!0}static find(Z,$){for(let J=0,X=0;J<Z.children.length;J++){let Y=Z.children[J],K=X+Y.length;if(K>=$){if(Y instanceof U9)return Y;if(K>$)break}X=K+Y.breakAfter}return null}}class N0 extends a{constructor(Z,$,J){super();this.widget=Z,this.length=$,this.deco=J,this.breakAfter=0,this.prevWidget=null}merge(Z,$,J,X,Y,K){if(J&&(!(J instanceof N0)||!this.widget.compare(J.widget)||Z>0&&Y<=0||$<this.length&&K<=0))return!1;return this.length=Z+(J?J.length:0)+(this.length-$),!0}domAtPos(Z){return Z==0?N9.before(this.dom):N9.after(this.dom,Z==this.length)}split(Z){let $=this.length-Z;this.length=Z;let J=new N0(this.widget,$,this.deco);return J.breakAfter=this.breakAfter,J}get children(){return S4}sync(Z){if(!this.dom||!this.widget.updateDOM(this.dom,Z)){if(this.dom&&this.prevWidget)this.prevWidget.destroy(this.dom);if(this.prevWidget=null,this.setDOM(this.widget.toDOM(Z)),!this.widget.editable)this.dom.contentEditable="false"}}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):h.empty}domBoundsAround(){return null}become(Z){if(Z instanceof N0&&Z.widget.constructor==this.widget.constructor){if(!Z.widget.compare(this.widget))this.markDirty(!0);if(this.dom&&!this.prevWidget)this.prevWidget=this.widget;return this.widget=Z.widget,this.length=Z.length,this.deco=Z.deco,this.breakAfter=Z.breakAfter,!0}return!1}ignoreMutation(){return!0}ignoreEvent(Z){return this.widget.ignoreEvent(Z)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(Z,$){let J=this.widget.coordsAt(this.dom,Z,$);if(J)return J;if(this.widget instanceof DZ)return null;return z7(this.dom.getBoundingClientRect(),this.length?Z==0:$<=0)}destroy(){if(super.destroy(),this.dom)this.widget.destroy(this.dom)}covers(Z){let{startSide:$,endSide:J}=this.deco;return $==J?!1:Z<0?$<0:J>0}}class DZ extends L9{constructor(Z){super();this.height=Z}toDOM(){let Z=document.createElement("div");return Z.className="cm-gap",this.updateDOM(Z),Z}eq(Z){return Z.height==this.height}updateDOM(Z){return Z.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class X7{constructor(Z,$,J,X){this.doc=Z,this.pos=$,this.end=J,this.disallowBlockEffectsFor=X,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=Z.iter(),this.skip=$}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let Z=this.content[this.content.length-1];return!(Z.breakAfter||Z instanceof N0&&Z.deco.endSide<0)}getLine(){if(!this.curLine)this.content.push(this.curLine=new U9),this.atCursorPos=!0;return this.curLine}flushBuffer(Z=this.bufferMarks){if(this.pendingBuffer)this.curLine.append(o7(new A5(-1),Z),Z.length),this.pendingBuffer=0}addBlockWidget(Z){this.flushBuffer(),this.curLine=null,this.content.push(Z)}finish(Z){if(this.pendingBuffer&&Z<=this.bufferMarks.length)this.flushBuffer();else this.pendingBuffer=0;if(!this.posCovered()&&!(Z&&this.content.length&&this.content[this.content.length-1]instanceof N0))this.getLine()}buildText(Z,$,J){while(Z>0){if(this.textOff==this.text.length){let{value:K,lineBreak:Q,done:U}=this.cursor.next(this.skip);if(this.skip=0,U)throw new Error("Ran out of text content when drawing inline views");if(Q){if(!this.posCovered())this.getLine();if(this.content.length)this.content[this.content.length-1].breakAfter=1;else this.breakAtStart=1;this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,Z--;continue}else this.text=K,this.textOff=0}let X=Math.min(this.text.length-this.textOff,Z),Y=Math.min(X,512);this.flushBuffer($.slice($.length-J)),this.getLine().append(o7(new t9(this.text.slice(this.textOff,this.textOff+Y)),$),J),this.atCursorPos=!0,this.textOff+=Y,Z-=Y,J=X<=Y?0:$.length}}span(Z,$,J,X){if(this.buildText($-Z,J,X),this.pos=$,this.openStart<0)this.openStart=X}point(Z,$,J,X,Y,K){if(this.disallowBlockEffectsFor[K]&&J instanceof C0){if(J.block)throw new RangeError("Block decorations may not be specified via plugins");if($>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let Q=$-Z;if(J instanceof C0)if(J.block){if(J.startSide>0&&!this.posCovered())this.getLine();this.addBlockWidget(new N0(J.widget||d0.block,Q,J))}else{let U=T0.create(J.widget||d0.inline,Q,Q?0:J.startSide),q=this.atCursorPos&&!U.isEditable&&Y<=X.length&&(Z<$||J.startSide>0),W=!U.isEditable&&(Z<$||Y>X.length||J.startSide<=0),G=this.getLine();if(this.pendingBuffer==2&&!q&&!U.isEditable)this.pendingBuffer=0;if(this.flushBuffer(X),q)G.append(o7(new A5(1),X),Y),Y=X.length+Math.max(0,Y-X.length);if(G.append(o7(U,X),Y),this.atCursorPos=W,this.pendingBuffer=!W?0:Z<$||Y>X.length?1:2,this.pendingBuffer)this.bufferMarks=X.slice()}else if(this.doc.lineAt(this.pos).from==this.pos)this.getLine().addLineDeco(J);if(Q){if(this.textOff+Q<=this.text.length)this.textOff+=Q;else this.skip+=Q-(this.text.length-this.textOff),this.text="",this.textOff=0;this.pos=$}if(this.openStart<0)this.openStart=Y}static build(Z,$,J,X,Y){let K=new X7(Z,$,J,Y);if(K.openEnd=w.spans(X,$,J,K),K.openStart<0)K.openStart=K.openEnd;return K.finish(K.openEnd),K}}function o7(Z,$){for(let J of $)Z=new R0(J,[Z],Z.length);return Z}class d0 extends L9{constructor(Z){super();this.tag=Z}eq(Z){return Z.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(Z){return Z.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}d0.inline=new d0("span");d0.block=new d0("div");var l=function(Z){return Z[Z.LTR=0]="LTR",Z[Z.RTL=1]="RTL",Z}(l||(l={})),c0=l.LTR,b4=l.RTL;function T6(Z){let $=[];for(let J=0;J<Z.length;J++)$.push(1<<+Z[J]);return $}var eK=T6("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ZQ=T6("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),G4=Object.create(null),K0=[];for(let Z of["()","[]","{}"]){let $=Z.charCodeAt(0),J=Z.charCodeAt(1);G4[$]=J,G4[J]=-$}function C6(Z){return Z<=247?eK[Z]:1424<=Z&&Z<=1524?2:1536<=Z&&Z<=1785?ZQ[Z-1536]:1774<=Z&&Z<=2220?4:8192<=Z&&Z<=8204?256:64336<=Z&&Z<=65023?4:1}var $Q=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Q0{get dir(){return this.level%2?b4:c0}constructor(Z,$,J){this.from=Z,this.to=$,this.level=J}side(Z,$){return this.dir==$==Z?this.to:this.from}forward(Z,$){return Z==(this.dir==$)}static find(Z,$,J,X){let Y=-1;for(let K=0;K<Z.length;K++){let Q=Z[K];if(Q.from<=$&&Q.to>=$){if(Q.level==J)return K;if(Y<0||(X!=0?X<0?Q.from<$:Q.to>$:Z[Y].level>Q.level))Y=K}}if(Y<0)throw new RangeError("Index out of range");return Y}}function y6(Z,$){if(Z.length!=$.length)return!1;for(let J=0;J<Z.length;J++){let X=Z[J],Y=$[J];if(X.from!=Y.from||X.to!=Y.to||X.direction!=Y.direction||!y6(X.inner,Y.inner))return!1}return!0}var n=[];function JQ(Z,$,J,X,Y){for(let K=0;K<=X.length;K++){let Q=K?X[K-1].to:$,U=K<X.length?X[K].from:J,q=K?256:Y;for(let W=Q,G=q,z=q;W<U;W++){let j=C6(Z.charCodeAt(W));if(j==512)j=G;else if(j==8&&z==4)j=16;if(n[W]=j==4?2:j,j&7)z=j;G=j}for(let W=Q,G=q,z=q;W<U;W++){let j=n[W];if(j==128)if(W<U-1&&G==n[W+1]&&G&24)j=n[W]=G;else n[W]=256;else if(j==64){let _=W+1;while(_<U&&n[_]==64)_++;let O=W&&G==8||_<J&&n[_]==8?z==1?1:8:256;for(let H=W;H<_;H++)n[H]=O;W=_-1}else if(j==8&&z==1)n[W]=1;if(G=j,j&7)z=j}}}function XQ(Z,$,J,X,Y){let K=Y==1?2:1;for(let Q=0,U=0,q=0;Q<=X.length;Q++){let W=Q?X[Q-1].to:$,G=Q<X.length?X[Q].from:J;for(let z=W,j,_,O;z<G;z++)if(_=G4[j=Z.charCodeAt(z)])if(_<0){for(let H=U-3;H>=0;H-=3)if(K0[H+1]==-_){let N=K0[H+2],D=N&2?Y:!(N&4)?0:N&1?K:Y;if(D)n[z]=n[K0[H]]=D;U=H;break}}else if(K0.length==189)break;else K0[U++]=z,K0[U++]=j,K0[U++]=q;else if((O=n[z])==2||O==1){let H=O==Y;q=H?0:1;for(let N=U-3;N>=0;N-=3){let D=K0[N+2];if(D&2)break;if(H)K0[N+2]|=2;else{if(D&4)break;K0[N+2]|=4}}}}}function YQ(Z,$,J,X){for(let Y=0,K=X;Y<=J.length;Y++){let Q=Y?J[Y-1].to:Z,U=Y<J.length?J[Y].from:$;for(let q=Q;q<U;){let W=n[q];if(W==256){let G=q+1;for(;;)if(G==U){if(Y==J.length)break;G=J[Y++].to,U=Y<J.length?J[Y].from:$}else if(n[G]==256)G++;else break;let z=K==1,j=(G<$?n[G]:X)==1,_=z==j?z?1:2:X;for(let O=G,H=Y,N=H?J[H-1].to:Z;O>q;){if(O==N)O=J[--H].from,N=H?J[H-1].to:Z;n[--O]=_}q=G}else K=W,q++}}}function z4(Z,$,J,X,Y,K,Q){let U=X%2?2:1;if(X%2==Y%2)for(let q=$,W=0;q<J;){let G=!0,z=!1;if(W==K.length||q<K[W].from){let H=n[q];if(H!=U)G=!1,z=H==16}let j=!G&&U==1?[]:null,_=G?X:X+1,O=q;Z:for(;;)if(W<K.length&&O==K[W].from){if(z)break Z;let H=K[W];if(!G)for(let N=H.to,D=W+1;;){if(N==J)break Z;if(D<K.length&&K[D].from==N)N=K[D++].to;else if(n[N]==U)break Z;else break}if(W++,j)j.push(H);else{if(H.from>q)Q.push(new Q0(q,H.from,_));let N=H.direction==c0!=!(_%2);j4(Z,N?X+1:X,Y,H.inner,H.from,H.to,Q),q=H.to}O=H.to}else if(O==J||(G?n[O]!=U:n[O]==U))break;else O++;if(j)z4(Z,q,O,X+1,Y,j,Q);else if(q<O)Q.push(new Q0(q,O,_));q=O}else for(let q=J,W=K.length;q>$;){let G=!0,z=!1;if(!W||q>K[W-1].to){let H=n[q-1];if(H!=U)G=!1,z=H==16}let j=!G&&U==1?[]:null,_=G?X:X+1,O=q;Z:for(;;)if(W&&O==K[W-1].to){if(z)break Z;let H=K[--W];if(!G)for(let N=H.from,D=W;;){if(N==$)break Z;if(D&&K[D-1].to==N)N=K[--D].from;else if(n[N-1]==U)break Z;else break}if(j)j.push(H);else{if(H.to<q)Q.push(new Q0(H.to,q,_));let N=H.direction==c0!=!(_%2);j4(Z,N?X+1:X,Y,H.inner,H.from,H.to,Q),q=H.from}O=H.from}else if(O==$||(G?n[O-1]!=U:n[O-1]==U))break;else O--;if(j)z4(Z,O,q,X+1,Y,j,Q);else if(O<q)Q.push(new Q0(O,q,_));q=O}}function j4(Z,$,J,X,Y,K,Q){let U=$%2?2:1;JQ(Z,Y,K,X,U),XQ(Z,Y,K,X,U),YQ(Y,K,X,U),z4(Z,Y,K,$,J,X,Q)}function S6(Z,$,J){if(!Z)return[new Q0(0,0,$==b4?1:0)];if($==c0&&!J.length&&!$Q.test(Z))return k6(Z.length);if(J.length)while(Z.length>n.length)n[n.length]=256;let X=[],Y=$==c0?0:1;return j4(Z,Y,Y,J,0,Z.length,X),X}function k6(Z){return[new Q0(0,Z,0)]}var b6="";function x6(Z,$,J,X,Y){var K;let Q=X.head-Z.from,U=Q0.find($,Q,(K=X.bidiLevel)!==null&&K!==void 0?K:-1,X.assoc),q=$[U],W=q.side(Y,J);if(Q==W){let j=U+=Y?1:-1;if(j<0||j>=$.length)return null;q=$[U=j],Q=q.side(!Y,J),W=q.side(Y,J)}let G=X9(Z.text,Q,q.forward(Y,J));if(G<q.from||G>q.to)G=W;b6=Z.text.slice(Math.min(Q,G),Math.max(Q,G));let z=U==(Y?$.length-1:0)?null:$[U+(Y?1:-1)];if(z&&G==W&&z.level+(Y?0:1)<q.level)return F.cursor(z.side(!Y,J)+Z.from,z.forward(Y,J)?1:-1,z.level);return F.cursor(G+Z.from,q.forward(Y,J)?-1:1,q.level)}function KQ(Z,$,J){for(let X=$;X<J;X++){let Y=C6(Z.charCodeAt(X));if(Y==1)return c0;if(Y==2||Y==4)return b4}return c0}var w6=B.define(),h6=B.define(),v6=B.define(),m6=B.define(),_4=B.define(),u6=B.define(),g6=B.define(),x4=B.define(),w4=B.define(),f6=B.define({combine:(Z)=>Z.some(($)=>$)}),p6=B.define({combine:(Z)=>Z.some(($)=>$)}),l6=B.define();class F5{constructor(Z,$="nearest",J="nearest",X=5,Y=5,K=!1){this.range=Z,this.y=$,this.x=J,this.yMargin=X,this.xMargin=Y,this.isSnapshot=K}map(Z){return Z.empty?this:new F5(this.range.map(Z),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(Z){return this.range.to<=Z.doc.length?this:new F5(F.cursor(Z.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}var t7=S.define({map:(Z,$)=>Z.map($)}),d6=S.define();function W9(Z,$,J){let X=Z.facet(m6);if(X.length)X[0]($);else if(window.onerror&&window.onerror(String($),J,void 0,void 0,$));else if(J)console.error(J+":",$);else console.error($)}var H0=B.define({combine:(Z)=>Z.length?Z[0]:!0}),QQ=0,N5=B.define({combine(Z){return Z.filter(($,J)=>{for(let X=0;X<J;X++)if(Z[X].plugin==$.plugin)return!1;return!0})}});class c{constructor(Z,$,J,X,Y){this.id=Z,this.create=$,this.domEventHandlers=J,this.domEventObservers=X,this.baseExtensions=Y(this),this.extension=this.baseExtensions.concat(N5.of({plugin:this,arg:void 0}))}of(Z){return this.baseExtensions.concat(N5.of({plugin:this,arg:Z}))}static define(Z,$){let{eventHandlers:J,eventObservers:X,provide:Y,decorations:K}=$||{};return new c(QQ++,Z,J,X,(Q)=>{let U=[];if(K)U.push(q7.of((q)=>{let W=q.plugin(Q);return W?K(W):T.none}));if(Y)U.push(Y(Q));return U})}static fromClass(Z,$){return c.define((J,X)=>new Z(J,X),$)}}class qZ{constructor(Z){this.spec=Z,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(Z){if(!this.value){if(this.spec)try{this.value=this.spec.plugin.create(Z,this.spec.arg)}catch($){W9(Z.state,$,"CodeMirror plugin crashed"),this.deactivate()}}else if(this.mustUpdate){let $=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update($)}catch(J){if(W9($.state,J,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(X){}this.deactivate()}}return this}destroy(Z){var $;if(($=this.value)===null||$===void 0?void 0:$.destroy)try{this.value.destroy()}catch(J){W9(Z.state,J,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}var c6=B.define(),IZ=B.define(),q7=B.define(),s6=B.define(),O7=B.define(),i6=B.define();function b$(Z,$){let J=Z.state.facet(i6);if(!J.length)return J;let X=J.map((K)=>K instanceof Function?K(Z):K),Y=[];return w.spans(X,$.from,$.to,{point(){},span(K,Q,U,q){let W=K-$.from,G=Q-$.from,z=Y;for(let j=U.length-1;j>=0;j--,q--){let _=U[j].spec.bidiIsolate,O;if(_==null)_=KQ($.text,W,G);if(q>0&&z.length&&(O=z[z.length-1]).to==W&&O.direction==_)O.to=G,z=O.inner;else{let H={from:W,to:G,direction:_,inner:[]};z.push(H),z=H.inner}}}}),Y}var n6=B.define();function h4(Z){let $=0,J=0,X=0,Y=0;for(let K of Z.state.facet(n6)){let Q=K(Z);if(Q){if(Q.left!=null)$=Math.max($,Q.left);if(Q.right!=null)J=Math.max(J,Q.right);if(Q.top!=null)X=Math.max(X,Q.top);if(Q.bottom!=null)Y=Math.max(Y,Q.bottom)}}return{left:$,right:J,top:X,bottom:Y}}var r5=B.define();class h9{constructor(Z,$,J,X){this.fromA=Z,this.toA=$,this.fromB=J,this.toB=X}join(Z){return new h9(Math.min(this.fromA,Z.fromA),Math.max(this.toA,Z.toA),Math.min(this.fromB,Z.fromB),Math.max(this.toB,Z.toB))}addToSet(Z){let $=Z.length,J=this;for(;$>0;$--){let X=Z[$-1];if(X.fromA>J.toA)continue;if(X.toA<J.fromA)break;J=J.join(X),Z.splice($-1,1)}return Z.splice($,0,J),Z}static extendWithRanges(Z,$){if($.length==0)return Z;let J=[];for(let X=0,Y=0,K=0,Q=0;;X++){let U=X==Z.length?null:Z[X],q=K-Q,W=U?U.fromB:1e9;while(Y<$.length&&$[Y]<W){let G=$[Y],z=$[Y+1],j=Math.max(Q,G),_=Math.min(W,z);if(j<=_)new h9(j+q,_+q,j,_).addToSet(J);if(z>W)break;else Y+=2}if(!U)return J;new h9(U.fromA,U.toA,U.fromB,U.toB).addToSet(J),K=U.toA,Q=U.toB}}}class W7{constructor(Z,$,J){this.view=Z,this.state=$,this.transactions=J,this.flags=0,this.startState=Z.state,this.changes=J9.empty(this.startState.doc.length);for(let Y of J)this.changes=this.changes.compose(Y.changes);let X=[];this.changes.iterChangedRanges((Y,K,Q,U)=>X.push(new h9(Y,K,Q,U))),this.changedRanges=X}static create(Z,$,J){return new W7(Z,$,J)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((Z)=>Z.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class O4 extends a{get length(){return this.view.state.doc.length}constructor(Z){super();this.view=Z,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=T.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(Z.contentDOM),this.children=[new U9],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new h9(0,0,0,Z.state.doc.length)],0,null)}update(Z){var $;let J=Z.changedRanges;if(this.minWidth>0&&J.length)if(!J.every(({fromA:q,toA:W})=>W<this.minWidthFrom||q>this.minWidthTo))this.minWidth=this.minWidthFrom=this.minWidthTo=0;else this.minWidthFrom=Z.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=Z.changes.mapPos(this.minWidthTo,1);this.updateEditContextFormatting(Z);let X=-1;if(this.view.inputState.composing>=0&&!this.view.observer.editContext){if(($=this.domChanged)===null||$===void 0?void 0:$.newSel)X=this.domChanged.newSel.head;else if(!_Q(Z.changes,this.hasComposition)&&!Z.selectionSet)X=Z.state.selection.main.head}let Y=X>-1?qQ(this.view,Z.changes,X):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:q,to:W}=this.hasComposition;J=new h9(q,W,Z.changes.mapPos(q,-1),Z.changes.mapPos(W,1)).addToSet(J.slice())}if(this.hasComposition=Y?{from:Y.range.fromB,to:Y.range.toB}:null,(P.ie||P.chrome)&&!Y&&Z&&Z.state.doc.lines!=Z.startState.doc.lines)this.forceSelection=!0;let K=this.decorations,Q=this.updateDeco(),U=zQ(K,Q,Z.changes);if(J=h9.extendWithRanges(J,U),!(this.flags&7)&&J.length==0)return!1;else{if(this.updateInner(J,Z.startState.doc.length,Y),Z.transactions.length)this.lastUpdate=Date.now();return!0}}updateInner(Z,$,J){this.view.viewState.mustMeasureContent=!0,this.updateChildren(Z,$,J);let{observer:X}=this.view;X.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let K=P.chrome||P.ios?{node:X.selectionRange.focusNode,written:!1}:void 0;if(this.sync(this.view,K),this.flags&=-8,K&&(K.written||X.selectionRange.focusNode!=K.node))this.forceSelection=!0;this.dom.style.height=""}),this.markedForComposition.forEach((K)=>K.flags&=-9);let Y=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length){for(let K of this.children)if(K instanceof N0&&K.widget instanceof DZ)Y.push(K.dom)}X.updateGaps(Y)}updateChildren(Z,$,J){let X=J?J.range.addToSet(Z.slice()):Z,Y=this.childCursor($);for(let K=X.length-1;;K--){let Q=K>=0?X[K]:null;if(!Q)break;let{fromA:U,toA:q,fromB:W,toB:G}=Q,z,j,_,O;if(J&&J.range.fromB<G&&J.range.toB>W){let V=X7.build(this.view.state.doc,W,J.range.fromB,this.decorations,this.dynamicDecorationMap),I=X7.build(this.view.state.doc,J.range.toB,G,this.decorations,this.dynamicDecorationMap);j=V.breakAtStart,_=V.openStart,O=I.openEnd;let M=this.compositionView(J);if(I.breakAtStart)M.breakAfter=1;else if(I.content.length&&M.merge(M.length,M.length,I.content[0],!1,I.openStart,0))M.breakAfter=I.content[0].breakAfter,I.content.shift();if(V.content.length&&M.merge(0,0,V.content[V.content.length-1],!0,0,V.openEnd))V.content.pop();z=V.content.concat(M).concat(I.content)}else({content:z,breakAtStart:j,openStart:_,openEnd:O}=X7.build(this.view.state.doc,W,G,this.decorations,this.dynamicDecorationMap));let{i:H,off:N}=Y.findPos(q,1),{i:D,off:A}=Y.findPos(U,-1);V6(this,D,A,H,N,z,j,_,O)}if(J)this.fixCompositionDOM(J)}updateEditContextFormatting(Z){this.editContextFormatting=this.editContextFormatting.map(Z.changes);for(let $ of Z.transactions)for(let J of $.effects)if(J.is(d6))this.editContextFormatting=J.value}compositionView(Z){let $=new t9(Z.text.nodeValue);$.flags|=8;for(let{deco:X}of Z.marks)$=new R0(X,[$],$.length);let J=new U9;return J.append($,0),J}fixCompositionDOM(Z){let $=(Y,K)=>{K.flags|=8|(K.children.some((U)=>U.flags&7)?1:0),this.markedForComposition.add(K);let Q=a.get(Y);if(Q&&Q!=K)Q.dom=null;K.setDOM(Y)},J=this.childPos(Z.range.fromB,1),X=this.children[J.i];$(Z.line,X);for(let Y=Z.marks.length-1;Y>=-1;Y--)J=X.childPos(J.off,1),X=X.children[J.i],$(Y>=0?Z.marks[Y].node:Z.text,X)}updateSelection(Z=!1,$=!1){if(Z||!this.view.observer.selectionRange.focusNode)this.view.observer.readSelectionRange();let J=this.view.root.activeElement,X=J==this.dom,Y=!X&&!(this.view.state.facet(H0)||this.dom.tabIndex>-1)&&QZ(this.dom,this.view.observer.selectionRange)&&!(J&&this.dom.contains(J));if(!(X||$||Y))return;let K=this.forceSelection;this.forceSelection=!1;let Q=this.view.state.selection.main,U=this.moveToLine(this.domAtPos(Q.anchor)),q=Q.empty?U:this.moveToLine(this.domAtPos(Q.head));if(P.gecko&&Q.empty&&!this.hasComposition&&UQ(U)){let G=document.createTextNode("");this.view.observer.ignore(()=>U.node.insertBefore(G,U.node.childNodes[U.offset]||null)),U=q=new N9(G,0),K=!0}let W=this.view.observer.selectionRange;if(K||!W.focusNode||(!J7(U.node,U.offset,W.anchorNode,W.anchorOffset)||!J7(q.node,q.offset,W.focusNode,W.focusOffset))&&!this.suppressWidgetCursorChange(W,Q))this.view.observer.ignore(()=>{if(P.android&&P.chrome&&this.dom.contains(W.focusNode)&&jQ(W.focusNode,this.dom))this.dom.blur(),this.dom.focus({preventScroll:!0});let G=U7(this.view.root);if(!G);else if(Q.empty){if(P.gecko){let z=WQ(U.node,U.offset);if(z&&z!=3){let j=(z==1?D6:F6)(U.node,U.offset);if(j)U=new N9(j.node,j.offset)}}if(G.collapse(U.node,U.offset),Q.bidiLevel!=null&&G.caretBidiLevel!==void 0)G.caretBidiLevel=Q.bidiLevel}else if(G.extend){G.collapse(U.node,U.offset);try{G.extend(q.node,q.offset)}catch(z){}}else{let z=document.createRange();if(Q.anchor>Q.head)[U,q]=[q,U];z.setEnd(q.node,q.offset),z.setStart(U.node,U.offset),G.removeAllRanges(),G.addRange(z)}if(Y&&this.view.root.activeElement==this.dom){if(this.dom.blur(),J)J.focus()}}),this.view.observer.setSelectionRange(U,q);this.impreciseAnchor=U.precise?null:new N9(W.anchorNode,W.anchorOffset),this.impreciseHead=q.precise?null:new N9(W.focusNode,W.focusOffset)}suppressWidgetCursorChange(Z,$){return this.hasComposition&&$.empty&&J7(Z.focusNode,Z.focusOffset,Z.anchorNode,Z.anchorOffset)&&this.posFromDOM(Z.focusNode,Z.focusOffset)==$.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:Z}=this,$=Z.state.selection.main,J=U7(Z.root),{anchorNode:X,anchorOffset:Y}=Z.observer.selectionRange;if(!J||!$.empty||!$.assoc||!J.modify)return;let K=U9.find(this,$.head);if(!K)return;let Q=K.posAtStart;if($.head==Q||$.head==Q+K.length)return;let U=this.coordsAt($.head,-1),q=this.coordsAt($.head,1);if(!U||!q||U.bottom>q.top)return;let W=this.domAtPos($.head+$.assoc);J.collapse(W.node,W.offset),J.modify("move",$.assoc<0?"forward":"backward","lineboundary"),Z.observer.readSelectionRange();let G=Z.observer.selectionRange;if(Z.docView.posFromDOM(G.anchorNode,G.anchorOffset)!=$.from)J.collapse(X,Y)}moveToLine(Z){let $=this.dom,J;if(Z.node!=$)return Z;for(let X=Z.offset;!J&&X<$.childNodes.length;X++){let Y=a.get($.childNodes[X]);if(Y instanceof U9)J=Y.domAtPos(0)}for(let X=Z.offset-1;!J&&X>=0;X--){let Y=a.get($.childNodes[X]);if(Y instanceof U9)J=Y.domAtPos(Y.length)}return J?new N9(J.node,J.offset,!0):Z}nearest(Z){for(let $=Z;$;){let J=a.get($);if(J&&J.rootView==this)return J;$=$.parentNode}return null}posFromDOM(Z,$){let J=this.nearest(Z);if(!J)throw new RangeError("Trying to find position for a DOM position outside of the document");return J.localPosFromDOM(Z,$)+J.posAtStart}domAtPos(Z){let{i:$,off:J}=this.childCursor().findPos(Z,-1);for(;$<this.children.length-1;){let X=this.children[$];if(J<X.length||X instanceof U9)break;$++,J=0}return this.children[$].domAtPos(J)}coordsAt(Z,$){let J=null,X=0;for(let Y=this.length,K=this.children.length-1;K>=0;K--){let Q=this.children[K],U=Y-Q.breakAfter,q=U-Q.length;if(U<Z)break;if(q<=Z&&(q<Z||Q.covers(-1))&&(U>Z||Q.covers(1))&&(!J||Q instanceof U9&&!(J instanceof U9&&$>=0)))J=Q,X=q;else if(J&&q==Z&&U==Z&&Q instanceof N0&&Math.abs($)<2){if(Q.deco.startSide<0)break;else if(K)J=null}Y=q}return J?J.coordsAt(Z-X,$):null}coordsForChar(Z){let{i:$,off:J}=this.childPos(Z,1),X=this.children[$];if(!(X instanceof U9))return null;while(X.children.length){let{i:Q,off:U}=X.childPos(J,1);for(;;Q++){if(Q==X.children.length)return null;if((X=X.children[Q]).length)break}J=U}if(!(X instanceof t9))return null;let Y=X9(X.text,J);if(Y==J)return null;let K=l0(X.dom,J,Y).getClientRects();for(let Q=0;Q<K.length;Q++){let U=K[Q];if(Q==K.length-1||U.top<U.bottom&&U.left<U.right)return U}return null}measureVisibleLineHeights(Z){let $=[],{from:J,to:X}=Z,Y=this.view.contentDOM.clientWidth,K=Y>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,Q=-1,U=this.view.textDirection==l.LTR;for(let q=0,W=0;W<this.children.length;W++){let G=this.children[W],z=q+G.length;if(z>X)break;if(q>=J){let j=G.dom.getBoundingClientRect();if($.push(j.height),K){let _=G.dom.lastChild,O=_?V5(_):[];if(O.length){let H=O[O.length-1],N=U?H.right-j.left:j.right-H.left;if(N>Q)Q=N,this.minWidth=Y,this.minWidthFrom=q,this.minWidthTo=z}}}q=z+G.breakAfter}return $}textDirectionAt(Z){let{i:$}=this.childPos(Z,1);return getComputedStyle(this.children[$].dom).direction=="rtl"?l.RTL:l.LTR}measureTextSize(){for(let Y of this.children)if(Y instanceof U9){let K=Y.measureTextSize();if(K)return K}let Z=document.createElement("div"),$,J,X;return Z.className="cm-line",Z.style.width="99999px",Z.style.position="absolute",Z.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(Z);let Y=V5(Z.firstChild)[0];$=Z.getBoundingClientRect().height,J=Y?Y.width/27:7,X=Y?Y.height:$,Z.remove()}),{lineHeight:$,charWidth:J,textHeight:X}}childCursor(Z=this.length){let $=this.children.length;if($)Z-=this.children[--$].length;return new k4(this.children,Z,$)}computeBlockGapDeco(){let Z=[],$=this.view.viewState;for(let J=0,X=0;;X++){let Y=X==$.viewports.length?null:$.viewports[X],K=Y?Y.from-1:this.length;if(K>J){let Q=($.lineBlockAt(K).bottom-$.lineBlockAt(J).top)/this.view.scaleY;Z.push(T.replace({widget:new DZ(Q),block:!0,inclusive:!0,isBlockGap:!0}).range(J,K))}if(!Y)break;J=Y.to+1}return T.set(Z)}updateDeco(){let Z=1,$=this.view.state.facet(q7).map((Y)=>{return(this.dynamicDecorationMap[Z++]=typeof Y=="function")?Y(this.view):Y}),J=!1,X=this.view.state.facet(s6).map((Y,K)=>{let Q=typeof Y=="function";if(Q)J=!0;return Q?Y(this.view):Y});if(X.length)this.dynamicDecorationMap[Z++]=J,$.push(w.join(X));this.decorations=[this.editContextFormatting,...$,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];while(Z<this.decorations.length)this.dynamicDecorationMap[Z++]=!1;return this.decorations}scrollIntoView(Z){if(Z.isSnapshot){let q=this.view.viewState.lineBlockAt(Z.range.head);this.view.scrollDOM.scrollTop=q.top-Z.yMargin,this.view.scrollDOM.scrollLeft=Z.xMargin;return}for(let q of this.view.state.facet(l6))try{if(q(this.view,Z.range,Z))return!0}catch(W){W9(this.view.state,W,"scroll handler")}let{range:$}=Z,J=this.coordsAt($.head,$.empty?$.assoc:$.head>$.anchor?-1:1),X;if(!J)return;if(!$.empty&&(X=this.coordsAt($.anchor,$.anchor>$.head?-1:1)))J={left:Math.min(J.left,X.left),top:Math.min(J.top,X.top),right:Math.max(J.right,X.right),bottom:Math.max(J.bottom,X.bottom)};let Y=h4(this.view),K={left:J.left-Y.left,top:J.top-Y.top,right:J.right+Y.right,bottom:J.bottom+Y.bottom},{offsetWidth:Q,offsetHeight:U}=this.view.scrollDOM;lK(this.view.scrollDOM,K,$.head<$.anchor?-1:1,Z.x,Z.y,Math.max(Math.min(Z.xMargin,Q),-Q),Math.max(Math.min(Z.yMargin,U),-U),this.view.textDirection==l.LTR)}}function UQ(Z){return Z.node.nodeType==1&&Z.node.firstChild&&(Z.offset==0||Z.node.childNodes[Z.offset-1].contentEditable=="false")&&(Z.offset==Z.node.childNodes.length||Z.node.childNodes[Z.offset].contentEditable=="false")}function a6(Z,$){let J=Z.observer.selectionRange;if(!J.focusNode)return null;let X=D6(J.focusNode,J.focusOffset),Y=F6(J.focusNode,J.focusOffset),K=X||Y;if(Y&&X&&Y.node!=X.node){let U=a.get(Y.node);if(!U||U instanceof t9&&U.text!=Y.node.nodeValue)K=Y;else if(Z.docView.lastCompositionAfterCursor){let q=a.get(X.node);if(!(!q||q instanceof t9&&q.text!=X.node.nodeValue))K=Y}}if(Z.docView.lastCompositionAfterCursor=K!=X,!K)return null;let Q=$-K.offset;return{from:Q,to:Q+K.node.nodeValue.length,node:K.node}}function qQ(Z,$,J){let X=a6(Z,J);if(!X)return null;let{node:Y,from:K,to:Q}=X,U=Y.nodeValue;if(/[\n\r]/.test(U))return null;if(Z.state.doc.sliceString(X.from,X.to)!=U)return null;let q=$.invertedDesc,W=new h9(q.mapPos(K),q.mapPos(Q),K,Q),G=[];for(let z=Y.parentNode;;z=z.parentNode){let j=a.get(z);if(j instanceof R0)G.push({node:z,deco:j.mark});else if(j instanceof U9||z.nodeName=="DIV"&&z.parentNode==Z.contentDOM)return{range:W,text:Y,marks:G,line:z};else if(z!=Z.contentDOM)G.push({node:z,deco:new j7({inclusive:!0,attributes:oK(z),tagName:z.tagName.toLowerCase()})});else return null}}function WQ(Z,$){if(Z.nodeType!=1)return 0;return($&&Z.childNodes[$-1].contentEditable=="false"?1:0)|($<Z.childNodes.length&&Z.childNodes[$].contentEditable=="false"?2:0)}var GQ=class Z{constructor(){this.changes=[]}compareRange($,J){UZ($,J,this.changes)}comparePoint($,J){UZ($,J,this.changes)}boundChange($){UZ($,$,this.changes)}};function zQ(Z,$,J){let X=new GQ;return w.compare(Z,$,J,X),X.changes}function jQ(Z,$){for(let J=Z;J&&J!=$;J=J.assignedSlot||J.parentNode)if(J.nodeType==1&&J.contentEditable=="false")return!0;return!1}function _Q(Z,$){let J=!1;if($)Z.iterChangedRanges((X,Y)=>{if(X<$.to&&Y>$.from)J=!0});return J}function OQ(Z,$,J=1){let X=Z.charCategorizer($),Y=Z.doc.lineAt($),K=$-Y.from;if(Y.length==0)return F.cursor($);if(K==0)J=1;else if(K==Y.length)J=-1;let Q=K,U=K;if(J<0)Q=X9(Y.text,K,!1);else U=X9(Y.text,K);let q=X(Y.text.slice(Q,U));while(Q>0){let W=X9(Y.text,Q,!1);if(X(Y.text.slice(W,Q))!=q)break;Q=W}while(U<Y.length){let W=X9(Y.text,U);if(X(Y.text.slice(U,W))!=q)break;U=W}return F.range(Q+Y.from,U+Y.from)}function HQ(Z,$){return $.left>Z?$.left-Z:Math.max(0,Z-$.right)}function NQ(Z,$){return $.top>Z?$.top-Z:Math.max(0,Z-$.bottom)}function e3(Z,$){return Z.top<$.bottom-1&&Z.bottom>$.top+1}function x$(Z,$){return $<Z.top?{top:$,left:Z.left,right:Z.right,bottom:Z.bottom}:Z}function w$(Z,$){return $>Z.bottom?{top:Z.top,left:Z.left,right:Z.right,bottom:$}:Z}function H4(Z,$,J){let X,Y,K,Q,U=!1,q,W,G,z;for(let O=Z.firstChild;O;O=O.nextSibling){let H=V5(O);for(let N=0;N<H.length;N++){let D=H[N];if(Y&&e3(Y,D))D=x$(w$(D,Y.bottom),Y.top);let A=HQ($,D),V=NQ(J,D);if(A==0&&V==0)return O.nodeType==3?h$(O,$,J):H4(O,$,J);if(!X||Q>V||Q==V&&K>A)X=O,Y=D,K=A,Q=V,U=!A?!0:$<D.left?N>0:N<H.length-1;if(A==0){if(J>D.bottom&&(!G||G.bottom<D.bottom))q=O,G=D;else if(J<D.top&&(!z||z.top>D.top))W=O,z=D}else if(G&&e3(G,D))G=w$(G,D.bottom);else if(z&&e3(z,D))z=x$(z,D.top)}}if(G&&G.bottom>=J)X=q,Y=G;else if(z&&z.top<=J)X=W,Y=z;if(!X)return{node:Z,offset:0};let j=Math.max(Y.left,Math.min(Y.right,$));if(X.nodeType==3)return h$(X,j,J);if(U&&X.contentEditable!="false")return H4(X,j,J);let _=Array.prototype.indexOf.call(Z.childNodes,X)+($>=(Y.left+Y.right)/2?1:0);return{node:Z,offset:_}}function h$(Z,$,J){let X=Z.nodeValue.length,Y=-1,K=1e9,Q=0;for(let U=0;U<X;U++){let q=l0(Z,U,U+1).getClientRects();for(let W=0;W<q.length;W++){let G=q[W];if(G.top==G.bottom)continue;if(!Q)Q=$-G.left;let z=(G.top>J?G.top-J:J-G.bottom)-1;if(G.left-1<=$&&G.right+1>=$&&z<K){let j=$>=(G.left+G.right)/2,_=j;if(P.chrome||P.gecko){if(l0(Z,U).getBoundingClientRect().left==G.right)_=!j}if(z<=0)return{node:Z,offset:U+(_?1:0)};Y=U+(_?1:0),K=z}}}return{node:Z,offset:Y>-1?Y:Q>0?Z.nodeValue.length:0}}function r6(Z,$,J,X=-1){var Y,K;let Q=Z.contentDOM.getBoundingClientRect(),U=Q.top+Z.viewState.paddingTop,q,{docHeight:W}=Z.viewState,{x:G,y:z}=$,j=z-U;if(j<0)return 0;if(j>W)return Z.state.doc.length;for(let I=Z.viewState.heightOracle.textHeight/2,M=!1;;){if(q=Z.elementAtHeight(j),q.type==R9.Text)break;for(;;){if(j=X>0?q.bottom+I:q.top-I,j>=0&&j<=W)break;if(M)return J?null:0;M=!0,X=-X}}z=U+j;let _=q.from;if(_<Z.viewport.from)return Z.viewport.from==0?0:J?null:v$(Z,Q,q,G,z);if(_>Z.viewport.to)return Z.viewport.to==Z.state.doc.length?Z.state.doc.length:J?null:v$(Z,Q,q,G,z);let O=Z.dom.ownerDocument,H=Z.root.elementFromPoint?Z.root:O,N=H.elementFromPoint(G,z);if(N&&!Z.contentDOM.contains(N))N=null;if(!N){if(G=Math.max(Q.left+1,Math.min(Q.right-1,G)),N=H.elementFromPoint(G,z),N&&!Z.contentDOM.contains(N))N=null}let D,A=-1;if(N&&((Y=Z.docView.nearest(N))===null||Y===void 0?void 0:Y.isEditable)!=!1){if(O.caretPositionFromPoint){let I=O.caretPositionFromPoint(G,z);if(I)({offsetNode:D,offset:A}=I)}else if(O.caretRangeFromPoint){let I=O.caretRangeFromPoint(G,z);if(I)({startContainer:D,startOffset:A}=I)}if(D&&(!Z.contentDOM.contains(D)||P.safari&&RQ(D,A,G)||P.chrome&&DQ(D,A,G)))D=void 0;if(D)A=Math.min(U0(D),A)}if(!D||!Z.docView.dom.contains(D)){let I=U9.find(Z.docView,_);if(!I)return j>q.top+q.height/2?q.to:q.from;({node:D,offset:A}=H4(I.dom,G,z))}let V=Z.docView.nearest(D);if(!V)return null;if(V.isWidget&&((K=V.dom)===null||K===void 0?void 0:K.nodeType)==1){let I=V.dom.getBoundingClientRect();return $.y<I.top||$.y<=I.bottom&&$.x<=(I.left+I.right)/2?V.posAtStart:V.posAtEnd}else return V.localPosFromDOM(D,A)+V.posAtStart}function v$(Z,$,J,X,Y){let K=Math.round((X-$.left)*Z.defaultCharacterWidth);if(Z.lineWrapping&&J.height>Z.defaultLineHeight*1.5){let U=Z.viewState.heightOracle.textHeight,q=Math.floor((Y-J.top-(Z.defaultLineHeight-U)*0.5)/U);K+=q*Z.viewState.heightOracle.lineLength}let Q=Z.state.sliceDoc(J.from,J.to);return J.from+i5(Q,K,Z.state.tabSize)}function o6(Z,$,J){let X,Y=Z;if(Z.nodeType!=3||$!=(X=Z.nodeValue.length))return!1;for(;;){let K=Y.nextSibling;if(K){if(K.nodeName=="BR")break;return!1}else{let Q=Y.parentNode;if(!Q||Q.nodeName=="DIV")break;Y=Q}}return l0(Z,X-1,X).getBoundingClientRect().right>J}function RQ(Z,$,J){return o6(Z,$,J)}function DQ(Z,$,J){if($!=0)return o6(Z,$,J);for(let Y=Z;;){let K=Y.parentNode;if(!K||K.nodeType!=1||K.firstChild!=Y)return!1;if(K.classList.contains("cm-line"))break;Y=K}let X=Z.nodeType==1?Z.getBoundingClientRect():l0(Z,0,Math.max(Z.nodeValue.length,1)).getBoundingClientRect();return J-X.left>5}function N4(Z,$,J){let X=Z.lineBlockAt($);if(Array.isArray(X.type)){let Y;for(let K of X.type){if(K.from>$)break;if(K.to<$)continue;if(K.from<$&&K.to>$)return K;if(!Y||K.type==R9.Text&&(Y.type!=K.type||(J<0?K.from<$:K.to>$)))Y=K}return Y||X}return X}function FQ(Z,$,J,X){let Y=N4(Z,$.head,$.assoc||-1),K=!X||Y.type!=R9.Text||!(Z.lineWrapping||Y.widgetLineBreaks)?null:Z.coordsAtPos($.assoc<0&&$.head>Y.from?$.head-1:$.head);if(K){let Q=Z.dom.getBoundingClientRect(),U=Z.textDirectionAt(Y.from),q=Z.posAtCoords({x:J==(U==l.LTR)?Q.right-1:Q.left+1,y:(K.top+K.bottom)/2});if(q!=null)return F.cursor(q,J?-1:1)}return F.cursor(J?Y.to:Y.from,J?-1:1)}function m$(Z,$,J,X){let Y=Z.state.doc.lineAt($.head),K=Z.bidiSpans(Y),Q=Z.textDirectionAt(Y.from);for(let U=$,q=null;;){let W=x6(Y,K,Q,U,J),G=b6;if(!W){if(Y.number==(J?Z.state.doc.lines:1))return U;G=`
`,Y=Z.state.doc.line(Y.number+(J?1:-1)),K=Z.bidiSpans(Y),W=Z.visualLineSide(Y,!J)}if(!q){if(!X)return W;q=X(G)}else if(!q(G))return U;U=W}}function VQ(Z,$,J){let X=Z.state.charCategorizer($),Y=X(J);return(K)=>{let Q=X(K);if(Y==u.Space)Y=Q;return Y==Q}}function AQ(Z,$,J,X){let Y=$.head,K=J?1:-1;if(Y==(J?Z.state.doc.length:0))return F.cursor(Y,$.assoc);let Q=$.goalColumn,U,q=Z.contentDOM.getBoundingClientRect(),W=Z.coordsAtPos(Y,$.assoc||-1),G=Z.documentTop;if(W){if(Q==null)Q=W.left-q.left;U=K<0?W.top:W.bottom}else{let _=Z.viewState.lineBlockAt(Y);if(Q==null)Q=Math.min(q.right-q.left,Z.defaultCharacterWidth*(Y-_.from));U=(K<0?_.top:_.bottom)+G}let z=q.left+Q,j=X!==null&&X!==void 0?X:Z.viewState.heightOracle.textHeight>>1;for(let _=0;;_+=10){let O=U+(j+_)*K,H=r6(Z,{x:z,y:O},!1,K);if(O<q.top||O>q.bottom||(K<0?H<Y:H>Y)){let N=Z.docView.coordsForChar(H),D=!N||O<N.top?-1:1;return F.cursor(H,D,void 0,Q)}}}function Y7(Z,$,J){for(;;){let X=0;for(let Y of Z)Y.between($-1,$+1,(K,Q,U)=>{if($>K&&$<Q){let q=X||J||($-K<Q-$?-1:1);$=q<0?K:Q,X=q}});if(!X)return $}}function t6(Z,$){let J=null;for(let X=0;X<$.ranges.length;X++){let Y=$.ranges[X],K=null;if(Y.empty){let Q=Y7(Z,Y.from,0);if(Q!=Y.from)K=F.cursor(Q,-1)}else{let Q=Y7(Z,Y.from,-1),U=Y7(Z,Y.to,1);if(Q!=Y.from||U!=Y.to)K=F.range(Y.from==Y.anchor?Q:U,Y.from==Y.head?Q:U)}if(K){if(!J)J=$.ranges.slice();J[X]=K}}return J?F.create(J,$.mainIndex):$}function Z4(Z,$,J){let X=Y7(Z.state.facet(O7).map((Y)=>Y(Z)),J.from,$.head>J.from?-1:1);return X==J.from?J:F.cursor(X,X<J.from?1:-1)}var o5="Ôøø";class e6{constructor(Z,$){this.points=Z,this.text="",this.lineSeparator=$.facet(m.lineSeparator)}append(Z){this.text+=Z}lineBreak(){this.text+=o5}readRange(Z,$){if(!Z)return this;let J=Z.parentNode;for(let X=Z;;){this.findPointBefore(J,X);let Y=this.text.length;this.readNode(X);let K=X.nextSibling;if(K==$)break;let Q=a.get(X),U=a.get(K);if(Q&&U?Q.breakAfter:(Q?Q.breakAfter:NZ(X))||NZ(K)&&(X.nodeName!="BR"||X.cmIgnore)&&this.text.length>Y)this.lineBreak();X=K}return this.findPointBefore(J,$),this}readTextNode(Z){let $=Z.nodeValue;for(let J of this.points)if(J.node==Z)J.pos=this.text.length+Math.min(J.offset,$.length);for(let J=0,X=this.lineSeparator?null:/\r\n?|\n/g;;){let Y=-1,K=1,Q;if(this.lineSeparator)Y=$.indexOf(this.lineSeparator,J),K=this.lineSeparator.length;else if(Q=X.exec($))Y=Q.index,K=Q[0].length;if(this.append($.slice(J,Y<0?$.length:Y)),Y<0)break;if(this.lineBreak(),K>1){for(let U of this.points)if(U.node==Z&&U.pos>this.text.length)U.pos-=K-1}J=Y+K}}readNode(Z){if(Z.cmIgnore)return;let $=a.get(Z),J=$&&$.overrideDOMText;if(J!=null){this.findPointInside(Z,J.length);for(let X=J.iter();!X.next().done;)if(X.lineBreak)this.lineBreak();else this.append(X.value)}else if(Z.nodeType==3)this.readTextNode(Z);else if(Z.nodeName=="BR"){if(Z.nextSibling)this.lineBreak()}else if(Z.nodeType==1)this.readRange(Z.firstChild,null)}findPointBefore(Z,$){for(let J of this.points)if(J.node==Z&&Z.childNodes[J.offset]==$)J.pos=this.text.length}findPointInside(Z,$){for(let J of this.points)if(Z.nodeType==3?J.node==Z:Z.contains(J.node))J.pos=this.text.length+(IQ(Z,J.node,J.offset)?$:0)}}function IQ(Z,$,J){for(;;){if(!$||J<U0($))return!1;if($==Z)return!0;J=p0($)+1,$=$.parentNode}}class R4{constructor(Z,$){this.node=Z,this.offset=$,this.pos=-1}}class ZJ{constructor(Z,$,J,X){this.typeOver=X,this.bounds=null,this.text="",this.domChanged=$>-1;let{impreciseHead:Y,impreciseAnchor:K}=Z.docView;if(Z.state.readOnly&&$>-1)this.newSel=null;else if($>-1&&(this.bounds=Z.docView.domBoundsAround($,J,0))){let Q=Y||K?[]:BQ(Z),U=new e6(Q,Z.state);U.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=U.text,this.newSel=EQ(Q,this.bounds.from)}else{let Q=Z.observer.selectionRange,U=Y&&Y.node==Q.focusNode&&Y.offset==Q.focusOffset||!Y4(Z.contentDOM,Q.focusNode)?Z.state.selection.main.head:Z.docView.posFromDOM(Q.focusNode,Q.focusOffset),q=K&&K.node==Q.anchorNode&&K.offset==Q.anchorOffset||!Y4(Z.contentDOM,Q.anchorNode)?Z.state.selection.main.anchor:Z.docView.posFromDOM(Q.anchorNode,Q.anchorOffset),W=Z.viewport;if((P.ios||P.chrome)&&Z.state.selection.main.empty&&U!=q&&(W.from>0||W.to<Z.state.doc.length)){let G=Math.min(U,q),z=Math.max(U,q),j=W.from-G,_=W.to-z;if((j==0||j==1||G==0)&&(_==0||_==-1||z==Z.state.doc.length))U=0,q=Z.state.doc.length}this.newSel=F.single(q,U)}}}function $J(Z,$){let J,{newSel:X}=$,Y=Z.state.selection.main,K=Z.inputState.lastKeyTime>Date.now()-100?Z.inputState.lastKeyCode:-1;if($.bounds){let{from:Q,to:U}=$.bounds,q=Y.from,W=null;if(K===8||P.android&&$.text.length<U-Q)q=Y.to,W="end";let G=LQ(Z.state.doc.sliceString(Q,U,o5),$.text,q-Q,W);if(G){if(P.chrome&&K==13&&G.toB==G.from+2&&$.text.slice(G.from,G.toB)==o5+o5)G.toB--;J={from:Q+G.from,to:Q+G.toA,insert:h.of($.text.slice(G.from,G.toB).split(o5))}}}else if(X&&(!Z.hasFocus&&Z.state.facet(H0)||X.main.eq(Y)))X=null;if(!J&&!X)return!1;if(!J&&$.typeOver&&!Y.empty&&X&&X.main.empty)J={from:Y.from,to:Y.to,insert:Z.state.doc.slice(Y.from,Y.to)};else if((P.mac||P.android)&&J&&J.from==J.to&&J.from==Y.head-1&&/^\. ?$/.test(J.insert.toString())&&Z.contentDOM.getAttribute("autocorrect")=="off"){if(X&&J.insert.length==2)X=F.single(X.main.anchor-1,X.main.head-1);J={from:J.from,to:J.to,insert:h.of([J.insert.toString().replace("."," ")])}}else if(J&&J.from>=Y.from&&J.to<=Y.to&&(J.from!=Y.from||J.to!=Y.to)&&Y.to-Y.from-(J.to-J.from)<=4)J={from:Y.from,to:Y.to,insert:Z.state.doc.slice(Y.from,J.from).append(J.insert).append(Z.state.doc.slice(J.to,Y.to))};else if(P.chrome&&J&&J.from==J.to&&J.from==Y.head&&J.insert.toString()==`
 `&&Z.lineWrapping){if(X)X=F.single(X.main.anchor-1,X.main.head-1);J={from:Y.from,to:Y.to,insert:h.of([" "])}}if(J)return v4(Z,J,X,K);else if(X&&!X.main.eq(Y)){let Q=!1,U="select";if(Z.inputState.lastSelectionTime>Date.now()-50){if(Z.inputState.lastSelectionOrigin=="select")Q=!0;if(U=Z.inputState.lastSelectionOrigin,U=="select.pointer")X=t6(Z.state.facet(O7).map((q)=>q(Z)),X)}return Z.dispatch({selection:X,scrollIntoView:Q,userEvent:U}),!0}else return!1}function v4(Z,$,J,X=-1){if(P.ios&&Z.inputState.flushIOSKey($))return!0;let Y=Z.state.selection.main;if(P.android&&($.to==Y.to&&($.from==Y.from||$.from==Y.from-1&&Z.state.sliceDoc($.from,Y.from)==" ")&&$.insert.length==1&&$.insert.lines==2&&D5(Z.contentDOM,"Enter",13)||($.from==Y.from-1&&$.to==Y.to&&$.insert.length==0||X==8&&$.insert.length<$.to-$.from&&$.to>Y.head)&&D5(Z.contentDOM,"Backspace",8)||$.from==Y.from&&$.to==Y.to+1&&$.insert.length==0&&D5(Z.contentDOM,"Delete",46)))return!0;let K=$.insert.toString();if(Z.inputState.composing>=0)Z.inputState.composing++;let Q,U=()=>Q||(Q=MQ(Z,$,J));if(!Z.state.facet(u6).some((q)=>q(Z,$.from,$.to,K,U)))Z.dispatch(U());return!0}function MQ(Z,$,J){let X,Y=Z.state,K=Y.selection.main,Q=-1;if($.from==$.to&&$.from<K.from||$.from>K.to){let q=$.from<K.from?-1:1,W=q<0?K.from:K.to,G=Y7(Y.facet(O7).map((z)=>z(Z)),W,q);if($.from==G)Q=G}if(Q>-1)X={changes:$,selection:F.cursor($.from+$.insert.length,-1)};else if($.from>=K.from&&$.to<=K.to&&$.to-$.from>=(K.to-K.from)/3&&(!J||J.main.empty&&J.main.from==$.from+$.insert.length)&&Z.inputState.composing<0){let q=K.from<$.from?Y.sliceDoc(K.from,$.from):"",W=K.to>$.to?Y.sliceDoc($.to,K.to):"";X=Y.replaceSelection(Z.state.toText(q+$.insert.sliceString(0,void 0,Z.state.lineBreak)+W))}else{let q=Y.changes($),W=J&&J.main.to<=q.newLength?J.main:void 0;if(Y.selection.ranges.length>1&&Z.inputState.composing>=0&&$.to<=K.to&&$.to>=K.to-10){let G=Z.state.sliceDoc($.from,$.to),z,j=J&&a6(Z,J.main.head);if(j){let H=$.insert.length-($.to-$.from);z={from:j.from,to:j.to-H}}else z=Z.state.doc.lineAt(K.head);let _=K.to-$.to,O=K.to-K.from;X=Y.changeByRange((H)=>{if(H.from==K.from&&H.to==K.to)return{changes:q,range:W||H.map(q)};let N=H.to-_,D=N-G.length;if(H.to-H.from!=O||Z.state.sliceDoc(D,N)!=G||H.to>=z.from&&H.from<=z.to)return{range:H};let A=Y.changes({from:D,to:N,insert:$.insert}),V=H.to-K.to;return{changes:A,range:!W?H.map(A):F.range(Math.max(0,W.anchor+V),Math.max(0,W.head+V))}})}else X={changes:q,selection:W&&Y.selection.replaceRange(W)}}let U="input.type";if(Z.composing||Z.inputState.compositionPendingChange&&Z.inputState.compositionEndedAt>Date.now()-50){if(Z.inputState.compositionPendingChange=!1,U+=".compose",Z.inputState.compositionFirstChange)U+=".start",Z.inputState.compositionFirstChange=!1}return Y.update(X,{userEvent:U,scrollIntoView:!0})}function LQ(Z,$,J,X){let Y=Math.min(Z.length,$.length),K=0;while(K<Y&&Z.charCodeAt(K)==$.charCodeAt(K))K++;if(K==Y&&Z.length==$.length)return null;let Q=Z.length,U=$.length;while(Q>0&&U>0&&Z.charCodeAt(Q-1)==$.charCodeAt(U-1))Q--,U--;if(X=="end"){let q=Math.max(0,K-Math.min(Q,U));J-=Q+q-K}if(Q<K&&Z.length<$.length){let q=J<=K&&J>=Q?K-J:0;K-=q,U=K+(U-Q),Q=K}else if(U<K){let q=J<=K&&J>=U?K-J:0;K-=q,Q=K+(Q-U),U=K}return{from:K,toA:Q,toB:U}}function BQ(Z){let $=[];if(Z.root.activeElement!=Z.contentDOM)return $;let{anchorNode:J,anchorOffset:X,focusNode:Y,focusOffset:K}=Z.observer.selectionRange;if(J){if($.push(new R4(J,X)),Y!=J||K!=X)$.push(new R4(Y,K))}return $}function EQ(Z,$){if(Z.length==0)return null;let J=Z[0].pos,X=Z.length==2?Z[1].pos:J;return J>-1&&X>-1?F.single(J+$,X+$):null}class JJ{setSelectionOrigin(Z){this.lastSelectionOrigin=Z,this.lastSelectionTime=Date.now()}constructor(Z){if(this.view=Z,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=Z.hasFocus,P.safari)Z.contentDOM.addEventListener("input",()=>null);if(P.gecko)fQ(Z.contentDOM.ownerDocument)}handleEvent(Z){if(!bQ(this.view,Z)||this.ignoreDuringComposition(Z))return;if(Z.type=="keydown"&&this.keydown(Z))return;if(this.view.updateState!=0)Promise.resolve().then(()=>this.runHandlers(Z.type,Z));else this.runHandlers(Z.type,Z)}runHandlers(Z,$){let J=this.handlers[Z];if(J){for(let X of J.observers)X(this.view,$);for(let X of J.handlers){if($.defaultPrevented)break;if(X(this.view,$)){$.preventDefault();break}}}}ensureHandlers(Z){let $=PQ(Z),J=this.handlers,X=this.view.contentDOM;for(let Y in $)if(Y!="scroll"){let K=!$[Y].handlers.length,Q=J[Y];if(Q&&K!=!Q.handlers.length)X.removeEventListener(Y,this.handleEvent),Q=null;if(!Q)X.addEventListener(Y,this.handleEvent,{passive:K})}for(let Y in J)if(Y!="scroll"&&!$[Y])X.removeEventListener(Y,this.handleEvent);this.handlers=$}keydown(Z){if(this.lastKeyCode=Z.keyCode,this.lastKeyTime=Date.now(),Z.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&Z.keyCode!=27&&YJ.indexOf(Z.keyCode)<0)this.tabFocusMode=-1;if(P.android&&P.chrome&&!Z.synthetic&&(Z.keyCode==13||Z.keyCode==8))return this.view.observer.delayAndroidKey(Z.key,Z.keyCode),!0;let $;if(P.ios&&!Z.synthetic&&!Z.altKey&&!Z.metaKey&&(($=XJ.find((J)=>J.keyCode==Z.keyCode))&&!Z.ctrlKey||TQ.indexOf(Z.key)>-1&&Z.ctrlKey&&!Z.shiftKey))return this.pendingIOSKey=$||Z,setTimeout(()=>this.flushIOSKey(),250),!0;if(Z.keyCode!=229)this.view.observer.forceFlush();return!1}flushIOSKey(Z){let $=this.pendingIOSKey;if(!$)return!1;if($.key=="Enter"&&Z&&Z.from<Z.to&&/^\S+$/.test(Z.insert.toString()))return!1;return this.pendingIOSKey=void 0,D5(this.view.contentDOM,$.key,$.keyCode,$ instanceof KeyboardEvent?$:void 0)}ignoreDuringComposition(Z){if(!/^key/.test(Z.type))return!1;if(this.composing>0)return!0;if(P.safari&&!P.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)return this.compositionPendingKey=!1,!0;return!1}startMouseSelection(Z){if(this.mouseSelection)this.mouseSelection.destroy();this.mouseSelection=Z}update(Z){if(this.view.observer.update(Z),this.mouseSelection)this.mouseSelection.update(Z);if(this.draggedContent&&Z.docChanged)this.draggedContent=this.draggedContent.map(Z.changes);if(Z.transactions.length)this.lastKeyCode=this.lastSelectionTime=0}destroy(){if(this.mouseSelection)this.mouseSelection.destroy()}}function u$(Z,$){return(J,X)=>{try{return $.call(Z,X,J)}catch(Y){W9(J.state,Y)}}}function PQ(Z){let $=Object.create(null);function J(X){return $[X]||($[X]={observers:[],handlers:[]})}for(let X of Z){let Y=X.spec,K=Y&&Y.plugin.domEventHandlers,Q=Y&&Y.plugin.domEventObservers;if(K)for(let U in K){let q=K[U];if(q)J(U).handlers.push(u$(X.value,q))}if(Q)for(let U in Q){let q=Q[U];if(q)J(U).observers.push(u$(X.value,q))}}for(let X in e9)J(X).handlers.push(e9[X]);for(let X in d9)J(X).observers.push(d9[X]);return $}var XJ=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],TQ="dthko",YJ=[16,17,18,20,91,92,224,225],e7=6;function ZZ(Z){return Math.max(0,Z)*0.7+8}function CQ(Z,$){return Math.max(Math.abs(Z.clientX-$.clientX),Math.abs(Z.clientY-$.clientY))}class KJ{constructor(Z,$,J,X){this.view=Z,this.startEvent=$,this.style=J,this.mustSelect=X,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=$,this.scrollParents=dK(Z.contentDOM),this.atoms=Z.state.facet(O7).map((K)=>K(Z));let Y=Z.contentDOM.ownerDocument;Y.addEventListener("mousemove",this.move=this.move.bind(this)),Y.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=$.shiftKey,this.multiple=Z.state.facet(m.allowMultipleSelections)&&yQ(Z,$),this.dragging=kQ(Z,$)&&qJ($)==1?null:!1}start(Z){if(this.dragging===!1)this.select(Z)}move(Z){if(Z.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&CQ(this.startEvent,Z)<10)return;this.select(this.lastEvent=Z);let $=0,J=0,X=0,Y=0,K=this.view.win.innerWidth,Q=this.view.win.innerHeight;if(this.scrollParents.x)({left:X,right:K}=this.scrollParents.x.getBoundingClientRect());if(this.scrollParents.y)({top:Y,bottom:Q}=this.scrollParents.y.getBoundingClientRect());let U=h4(this.view);if(Z.clientX-U.left<=X+e7)$=-ZZ(X-Z.clientX);else if(Z.clientX+U.right>=K-e7)$=ZZ(Z.clientX-K);if(Z.clientY-U.top<=Y+e7)J=-ZZ(Y-Z.clientY);else if(Z.clientY+U.bottom>=Q-e7)J=ZZ(Z.clientY-Q);this.setScrollSpeed($,J)}up(Z){if(this.dragging==null)this.select(this.lastEvent);if(!this.dragging)Z.preventDefault();this.destroy()}destroy(){this.setScrollSpeed(0,0);let Z=this.view.contentDOM.ownerDocument;Z.removeEventListener("mousemove",this.move),Z.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(Z,$){if(this.scrollSpeed={x:Z,y:$},Z||$){if(this.scrolling<0)this.scrolling=setInterval(()=>this.scroll(),50)}else if(this.scrolling>-1)clearInterval(this.scrolling),this.scrolling=-1}scroll(){let{x:Z,y:$}=this.scrollSpeed;if(Z&&this.scrollParents.x)this.scrollParents.x.scrollLeft+=Z,Z=0;if($&&this.scrollParents.y)this.scrollParents.y.scrollTop+=$,$=0;if(Z||$)this.view.win.scrollBy(Z,$);if(this.dragging===!1)this.select(this.lastEvent)}select(Z){let{view:$}=this,J=t6(this.atoms,this.style.get(Z,this.extend,this.multiple));if(this.mustSelect||!J.eq($.state.selection,this.dragging===!1))this.view.dispatch({selection:J,userEvent:"select.pointer"});this.mustSelect=!1}update(Z){if(Z.transactions.some(($)=>$.isUserEvent("input.type")))this.destroy();else if(this.style.update(Z))setTimeout(()=>this.select(this.lastEvent),20)}}function yQ(Z,$){let J=Z.state.facet(w6);return J.length?J[0]($):P.mac?$.metaKey:$.ctrlKey}function SQ(Z,$){let J=Z.state.facet(h6);return J.length?J[0]($):P.mac?!$.altKey:!$.ctrlKey}function kQ(Z,$){let{main:J}=Z.state.selection;if(J.empty)return!1;let X=U7(Z.root);if(!X||X.rangeCount==0)return!0;let Y=X.getRangeAt(0).getClientRects();for(let K=0;K<Y.length;K++){let Q=Y[K];if(Q.left<=$.clientX&&Q.right>=$.clientX&&Q.top<=$.clientY&&Q.bottom>=$.clientY)return!0}return!1}function bQ(Z,$){if(!$.bubbles)return!0;if($.defaultPrevented)return!1;for(let J=$.target,X;J!=Z.contentDOM;J=J.parentNode)if(!J||J.nodeType==11||(X=a.get(J))&&X.ignoreEvent($))return!1;return!0}var e9=Object.create(null),d9=Object.create(null),QJ=P.ie&&P.ie_version<15||P.ios&&P.webkit_version<604;function xQ(Z){let $=Z.dom.parentNode;if(!$)return;let J=$.appendChild(document.createElement("textarea"));J.style.cssText="position: fixed; left: -10000px; top: 10px",J.focus(),setTimeout(()=>{Z.focus(),J.remove(),UJ(Z,J.value)},50)}function MZ(Z,$,J){for(let X of Z.facet($))J=X(J,Z);return J}function UJ(Z,$){$=MZ(Z.state,x4,$);let{state:J}=Z,X,Y=1,K=J.toText($),Q=K.lines==J.selection.ranges.length;if(D4!=null&&J.selection.ranges.every((q)=>q.empty)&&D4==K.toString()){let q=-1;X=J.changeByRange((W)=>{let G=J.doc.lineAt(W.from);if(G.from==q)return{range:W};q=G.from;let z=J.toText((Q?K.line(Y++).text:$)+J.lineBreak);return{changes:{from:G.from,insert:z},range:F.cursor(W.from+z.length)}})}else if(Q)X=J.changeByRange((q)=>{let W=K.line(Y++);return{changes:{from:q.from,to:q.to,insert:W.text},range:F.cursor(q.from+W.length)}});else X=J.replaceSelection(K);Z.dispatch(X,{userEvent:"input.paste",scrollIntoView:!0})}d9.scroll=(Z)=>{Z.inputState.lastScrollTop=Z.scrollDOM.scrollTop,Z.inputState.lastScrollLeft=Z.scrollDOM.scrollLeft};e9.keydown=(Z,$)=>{if(Z.inputState.setSelectionOrigin("select"),$.keyCode==27&&Z.inputState.tabFocusMode!=0)Z.inputState.tabFocusMode=Date.now()+2000;return!1};d9.touchstart=(Z,$)=>{Z.inputState.lastTouchTime=Date.now(),Z.inputState.setSelectionOrigin("select.pointer")};d9.touchmove=(Z)=>{Z.inputState.setSelectionOrigin("select.pointer")};e9.mousedown=(Z,$)=>{if(Z.observer.flush(),Z.inputState.lastTouchTime>Date.now()-2000)return!1;let J=null;for(let X of Z.state.facet(v6))if(J=X(Z,$),J)break;if(!J&&$.button==0)J=vQ(Z,$);if(J){let X=!Z.hasFocus;if(Z.inputState.startMouseSelection(new KJ(Z,$,J,X)),X)Z.observer.ignore(()=>{H6(Z.contentDOM);let K=Z.root.activeElement;if(K&&!K.contains(Z.contentDOM))K.blur()});let Y=Z.inputState.mouseSelection;if(Y)return Y.start($),Y.dragging===!1}else Z.inputState.setSelectionOrigin("select.pointer");return!1};function g$(Z,$,J,X){if(X==1)return F.cursor($,J);else if(X==2)return OQ(Z.state,$,J);else{let Y=U9.find(Z.docView,$),K=Z.state.doc.lineAt(Y?Y.posAtEnd:$),Q=Y?Y.posAtStart:K.from,U=Y?Y.posAtEnd:K.to;if(U<Z.state.doc.length&&U==K.to)U++;return F.range(Q,U)}}var f$=(Z,$,J)=>$>=J.top&&$<=J.bottom&&Z>=J.left&&Z<=J.right;function wQ(Z,$,J,X){let Y=U9.find(Z.docView,$);if(!Y)return 1;let K=$-Y.posAtStart;if(K==0)return 1;if(K==Y.length)return-1;let Q=Y.coordsAt(K,-1);if(Q&&f$(J,X,Q))return-1;let U=Y.coordsAt(K,1);if(U&&f$(J,X,U))return 1;return Q&&Q.bottom>=X?-1:1}function p$(Z,$){let J=Z.posAtCoords({x:$.clientX,y:$.clientY},!1);return{pos:J,bias:wQ(Z,J,$.clientX,$.clientY)}}var hQ=P.ie&&P.ie_version<=11,l$=null,d$=0,c$=0;function qJ(Z){if(!hQ)return Z.detail;let $=l$,J=c$;return l$=Z,c$=Date.now(),d$=!$||J>Date.now()-400&&Math.abs($.clientX-Z.clientX)<2&&Math.abs($.clientY-Z.clientY)<2?(d$+1)%3:1}function vQ(Z,$){let J=p$(Z,$),X=qJ($),Y=Z.state.selection;return{update(K){if(K.docChanged)J.pos=K.changes.mapPos(J.pos),Y=Y.map(K.changes)},get(K,Q,U){let q=p$(Z,K),W,G=g$(Z,q.pos,q.bias,X);if(J.pos!=q.pos&&!Q){let z=g$(Z,J.pos,J.bias,X),j=Math.min(z.from,G.from),_=Math.max(z.to,G.to);G=j<G.from?F.range(j,_):F.range(_,j)}if(Q)return Y.replaceRange(Y.main.extend(G.from,G.to));else if(U&&X==1&&Y.ranges.length>1&&(W=mQ(Y,q.pos)))return W;else if(U)return Y.addRange(G);else return F.create([G])}}}function mQ(Z,$){for(let J=0;J<Z.ranges.length;J++){let{from:X,to:Y}=Z.ranges[J];if(X<=$&&Y>=$)return F.create(Z.ranges.slice(0,J).concat(Z.ranges.slice(J+1)),Z.mainIndex==J?0:Z.mainIndex-(Z.mainIndex>J?1:0))}return null}e9.dragstart=(Z,$)=>{let{selection:{main:J}}=Z.state;if($.target.draggable){let Y=Z.docView.nearest($.target);if(Y&&Y.isWidget){let K=Y.posAtStart,Q=K+Y.length;if(K>=J.to||Q<=J.from)J=F.range(K,Q)}}let{inputState:X}=Z;if(X.mouseSelection)X.mouseSelection.dragging=!0;if(X.draggedContent=J,$.dataTransfer)$.dataTransfer.setData("Text",MZ(Z.state,w4,Z.state.sliceDoc(J.from,J.to))),$.dataTransfer.effectAllowed="copyMove";return!1};e9.dragend=(Z)=>{return Z.inputState.draggedContent=null,!1};function s$(Z,$,J,X){if(J=MZ(Z.state,x4,J),!J)return;let Y=Z.posAtCoords({x:$.clientX,y:$.clientY},!1),{draggedContent:K}=Z.inputState,Q=X&&K&&SQ(Z,$)?{from:K.from,to:K.to}:null,U={from:Y,insert:J},q=Z.state.changes(Q?[Q,U]:U);Z.focus(),Z.dispatch({changes:q,selection:{anchor:q.mapPos(Y,-1),head:q.mapPos(Y,1)},userEvent:Q?"move.drop":"input.drop"}),Z.inputState.draggedContent=null}e9.drop=(Z,$)=>{if(!$.dataTransfer)return!1;if(Z.state.readOnly)return!0;let J=$.dataTransfer.files;if(J&&J.length){let X=Array(J.length),Y=0,K=()=>{if(++Y==J.length)s$(Z,$,X.filter((Q)=>Q!=null).join(Z.state.lineBreak),!1)};for(let Q=0;Q<J.length;Q++){let U=new FileReader;U.onerror=K,U.onload=()=>{if(!/[\x00-\x08\x0e-\x1f]{2}/.test(U.result))X[Q]=U.result;K()},U.readAsText(J[Q])}return!0}else{let X=$.dataTransfer.getData("Text");if(X)return s$(Z,$,X,!0),!0}return!1};e9.paste=(Z,$)=>{if(Z.state.readOnly)return!0;Z.observer.flush();let J=QJ?null:$.clipboardData;if(J)return UJ(Z,J.getData("text/plain")||J.getData("text/uri-list")),!0;else return xQ(Z),!1};function uQ(Z,$){let J=Z.dom.parentNode;if(!J)return;let X=J.appendChild(document.createElement("textarea"));X.style.cssText="position: fixed; left: -10000px; top: 10px",X.value=$,X.focus(),X.selectionEnd=$.length,X.selectionStart=0,setTimeout(()=>{X.remove(),Z.focus()},50)}function gQ(Z){let $=[],J=[],X=!1;for(let Y of Z.selection.ranges)if(!Y.empty)$.push(Z.sliceDoc(Y.from,Y.to)),J.push(Y);if(!$.length){let Y=-1;for(let{from:K}of Z.selection.ranges){let Q=Z.doc.lineAt(K);if(Q.number>Y)$.push(Q.text),J.push({from:Q.from,to:Math.min(Z.doc.length,Q.to+1)});Y=Q.number}X=!0}return{text:MZ(Z,w4,$.join(Z.lineBreak)),ranges:J,linewise:X}}var D4=null;e9.copy=e9.cut=(Z,$)=>{let{text:J,ranges:X,linewise:Y}=gQ(Z.state);if(!J&&!Y)return!1;if(D4=Y?J:null,$.type=="cut"&&!Z.state.readOnly)Z.dispatch({changes:X,scrollIntoView:!0,userEvent:"delete.cut"});let K=QJ?null:$.clipboardData;if(K)return K.clearData(),K.setData("text/plain",J),!0;else return uQ(Z,J),!1};var WJ=T9.define();function GJ(Z,$){let J=[];for(let X of Z.facet(g6)){let Y=X(Z,$);if(Y)J.push(Y)}return J.length?Z.update({effects:J,annotations:WJ.of(!0)}):null}function zJ(Z){setTimeout(()=>{let $=Z.hasFocus;if($!=Z.inputState.notifiedFocused){let J=GJ(Z.state,$);if(J)Z.dispatch(J);else Z.update([])}},10)}d9.focus=(Z)=>{if(Z.inputState.lastFocusTime=Date.now(),!Z.scrollDOM.scrollTop&&(Z.inputState.lastScrollTop||Z.inputState.lastScrollLeft))Z.scrollDOM.scrollTop=Z.inputState.lastScrollTop,Z.scrollDOM.scrollLeft=Z.inputState.lastScrollLeft;zJ(Z)};d9.blur=(Z)=>{Z.observer.clearSelectionRange(),zJ(Z)};d9.compositionstart=d9.compositionupdate=(Z)=>{if(Z.observer.editContext)return;if(Z.inputState.compositionFirstChange==null)Z.inputState.compositionFirstChange=!0;if(Z.inputState.composing<0)Z.inputState.composing=0};d9.compositionend=(Z)=>{if(Z.observer.editContext)return;if(Z.inputState.composing=-1,Z.inputState.compositionEndedAt=Date.now(),Z.inputState.compositionPendingKey=!0,Z.inputState.compositionPendingChange=Z.observer.pendingRecords().length>0,Z.inputState.compositionFirstChange=null,P.chrome&&P.android)Z.observer.flushSoon();else if(Z.inputState.compositionPendingChange)Promise.resolve().then(()=>Z.observer.flush());else setTimeout(()=>{if(Z.inputState.composing<0&&Z.docView.hasComposition)Z.update([])},50)};d9.contextmenu=(Z)=>{Z.inputState.lastContextMenu=Date.now()};e9.beforeinput=(Z,$)=>{var J,X;if($.inputType=="insertReplacementText"&&Z.observer.editContext){let K=(J=$.dataTransfer)===null||J===void 0?void 0:J.getData("text/plain"),Q=$.getTargetRanges();if(K&&Q.length){let U=Q[0],q=Z.posAtDOM(U.startContainer,U.startOffset),W=Z.posAtDOM(U.endContainer,U.endOffset);return v4(Z,{from:q,to:W,insert:Z.state.toText(K)},null),!0}}let Y;if(P.chrome&&P.android&&(Y=XJ.find((K)=>K.inputType==$.inputType))){if(Z.observer.delayAndroidKey(Y.key,Y.keyCode),Y.key=="Backspace"||Y.key=="Delete"){let K=((X=window.visualViewport)===null||X===void 0?void 0:X.height)||0;setTimeout(()=>{var Q;if((((Q=window.visualViewport)===null||Q===void 0?void 0:Q.height)||0)>K+10&&Z.hasFocus)Z.contentDOM.blur(),Z.focus()},100)}}if(P.ios&&$.inputType=="deleteContentForward")Z.observer.flushSoon();if(P.safari&&$.inputType=="insertText"&&Z.inputState.composing>=0)setTimeout(()=>d9.compositionend(Z,$),20);return!1};var i$=new Set;function fQ(Z){if(!i$.has(Z))i$.add(Z),Z.addEventListener("copy",()=>{}),Z.addEventListener("cut",()=>{})}var n$=["pre-wrap","normal","pre-line","break-spaces"],s0=!1;function F4(){s0=!1}class m4{constructor(Z){this.lineWrapping=Z,this.doc=h.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(Z,$){let J=this.doc.lineAt($).number-this.doc.lineAt(Z).number+1;if(this.lineWrapping)J+=Math.max(0,Math.ceil(($-Z-J*this.lineLength*0.5)/this.lineLength));return this.lineHeight*J}heightForLine(Z){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((Z-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight}setDoc(Z){return this.doc=Z,this}mustRefreshForWrapping(Z){return n$.indexOf(Z)>-1!=this.lineWrapping}mustRefreshForHeights(Z){let $=!1;for(let J=0;J<Z.length;J++){let X=Z[J];if(X<0)J++;else if(!this.heightSamples[Math.floor(X*10)])$=!0,this.heightSamples[Math.floor(X*10)]=!0}return $}refresh(Z,$,J,X,Y,K){let Q=n$.indexOf(Z)>-1,U=Math.round($)!=Math.round(this.lineHeight)||this.lineWrapping!=Q;if(this.lineWrapping=Q,this.lineHeight=$,this.charWidth=J,this.textHeight=X,this.lineLength=Y,U){this.heightSamples={};for(let q=0;q<K.length;q++){let W=K[q];if(W<0)q++;else this.heightSamples[Math.floor(W*10)]=!0}}return U}}class u4{constructor(Z,$){this.from=Z,this.heights=$,this.index=0}get more(){return this.index<this.heights.length}}class o9{constructor(Z,$,J,X,Y){this.from=Z,this.length=$,this.top=J,this.height=X,this._content=Y}get type(){return typeof this._content=="number"?R9.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof C0?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(Z){let $=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(Z._content)?Z._content:[Z]);return new o9(this.from,this.length+Z.length,this.top,this.height+Z.height,$)}}var e=function(Z){return Z[Z.ByPos=0]="ByPos",Z[Z.ByHeight=1]="ByHeight",Z[Z.ByPosNoHeight=2]="ByPosNoHeight",Z}(e||(e={})),WZ=0.001;class D9{constructor(Z,$,J=2){this.length=Z,this.height=$,this.flags=J}get outdated(){return(this.flags&2)>0}set outdated(Z){this.flags=(Z?2:0)|this.flags&-3}setHeight(Z){if(this.height!=Z){if(Math.abs(this.height-Z)>WZ)s0=!0;this.height=Z}}replace(Z,$,J){return D9.of(J)}decomposeLeft(Z,$){$.push(this)}decomposeRight(Z,$){$.push(this)}applyChanges(Z,$,J,X){let Y=this,K=J.doc;for(let Q=X.length-1;Q>=0;Q--){let{fromA:U,toA:q,fromB:W,toB:G}=X[Q],z=Y.lineAt(U,e.ByPosNoHeight,J.setDoc($),0,0),j=z.to>=q?z:Y.lineAt(q,e.ByPosNoHeight,J,0,0);G+=j.to-q,q=j.to;while(Q>0&&z.from<=X[Q-1].toA)if(U=X[Q-1].fromA,W=X[Q-1].fromB,Q--,U<z.from)z=Y.lineAt(U,e.ByPosNoHeight,J,0,0);W+=z.from-U,U=z.from;let _=f4.build(J.setDoc(K),Z,W,G);Y=FZ(Y,Y.replace(U,q,_))}return Y.updateHeight(J,0)}static empty(){return new w9(0,0)}static of(Z){if(Z.length==1)return Z[0];let $=0,J=Z.length,X=0,Y=0;for(;;)if($==J)if(X>Y*2){let Q=Z[$-1];if(Q.break)Z.splice(--$,1,Q.left,null,Q.right);else Z.splice(--$,1,Q.left,Q.right);J+=1+Q.break,X-=Q.size}else if(Y>X*2){let Q=Z[J];if(Q.break)Z.splice(J,1,Q.left,null,Q.right);else Z.splice(J,1,Q.left,Q.right);J+=2+Q.break,Y-=Q.size}else break;else if(X<Y){let Q=Z[$++];if(Q)X+=Q.size}else{let Q=Z[--J];if(Q)Y+=Q.size}let K=0;if(Z[$-1]==null)K=1,$--;else if(Z[$]==null)K=1,J++;return new jJ(D9.of(Z.slice(0,$)),K,D9.of(Z.slice(J)))}}function FZ(Z,$){if(Z==$)return Z;if(Z.constructor!=$.constructor)s0=!0;return $}D9.prototype.size=1;class g4 extends D9{constructor(Z,$,J){super(Z,$);this.deco=J}blockAt(Z,$,J,X){return new o9(X,this.length,J,this.height,this.deco||0)}lineAt(Z,$,J,X,Y){return this.blockAt(0,J,X,Y)}forEachLine(Z,$,J,X,Y,K){if(Z<=Y+this.length&&$>=Y)K(this.blockAt(0,J,X,Y))}updateHeight(Z,$=0,J=!1,X){if(X&&X.from<=$&&X.more)this.setHeight(X.heights[X.index++]);return this.outdated=!1,this}toString(){return`block(${this.length})`}}class w9 extends g4{constructor(Z,$){super(Z,$,null);this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(Z,$,J,X){return new o9(X,this.length,J,this.height,this.breaks)}replace(Z,$,J){let X=J[0];if(J.length==1&&(X instanceof w9||X instanceof _9&&X.flags&4)&&Math.abs(this.length-X.length)<10){if(X instanceof _9)X=new w9(X.length,this.height);else X.height=this.height;if(!this.outdated)X.outdated=!1;return X}else return D9.of(J)}updateHeight(Z,$=0,J=!1,X){if(X&&X.from<=$&&X.more)this.setHeight(X.heights[X.index++]);else if(J||this.outdated)this.setHeight(Math.max(this.widgetHeight,Z.heightForLine(this.length-this.collapsed))+this.breaks*Z.lineHeight);return this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class _9 extends D9{constructor(Z){super(Z,0)}heightMetrics(Z,$){let J=Z.doc.lineAt($).number,X=Z.doc.lineAt($+this.length).number,Y=X-J+1,K,Q=0;if(Z.lineWrapping){let U=Math.min(this.height,Z.lineHeight*Y);if(K=U/Y,this.length>Y+1)Q=(this.height-U)/(this.length-Y-1)}else K=this.height/Y;return{firstLine:J,lastLine:X,perLine:K,perChar:Q}}blockAt(Z,$,J,X){let{firstLine:Y,lastLine:K,perLine:Q,perChar:U}=this.heightMetrics($,X);if($.lineWrapping){let q=X+(Z<$.lineHeight?0:Math.round(Math.max(0,Math.min(1,(Z-J)/this.height))*this.length)),W=$.doc.lineAt(q),G=Q+W.length*U,z=Math.max(J,Z-G/2);return new o9(W.from,W.length,z,G,0)}else{let q=Math.max(0,Math.min(K-Y,Math.floor((Z-J)/Q))),{from:W,length:G}=$.doc.line(Y+q);return new o9(W,G,J+Q*q,Q,0)}}lineAt(Z,$,J,X,Y){if($==e.ByHeight)return this.blockAt(Z,J,X,Y);if($==e.ByPosNoHeight){let{from:j,to:_}=J.doc.lineAt(Z);return new o9(j,_-j,0,0,0)}let{firstLine:K,perLine:Q,perChar:U}=this.heightMetrics(J,Y),q=J.doc.lineAt(Z),W=Q+q.length*U,G=q.number-K,z=X+Q*G+U*(q.from-Y-G);return new o9(q.from,q.length,Math.max(X,Math.min(z,X+this.height-W)),W,0)}forEachLine(Z,$,J,X,Y,K){Z=Math.max(Z,Y),$=Math.min($,Y+this.length);let{firstLine:Q,perLine:U,perChar:q}=this.heightMetrics(J,Y);for(let W=Z,G=X;W<=$;){let z=J.doc.lineAt(W);if(W==Z){let _=z.number-Q;G+=U*_+q*(Z-Y-_)}let j=U+q*z.length;K(new o9(z.from,z.length,G,j,0)),G+=j,W=z.to+1}}replace(Z,$,J){let X=this.length-$;if(X>0){let Y=J[J.length-1];if(Y instanceof _9)J[J.length-1]=new _9(Y.length+X);else J.push(null,new _9(X-1))}if(Z>0){let Y=J[0];if(Y instanceof _9)J[0]=new _9(Z+Y.length);else J.unshift(new _9(Z-1),null)}return D9.of(J)}decomposeLeft(Z,$){$.push(new _9(Z-1),null)}decomposeRight(Z,$){$.push(null,new _9(this.length-Z-1))}updateHeight(Z,$=0,J=!1,X){let Y=$+this.length;if(X&&X.from<=$+this.length&&X.more){let K=[],Q=Math.max($,X.from),U=-1;if(X.from>$)K.push(new _9(X.from-$-1).updateHeight(Z,$));while(Q<=Y&&X.more){let W=Z.doc.lineAt(Q).length;if(K.length)K.push(null);let G=X.heights[X.index++];if(U==-1)U=G;else if(Math.abs(G-U)>=WZ)U=-2;let z=new w9(W,G);z.outdated=!1,K.push(z),Q+=W+1}if(Q<=Y)K.push(null,new _9(Y-Q).updateHeight(Z,Q));let q=D9.of(K);if(U<0||Math.abs(q.height-this.height)>=WZ||Math.abs(U-this.heightMetrics(Z,$).perLine)>=WZ)s0=!0;return FZ(this,q)}else if(J||this.outdated)this.setHeight(Z.heightForGap($,$+this.length)),this.outdated=!1;return this}toString(){return`gap(${this.length})`}}class jJ extends D9{constructor(Z,$,J){super(Z.length+$+J.length,Z.height+J.height,$|(Z.outdated||J.outdated?2:0));this.left=Z,this.right=J,this.size=Z.size+J.size}get break(){return this.flags&1}blockAt(Z,$,J,X){let Y=J+this.left.height;return Z<Y?this.left.blockAt(Z,$,J,X):this.right.blockAt(Z,$,Y,X+this.left.length+this.break)}lineAt(Z,$,J,X,Y){let K=X+this.left.height,Q=Y+this.left.length+this.break,U=$==e.ByHeight?Z<K:Z<Q,q=U?this.left.lineAt(Z,$,J,X,Y):this.right.lineAt(Z,$,J,K,Q);if(this.break||(U?q.to<Q:q.from>Q))return q;let W=$==e.ByPosNoHeight?e.ByPosNoHeight:e.ByPos;if(U)return q.join(this.right.lineAt(Q,W,J,K,Q));else return this.left.lineAt(Q,W,J,X,Y).join(q)}forEachLine(Z,$,J,X,Y,K){let Q=X+this.left.height,U=Y+this.left.length+this.break;if(this.break){if(Z<U)this.left.forEachLine(Z,$,J,X,Y,K);if($>=U)this.right.forEachLine(Z,$,J,Q,U,K)}else{let q=this.lineAt(U,e.ByPos,J,X,Y);if(Z<q.from)this.left.forEachLine(Z,q.from-1,J,X,Y,K);if(q.to>=Z&&q.from<=$)K(q);if($>q.to)this.right.forEachLine(q.to+1,$,J,Q,U,K)}}replace(Z,$,J){let X=this.left.length+this.break;if($<X)return this.balanced(this.left.replace(Z,$,J),this.right);if(Z>this.left.length)return this.balanced(this.left,this.right.replace(Z-X,$-X,J));let Y=[];if(Z>0)this.decomposeLeft(Z,Y);let K=Y.length;for(let Q of J)Y.push(Q);if(Z>0)a$(Y,K-1);if($<this.length){let Q=Y.length;this.decomposeRight($,Y),a$(Y,Q)}return D9.of(Y)}decomposeLeft(Z,$){let J=this.left.length;if(Z<=J)return this.left.decomposeLeft(Z,$);if($.push(this.left),this.break){if(J++,Z>=J)$.push(null)}if(Z>J)this.right.decomposeLeft(Z-J,$)}decomposeRight(Z,$){let J=this.left.length,X=J+this.break;if(Z>=X)return this.right.decomposeRight(Z-X,$);if(Z<J)this.left.decomposeRight(Z,$);if(this.break&&Z<X)$.push(null);$.push(this.right)}balanced(Z,$){if(Z.size>2*$.size||$.size>2*Z.size)return D9.of(this.break?[Z,null,$]:[Z,$]);return this.left=FZ(this.left,Z),this.right=FZ(this.right,$),this.setHeight(Z.height+$.height),this.outdated=Z.outdated||$.outdated,this.size=Z.size+$.size,this.length=Z.length+this.break+$.length,this}updateHeight(Z,$=0,J=!1,X){let{left:Y,right:K}=this,Q=$+Y.length+this.break,U=null;if(X&&X.from<=$+Y.length&&X.more)U=Y=Y.updateHeight(Z,$,J,X);else Y.updateHeight(Z,$,J);if(X&&X.from<=Q+K.length&&X.more)U=K=K.updateHeight(Z,Q,J,X);else K.updateHeight(Z,Q,J);if(U)return this.balanced(Y,K);return this.height=this.left.height+this.right.height,this.outdated=!1,this}toString(){return this.left+(this.break?" ":"-")+this.right}}function a$(Z,$){let J,X;if(Z[$]==null&&(J=Z[$-1])instanceof _9&&(X=Z[$+1])instanceof _9)Z.splice($-1,3,new _9(J.length+1+X.length))}var pQ=5;class f4{constructor(Z,$){this.pos=Z,this.oracle=$,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=Z}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(Z,$){if(this.lineStart>-1){let J=Math.min($,this.lineEnd),X=this.nodes[this.nodes.length-1];if(X instanceof w9)X.length+=J-this.pos;else if(J>this.pos||!this.isCovered)this.nodes.push(new w9(J-this.pos,-1));if(this.writtenTo=J,$>J)this.nodes.push(null),this.writtenTo++,this.lineStart=-1}this.pos=$}point(Z,$,J){if(Z<$||J.heightRelevant){let X=J.widget?J.widget.estimatedHeight:0,Y=J.widget?J.widget.lineBreaks:0;if(X<0)X=this.oracle.lineHeight;let K=$-Z;if(J.block)this.addBlock(new g4(K,X,J));else if(K||Y||X>=pQ)this.addLineDeco(X,Y,K)}else if($>Z)this.span(Z,$);if(this.lineEnd>-1&&this.lineEnd<this.pos)this.lineEnd=this.oracle.doc.lineAt(this.pos).to}enterLine(){if(this.lineStart>-1)return;let{from:Z,to:$}=this.oracle.doc.lineAt(this.pos);if(this.lineStart=Z,this.lineEnd=$,this.writtenTo<Z){if(this.writtenTo<Z-1||this.nodes[this.nodes.length-1]==null)this.nodes.push(this.blankContent(this.writtenTo,Z-1));this.nodes.push(null)}if(this.pos>Z)this.nodes.push(new w9(this.pos-Z,-1));this.writtenTo=this.pos}blankContent(Z,$){let J=new _9($-Z);if(this.oracle.doc.lineAt(Z).to==$)J.flags|=4;return J}ensureLine(){this.enterLine();let Z=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(Z instanceof w9)return Z;let $=new w9(0,-1);return this.nodes.push($),$}addBlock(Z){this.enterLine();let $=Z.deco;if($&&$.startSide>0&&!this.isCovered)this.ensureLine();if(this.nodes.push(Z),this.writtenTo=this.pos=this.pos+Z.length,$&&$.endSide>0)this.covering=Z}addLineDeco(Z,$,J){let X=this.ensureLine();X.length+=J,X.collapsed+=J,X.widgetHeight=Math.max(X.widgetHeight,Z),X.breaks+=$,this.writtenTo=this.pos=this.pos+J}finish(Z){let $=this.nodes.length==0?null:this.nodes[this.nodes.length-1];if(this.lineStart>-1&&!($ instanceof w9)&&!this.isCovered)this.nodes.push(new w9(0,-1));else if(this.writtenTo<this.pos||$==null)this.nodes.push(this.blankContent(this.writtenTo,this.pos));let J=Z;for(let X of this.nodes){if(X instanceof w9)X.updateHeight(this.oracle,J);J+=X?X.length:1}return this.nodes}static build(Z,$,J,X){let Y=new f4(J,Z);return w.spans($,J,X,Y,0),Y.finish(J)}}function lQ(Z,$,J){let X=new _J;return w.compare(Z,$,J,X,0),X.changes}class _J{constructor(){this.changes=[]}compareRange(){}comparePoint(Z,$,J,X){if(Z<$||J&&J.heightRelevant||X&&X.heightRelevant)UZ(Z,$,this.changes,5)}}function dQ(Z,$){let J=Z.getBoundingClientRect(),X=Z.ownerDocument,Y=X.defaultView||window,K=Math.max(0,J.left),Q=Math.min(Y.innerWidth,J.right),U=Math.max(0,J.top),q=Math.min(Y.innerHeight,J.bottom);for(let W=Z.parentNode;W&&W!=X.body;)if(W.nodeType==1){let G=W,z=window.getComputedStyle(G);if((G.scrollHeight>G.clientHeight||G.scrollWidth>G.clientWidth)&&z.overflow!="visible"){let j=G.getBoundingClientRect();K=Math.max(K,j.left),Q=Math.min(Q,j.right),U=Math.max(U,j.top),q=Math.min(W==Z.parentNode?Y.innerHeight:q,j.bottom)}W=z.position=="absolute"||z.position=="fixed"?G.offsetParent:G.parentNode}else if(W.nodeType==11)W=W.host;else break;return{left:K-J.left,right:Math.max(K,Q)-J.left,top:U-(J.top+$),bottom:Math.max(U,q)-(J.top+$)}}function cQ(Z){let $=Z.getBoundingClientRect(),J=Z.ownerDocument.defaultView||window;return $.left<J.innerWidth&&$.right>0&&$.top<J.innerHeight&&$.bottom>0}function sQ(Z,$){let J=Z.getBoundingClientRect();return{left:0,right:J.right-J.left,top:$,bottom:J.bottom-(J.top+$)}}class GZ{constructor(Z,$,J,X){this.from=Z,this.to=$,this.size=J,this.displaySize=X}static same(Z,$){if(Z.length!=$.length)return!1;for(let J=0;J<Z.length;J++){let X=Z[J],Y=$[J];if(X.from!=Y.from||X.to!=Y.to||X.size!=Y.size)return!1}return!0}draw(Z,$){return T.replace({widget:new OJ(this.displaySize*($?Z.scaleY:Z.scaleX),$)}).range(this.from,this.to)}}class OJ extends L9{constructor(Z,$){super();this.size=Z,this.vertical=$}eq(Z){return Z.size==this.size&&Z.vertical==this.vertical}toDOM(){let Z=document.createElement("div");if(this.vertical)Z.style.height=this.size+"px";else Z.style.width=this.size+"px",Z.style.height="2px",Z.style.display="inline-block";return Z}get estimatedHeight(){return this.vertical?this.size:-1}}class V4{constructor(Z){this.state=Z,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=r$,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=l.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let $=Z.facet(IZ).some((J)=>typeof J!="function"&&J.class=="cm-lineWrapping");this.heightOracle=new m4($),this.stateDeco=Z.facet(q7).filter((J)=>typeof J!="function"),this.heightMap=D9.empty().applyChanges(this.stateDeco,h.empty,this.heightOracle.setDoc(Z.doc),[new h9(0,0,0,Z.doc.length)]);for(let J=0;J<2;J++)if(this.viewport=this.getViewport(0,null),!this.updateForViewport())break;this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=T.set(this.lineGaps.map((J)=>J.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let Z=[this.viewport],{main:$}=this.state.selection;for(let J=0;J<=1;J++){let X=J?$.head:$.anchor;if(!Z.some(({from:Y,to:K})=>X>=Y&&X<=K)){let{from:Y,to:K}=this.lineBlockAt(X);Z.push(new t5(Y,K))}}return this.viewports=Z.sort((J,X)=>J.from-X.from),this.updateScaler()}updateScaler(){let Z=this.scaler;return this.scaler=this.heightMap.height<=7000000?r$:new p4(this.heightOracle,this.heightMap,this.viewports),Z.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(Z)=>{this.viewportLines.push(e5(Z,this.scaler))})}update(Z,$=null){this.state=Z.state;let J=this.stateDeco;this.stateDeco=this.state.facet(q7).filter((W)=>typeof W!="function");let X=Z.changedRanges,Y=h9.extendWithRanges(X,lQ(J,this.stateDeco,Z?Z.changes:J9.empty(this.state.doc.length))),K=this.heightMap.height,Q=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);if(F4(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,Z.startState.doc,this.heightOracle.setDoc(this.state.doc),Y),this.heightMap.height!=K||s0)Z.flags|=2;if(Q)this.scrollAnchorPos=Z.changes.mapPos(Q.from,-1),this.scrollAnchorHeight=Q.top;else this.scrollAnchorPos=-1,this.scrollAnchorHeight=K;let U=Y.length?this.mapViewport(this.viewport,Z.changes):this.viewport;if($&&($.range.head<U.from||$.range.head>U.to)||!this.viewportIsAppropriate(U))U=this.getViewport(0,$);let q=U.from!=this.viewport.from||U.to!=this.viewport.to;if(this.viewport=U,Z.flags|=this.updateForViewport(),q||!Z.changes.empty||Z.flags&2)this.updateViewportLines();if(this.lineGaps.length||this.viewport.to-this.viewport.from>4000)this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,Z.changes)));if(Z.flags|=this.computeVisibleRanges(Z.changes),$)this.scrollTarget=$;if(!this.mustEnforceCursorAssoc&&Z.selectionSet&&Z.view.lineWrapping&&Z.state.selection.main.empty&&Z.state.selection.main.assoc&&!Z.state.facet(p6))this.mustEnforceCursorAssoc=!0}measure(Z){let $=Z.contentDOM,J=window.getComputedStyle($),X=this.heightOracle,Y=J.whiteSpace;this.defaultTextDirection=J.direction=="rtl"?l.RTL:l.LTR;let K=this.heightOracle.mustRefreshForWrapping(Y),Q=$.getBoundingClientRect(),U=K||this.mustMeasureContent||this.contentDOMHeight!=Q.height;this.contentDOMHeight=Q.height,this.mustMeasureContent=!1;let q=0,W=0;if(Q.width&&Q.height){let{scaleX:V,scaleY:I}=_6($,Q);if(V>0.005&&Math.abs(this.scaleX-V)>0.005||I>0.005&&Math.abs(this.scaleY-I)>0.005)this.scaleX=V,this.scaleY=I,q|=16,K=U=!0}let G=(parseInt(J.paddingTop)||0)*this.scaleY,z=(parseInt(J.paddingBottom)||0)*this.scaleY;if(this.paddingTop!=G||this.paddingBottom!=z)this.paddingTop=G,this.paddingBottom=z,q|=18;if(this.editorWidth!=Z.scrollDOM.clientWidth){if(X.lineWrapping)U=!0;this.editorWidth=Z.scrollDOM.clientWidth,q|=16}let j=Z.scrollDOM.scrollTop*this.scaleY;if(this.scrollTop!=j)this.scrollAnchorHeight=-1,this.scrollTop=j;this.scrolledToBottom=R6(Z.scrollDOM);let _=(this.printing?sQ:dQ)($,this.paddingTop),O=_.top-this.pixelViewport.top,H=_.bottom-this.pixelViewport.bottom;this.pixelViewport=_;let N=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(N!=this.inView){if(this.inView=N,N)U=!0}if(!this.inView&&!this.scrollTarget&&!cQ(Z.dom))return 0;let D=Q.width;if(this.contentDOMWidth!=D||this.editorHeight!=Z.scrollDOM.clientHeight)this.contentDOMWidth=Q.width,this.editorHeight=Z.scrollDOM.clientHeight,q|=16;if(U){let V=Z.docView.measureVisibleLineHeights(this.viewport);if(X.mustRefreshForHeights(V))K=!0;if(K||X.lineWrapping&&Math.abs(D-this.contentDOMWidth)>X.charWidth){let{lineHeight:I,charWidth:M,textHeight:y}=Z.docView.measureTextSize();if(K=I>0&&X.refresh(Y,I,M,y,Math.max(5,D/M),V),K)Z.docView.minWidth=0,q|=16}if(O>0&&H>0)W=Math.max(O,H);else if(O<0&&H<0)W=Math.min(O,H);F4();for(let I of this.viewports){let M=I.from==this.viewport.from?V:Z.docView.measureVisibleLineHeights(I);this.heightMap=(K?D9.empty().applyChanges(this.stateDeco,h.empty,this.heightOracle,[new h9(0,0,0,Z.state.doc.length)]):this.heightMap).updateHeight(X,0,K,new u4(I.from,M))}if(s0)q|=2}let A=!this.viewportIsAppropriate(this.viewport,W)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);if(A){if(q&2)q|=this.updateScaler();this.viewport=this.getViewport(W,this.scrollTarget),q|=this.updateForViewport()}if(q&2||A)this.updateViewportLines();if(this.lineGaps.length||this.viewport.to-this.viewport.from>4000)this.updateLineGaps(this.ensureLineGaps(K?[]:this.lineGaps,Z));if(q|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc)this.mustEnforceCursorAssoc=!1,Z.docView.enforceCursorAssoc();return q}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(Z,$){let J=0.5-Math.max(-0.5,Math.min(0.5,Z/1000/2)),X=this.heightMap,Y=this.heightOracle,{visibleTop:K,visibleBottom:Q}=this,U=new t5(X.lineAt(K-J*1000,e.ByHeight,Y,0,0).from,X.lineAt(Q+(1-J)*1000,e.ByHeight,Y,0,0).to);if($){let{head:q}=$.range;if(q<U.from||q>U.to){let W=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),G=X.lineAt(q,e.ByPos,Y,0,0),z;if($.y=="center")z=(G.top+G.bottom)/2-W/2;else if($.y=="start"||$.y=="nearest"&&q<U.from)z=G.top;else z=G.bottom-W;U=new t5(X.lineAt(z-500,e.ByHeight,Y,0,0).from,X.lineAt(z+W+500,e.ByHeight,Y,0,0).to)}}return U}mapViewport(Z,$){let J=$.mapPos(Z.from,-1),X=$.mapPos(Z.to,1);return new t5(this.heightMap.lineAt(J,e.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(X,e.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:Z,to:$},J=0){if(!this.inView)return!0;let{top:X}=this.heightMap.lineAt(Z,e.ByPos,this.heightOracle,0,0),{bottom:Y}=this.heightMap.lineAt($,e.ByPos,this.heightOracle,0,0),{visibleTop:K,visibleBottom:Q}=this;return(Z==0||X<=K-Math.max(10,Math.min(-J,250)))&&($==this.state.doc.length||Y>=Q+Math.max(10,Math.min(J,250)))&&(X>K-2000&&Y<Q+2000)}mapLineGaps(Z,$){if(!Z.length||$.empty)return Z;let J=[];for(let X of Z)if(!$.touchesRange(X.from,X.to))J.push(new GZ($.mapPos(X.from),$.mapPos(X.to),X.size,X.displaySize));return J}ensureLineGaps(Z,$){let J=this.heightOracle.lineWrapping,X=J?1e4:2000,Y=X>>1,K=X<<1;if(this.defaultTextDirection!=l.LTR&&!J)return[];let Q=[],U=(W,G,z,j)=>{if(G-W<Y)return;let _=this.state.selection.main,O=[_.from];if(!_.empty)O.push(_.to);for(let N of O)if(N>W&&N<G){U(W,N-10,z,j),U(N+10,G,z,j);return}let H=nQ(Z,(N)=>N.from>=z.from&&N.to<=z.to&&Math.abs(N.from-W)<Y&&Math.abs(N.to-G)<Y&&!O.some((D)=>N.from<D&&N.to>D));if(!H){if(G<z.to&&$&&J&&$.visibleRanges.some((A)=>A.from<=G&&A.to>=G)){let A=$.moveToLineBoundary(F.cursor(G),!1,!0).head;if(A>W)G=A}let N=this.gapSize(z,W,G,j),D=J||N<2000000?N:2000000;H=new GZ(W,G,N,D)}Q.push(H)},q=(W)=>{if(W.length<K||W.type!=R9.Text)return;let G=iQ(W.from,W.to,this.stateDeco);if(G.total<K)return;let z=this.scrollTarget?this.scrollTarget.range.head:null,j,_;if(J){let O=X/this.heightOracle.lineLength*this.heightOracle.lineHeight,H,N;if(z!=null){let D=JZ(G,z),A=((this.visibleBottom-this.visibleTop)/2+O)/W.height;H=D-A,N=D+A}else H=(this.visibleTop-W.top-O)/W.height,N=(this.visibleBottom-W.top+O)/W.height;j=$Z(G,H),_=$Z(G,N)}else{let O=G.total*this.heightOracle.charWidth,H=X*this.heightOracle.charWidth,N=0;if(O>2000000){for(let M of Z)if(M.from>=W.from&&M.from<W.to&&M.size!=M.displaySize&&M.from*this.heightOracle.charWidth+N<this.pixelViewport.left)N=M.size-M.displaySize}let D=this.pixelViewport.left+N,A=this.pixelViewport.right+N,V,I;if(z!=null){let M=JZ(G,z),y=((A-D)/2+H)/O;V=M-y,I=M+y}else V=(D-H)/O,I=(A+H)/O;j=$Z(G,V),_=$Z(G,I)}if(j>W.from)U(W.from,j,W,G);if(_<W.to)U(_,W.to,W,G)};for(let W of this.viewportLines)if(Array.isArray(W.type))W.type.forEach(q);else q(W);return Q}gapSize(Z,$,J,X){let Y=JZ(X,J)-JZ(X,$);if(this.heightOracle.lineWrapping)return Z.height*Y;else return X.total*this.heightOracle.charWidth*Y}updateLineGaps(Z){if(!GZ.same(Z,this.lineGaps))this.lineGaps=Z,this.lineGapDeco=T.set(Z.map(($)=>$.draw(this,this.heightOracle.lineWrapping)))}computeVisibleRanges(Z){let $=this.stateDeco;if(this.lineGaps.length)$=$.concat(this.lineGapDeco);let J=[];w.spans($,this.viewport.from,this.viewport.to,{span(Y,K){J.push({from:Y,to:K})},point(){}},20);let X=0;if(J.length!=this.visibleRanges.length)X=12;else for(let Y=0;Y<J.length&&!(X&8);Y++){let K=this.visibleRanges[Y],Q=J[Y];if(K.from!=Q.from||K.to!=Q.to){if(X|=4,!(Z&&Z.mapPos(K.from,-1)==Q.from&&Z.mapPos(K.to,1)==Q.to))X|=8}}return this.visibleRanges=J,X}lineBlockAt(Z){return Z>=this.viewport.from&&Z<=this.viewport.to&&this.viewportLines.find(($)=>$.from<=Z&&$.to>=Z)||e5(this.heightMap.lineAt(Z,e.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(Z){return Z>=this.viewportLines[0].top&&Z<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(($)=>$.top<=Z&&$.bottom>=Z)||e5(this.heightMap.lineAt(this.scaler.fromDOM(Z),e.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(Z){let $=this.lineBlockAtHeight(Z+8);return $.from>=this.viewport.from||this.viewportLines[0].top-Z>200?$:this.viewportLines[0]}elementAtHeight(Z){return e5(this.heightMap.blockAt(this.scaler.fromDOM(Z),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class t5{constructor(Z,$){this.from=Z,this.to=$}}function iQ(Z,$,J){let X=[],Y=Z,K=0;if(w.spans(J,Z,$,{span(){},point(Q,U){if(Q>Y)X.push({from:Y,to:Q}),K+=Q-Y;Y=U}},20),Y<$)X.push({from:Y,to:$}),K+=$-Y;return{total:K,ranges:X}}function $Z({total:Z,ranges:$},J){if(J<=0)return $[0].from;if(J>=1)return $[$.length-1].to;let X=Math.floor(Z*J);for(let Y=0;;Y++){let{from:K,to:Q}=$[Y],U=Q-K;if(X<=U)return K+X;X-=U}}function JZ(Z,$){let J=0;for(let{from:X,to:Y}of Z.ranges){if($<=Y){J+=$-X;break}J+=Y-X}return J/Z.total}function nQ(Z,$){for(let J of Z)if($(J))return J;return}var r$={toDOM(Z){return Z},fromDOM(Z){return Z},scale:1,eq(Z){return Z==this}};class p4{constructor(Z,$,J){let X=0,Y=0,K=0;this.viewports=J.map(({from:Q,to:U})=>{let q=$.lineAt(Q,e.ByPos,Z,0,0).top,W=$.lineAt(U,e.ByPos,Z,0,0).bottom;return X+=W-q,{from:Q,to:U,top:q,bottom:W,domTop:0,domBottom:0}}),this.scale=(7000000-X)/($.height-X);for(let Q of this.viewports)Q.domTop=K+(Q.top-Y)*this.scale,K=Q.domBottom=Q.domTop+(Q.bottom-Q.top),Y=Q.bottom}toDOM(Z){for(let $=0,J=0,X=0;;$++){let Y=$<this.viewports.length?this.viewports[$]:null;if(!Y||Z<Y.top)return X+(Z-J)*this.scale;if(Z<=Y.bottom)return Y.domTop+(Z-Y.top);J=Y.bottom,X=Y.domBottom}}fromDOM(Z){for(let $=0,J=0,X=0;;$++){let Y=$<this.viewports.length?this.viewports[$]:null;if(!Y||Z<Y.domTop)return J+(Z-X)/this.scale;if(Z<=Y.domBottom)return Y.top+(Z-Y.domTop);J=Y.bottom,X=Y.domBottom}}eq(Z){if(!(Z instanceof p4))return!1;return this.scale==Z.scale&&this.viewports.length==Z.viewports.length&&this.viewports.every(($,J)=>$.from==Z.viewports[J].from&&$.to==Z.viewports[J].to)}}function e5(Z,$){if($.scale==1)return Z;let J=$.toDOM(Z.top),X=$.toDOM(Z.bottom);return new o9(Z.from,Z.length,J,X-J,Array.isArray(Z._content)?Z._content.map((Y)=>e5(Y,$)):Z._content)}var XZ=B.define({combine:(Z)=>Z.join(" ")}),A4=B.define({combine:(Z)=>Z.indexOf(!0)>-1}),I4=r9.newName(),HJ=r9.newName(),NJ=r9.newName(),RJ={"&light":"."+HJ,"&dark":"."+NJ};function M4(Z,$,J){return new r9($,{finish(X){return/&/.test(X)?X.replace(/&\w*/,(Y)=>{if(Y=="&")return Z;if(!J||!J[Y])throw new RangeError(`Unsupported selector: ${Y}`);return J[Y]}):Z+" "+X}})}var aQ=M4("."+I4,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},RJ),rQ={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},$4=P.ie&&P.ie_version<=11;class DJ{constructor(Z){if(this.view=Z,this.active=!1,this.editContext=null,this.selectionRange=new O6,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=Z.contentDOM,this.observer=new MutationObserver(($)=>{for(let J of $)this.queue.push(J);if((P.ie&&P.ie_version<=11||P.ios&&Z.composing)&&$.some((J)=>J.type=="childList"&&J.removedNodes.length||J.type=="characterData"&&J.oldValue.length>J.target.nodeValue.length))this.flushSoon();else this.flush()}),window.EditContext&&P.android&&Z.constructor.EDIT_CONTEXT!==!1&&!(P.chrome&&P.chrome_version<126)){if(this.editContext=new FJ(Z),Z.state.facet(H0))Z.contentDOM.editContext=this.editContext.editContext}if($4)this.onCharData=($)=>{this.queue.push({target:$.target,type:"characterData",oldValue:$.prevValue}),this.flushSoon()};if(this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia)this.printQuery=window.matchMedia("print");if(typeof ResizeObserver=="function")this.resizeScroll=new ResizeObserver(()=>{var $;if((($=this.view.docView)===null||$===void 0?void 0:$.lastUpdate)<Date.now()-75)this.onResize()}),this.resizeScroll.observe(Z.scrollDOM);if(this.addWindowListeners(this.win=Z.win),this.start(),typeof IntersectionObserver=="function")this.intersection=new IntersectionObserver(($)=>{if(this.parentCheck<0)this.parentCheck=setTimeout(this.listenForScroll.bind(this),1000);if($.length>0&&$[$.length-1].intersectionRatio>0!=this.intersecting){if(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView)this.onScrollChanged(document.createEvent("Event"))}},{threshold:[0,0.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(($)=>{if($.length>0&&$[$.length-1].intersectionRatio>0)this.onScrollChanged(document.createEvent("Event"))},{});this.listenForScroll(),this.readSelectionRange()}onScrollChanged(Z){if(this.view.inputState.runHandlers("scroll",Z),this.intersecting)this.view.measure()}onScroll(Z){if(this.intersecting)this.flush(!1);if(this.editContext)this.view.requestMeasure(this.editContext.measureReq);this.onScrollChanged(Z)}onResize(){if(this.resizeTimeout<0)this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50)}onPrint(Z){if((Z.type=="change"||!Z.type)&&!Z.matches)return;this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(Z){if(this.gapIntersection&&(Z.length!=this.gaps.length||this.gaps.some(($,J)=>$!=Z[J]))){this.gapIntersection.disconnect();for(let $ of Z)this.gapIntersection.observe($);this.gaps=Z}}onSelectionChange(Z){let $=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:J}=this,X=this.selectionRange;if(J.state.facet(H0)?J.root.activeElement!=this.dom:!QZ(this.dom,X))return;let Y=X.anchorNode&&J.docView.nearest(X.anchorNode);if(Y&&Y.ignoreEvent(Z)){if(!$)this.selectionChanged=!1;return}if((P.ie&&P.ie_version<=11||P.android&&P.chrome)&&!J.state.selection.main.empty&&X.focusNode&&J7(X.focusNode,X.focusOffset,X.anchorNode,X.anchorOffset))this.flushSoon();else this.flush(!1)}readSelectionRange(){let{view:Z}=this,$=U7(Z.root);if(!$)return!1;let J=P.safari&&Z.root.nodeType==11&&Z.root.activeElement==this.dom&&oQ(this.view,$)||$;if(!J||this.selectionRange.eq(J))return!1;let X=QZ(this.dom,J);if(X&&!this.selectionChanged&&Z.inputState.lastFocusTime>Date.now()-200&&Z.inputState.lastTouchTime<Date.now()-300&&sK(this.dom,J))return this.view.inputState.lastFocusTime=0,Z.docView.updateSelection(),!1;if(this.selectionRange.setRange(J),X)this.selectionChanged=!0;return!0}setSelectionRange(Z,$){this.selectionRange.set(Z.node,Z.offset,$.node,$.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let Z=0,$=null;for(let J=this.dom;J;)if(J.nodeType==1){if(!$&&Z<this.scrollTargets.length&&this.scrollTargets[Z]==J)Z++;else if(!$)$=this.scrollTargets.slice(0,Z);if($)$.push(J);J=J.assignedSlot||J.parentNode}else if(J.nodeType==11)J=J.host;else break;if(Z<this.scrollTargets.length&&!$)$=this.scrollTargets.slice(0,Z);if($){for(let J of this.scrollTargets)J.removeEventListener("scroll",this.onScroll);for(let J of this.scrollTargets=$)J.addEventListener("scroll",this.onScroll)}}ignore(Z){if(!this.active)return Z();try{return this.stop(),Z()}finally{this.start(),this.clear()}}start(){if(this.active)return;if(this.observer.observe(this.dom,rQ),$4)this.dom.addEventListener("DOMCharacterDataModified",this.onCharData);this.active=!0}stop(){if(!this.active)return;if(this.active=!1,this.observer.disconnect(),$4)this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData)}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(Z,$){var J;if(!this.delayedAndroidKey){let X=()=>{let Y=this.delayedAndroidKey;if(Y){if(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=Y.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&Y.force)D5(this.dom,Y.key,Y.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(X)}if(!this.delayedAndroidKey||Z=="Enter")this.delayedAndroidKey={key:Z,keyCode:$,force:this.lastChange<Date.now()-50||!!((J=this.delayedAndroidKey)===null||J===void 0?void 0:J.force)}}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){if(this.delayedFlush<0)this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()})}forceFlush(){if(this.delayedFlush>=0)this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1;this.flush()}pendingRecords(){for(let Z of this.observer.takeRecords())this.queue.push(Z);return this.queue}processRecords(){let Z=this.pendingRecords();if(Z.length)this.queue=[];let $=-1,J=-1,X=!1;for(let Y of Z){let K=this.readMutation(Y);if(!K)continue;if(K.typeOver)X=!0;if($==-1)({from:$,to:J}=K);else $=Math.min(K.from,$),J=Math.max(K.to,J)}return{from:$,to:J,typeOver:X}}readChange(){let{from:Z,to:$,typeOver:J}=this.processRecords(),X=this.selectionChanged&&QZ(this.dom,this.selectionRange);if(Z<0&&!X)return null;if(Z>-1)this.lastChange=Date.now();this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let Y=new ZJ(this.view,Z,$,J);return this.view.docView.domChanged={newSel:Y.newSel?Y.newSel.main:null},Y}flush(Z=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;if(Z)this.readSelectionRange();let $=this.readChange();if(!$)return this.view.requestMeasure(),!1;let J=this.view.state,X=$J(this.view,$);if(this.view.state==J&&($.domChanged||$.newSel&&!$.newSel.main.eq(this.view.state.selection.main)))this.view.update([]);return X}readMutation(Z){let $=this.view.docView.nearest(Z.target);if(!$||$.ignoreMutation(Z))return null;if($.markDirty(Z.type=="attributes"),Z.type=="attributes")$.flags|=4;if(Z.type=="childList"){let J=o$($,Z.previousSibling||Z.target.previousSibling,-1),X=o$($,Z.nextSibling||Z.target.nextSibling,1);return{from:J?$.posAfter(J):$.posAtStart,to:X?$.posBefore(X):$.posAtEnd,typeOver:!1}}else if(Z.type=="characterData")return{from:$.posAtStart,to:$.posAtEnd,typeOver:Z.target.nodeValue==Z.oldValue};else return null}setWindow(Z){if(Z!=this.win)this.removeWindowListeners(this.win),this.win=Z,this.addWindowListeners(this.win)}addWindowListeners(Z){if(Z.addEventListener("resize",this.onResize),this.printQuery)if(this.printQuery.addEventListener)this.printQuery.addEventListener("change",this.onPrint);else this.printQuery.addListener(this.onPrint);else Z.addEventListener("beforeprint",this.onPrint);Z.addEventListener("scroll",this.onScroll),Z.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(Z){if(Z.removeEventListener("scroll",this.onScroll),Z.removeEventListener("resize",this.onResize),this.printQuery)if(this.printQuery.removeEventListener)this.printQuery.removeEventListener("change",this.onPrint);else this.printQuery.removeListener(this.onPrint);else Z.removeEventListener("beforeprint",this.onPrint);Z.document.removeEventListener("selectionchange",this.onSelectionChange)}update(Z){if(this.editContext){if(this.editContext.update(Z),Z.startState.facet(H0)!=Z.state.facet(H0))Z.view.contentDOM.editContext=Z.state.facet(H0)?this.editContext.editContext:null}}destroy(){var Z,$,J;this.stop(),(Z=this.intersection)===null||Z===void 0||Z.disconnect(),($=this.gapIntersection)===null||$===void 0||$.disconnect(),(J=this.resizeScroll)===null||J===void 0||J.disconnect();for(let X of this.scrollTargets)X.removeEventListener("scroll",this.onScroll);if(this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext)this.view.contentDOM.editContext=null,this.editContext.destroy()}}function o$(Z,$,J){while($){let X=a.get($);if(X&&X.parent==Z)return X;let Y=$.parentNode;$=Y!=Z.dom?Y:J>0?$.nextSibling:$.previousSibling}return null}function t$(Z,$){let{startContainer:J,startOffset:X,endContainer:Y,endOffset:K}=$,Q=Z.docView.domAtPos(Z.state.selection.main.anchor);if(J7(Q.node,Q.offset,Y,K))[J,X,Y,K]=[Y,K,J,X];return{anchorNode:J,anchorOffset:X,focusNode:Y,focusOffset:K}}function oQ(Z,$){if($.getComposedRanges){let Y=$.getComposedRanges(Z.root)[0];if(Y)return t$(Z,Y)}let J=null;function X(Y){Y.preventDefault(),Y.stopImmediatePropagation(),J=Y.getTargetRanges()[0]}return Z.contentDOM.addEventListener("beforeinput",X,!0),Z.dom.ownerDocument.execCommand("indent"),Z.contentDOM.removeEventListener("beforeinput",X,!0),J?t$(Z,J):null}class FJ{constructor(Z){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(Z.state);let $=this.editContext=new window.EditContext({text:Z.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,Z.state.selection.main.anchor))),selectionEnd:this.toContextPos(Z.state.selection.main.head)});this.handlers.textupdate=(J)=>{let X=Z.state.selection.main,{anchor:Y,head:K}=X,Q=this.toEditorPos(J.updateRangeStart),U=this.toEditorPos(J.updateRangeEnd);if(Z.inputState.composing>=0&&!this.composing)this.composing={contextBase:J.updateRangeStart,editorBase:Q,drifted:!1};let q={from:Q,to:U,insert:h.of(J.text.split(`
`))};if(q.from==this.from&&Y<this.from)q.from=Y;else if(q.to==this.to&&Y>this.to)q.to=Y;if(q.from==q.to&&!q.insert.length){let W=F.single(this.toEditorPos(J.selectionStart),this.toEditorPos(J.selectionEnd));if(!W.main.eq(X))Z.dispatch({selection:W,userEvent:"select"});return}if((P.mac||P.android)&&q.from==K-1&&/^\. ?$/.test(J.text)&&Z.contentDOM.getAttribute("autocorrect")=="off")q={from:Q,to:U,insert:h.of([J.text.replace("."," ")])};if(this.pendingContextChange=q,!Z.state.readOnly){let W=this.to-this.from+(q.to-q.from+q.insert.length);v4(Z,q,F.single(this.toEditorPos(J.selectionStart,W),this.toEditorPos(J.selectionEnd,W)))}if(this.pendingContextChange)this.revertPending(Z.state),this.setSelection(Z.state);if(q.from<q.to&&!q.insert.length&&Z.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test($.text.slice(Math.max(0,J.updateRangeStart-1),Math.min($.text.length,J.updateRangeStart+1))))this.handlers.compositionend(J)},this.handlers.characterboundsupdate=(J)=>{let X=[],Y=null;for(let K=this.toEditorPos(J.rangeStart),Q=this.toEditorPos(J.rangeEnd);K<Q;K++){let U=Z.coordsForChar(K);Y=U&&new DOMRect(U.left,U.top,U.right-U.left,U.bottom-U.top)||Y||new DOMRect,X.push(Y)}$.updateCharacterBounds(J.rangeStart,X)},this.handlers.textformatupdate=(J)=>{let X=[];for(let Y of J.getTextFormats()){let{underlineStyle:K,underlineThickness:Q}=Y;if(!/none/i.test(K)&&!/none/i.test(Q)){let U=this.toEditorPos(Y.rangeStart),q=this.toEditorPos(Y.rangeEnd);if(U<q){let W=`text-decoration: underline ${/^[a-z]/.test(K)?K+" ":K=="Dashed"?"dashed ":K=="Squiggle"?"wavy ":""}${/thin/i.test(Q)?1:2}px`;X.push(T.mark({attributes:{style:W}}).range(U,q))}}}Z.dispatch({effects:d6.of(T.set(X))})},this.handlers.compositionstart=()=>{if(Z.inputState.composing<0)Z.inputState.composing=0,Z.inputState.compositionFirstChange=!0},this.handlers.compositionend=()=>{if(Z.inputState.composing=-1,Z.inputState.compositionFirstChange=null,this.composing){let{drifted:J}=this.composing;if(this.composing=null,J)this.reset(Z.state)}};for(let J in this.handlers)$.addEventListener(J,this.handlers[J]);this.measureReq={read:(J)=>{this.editContext.updateControlBounds(J.contentDOM.getBoundingClientRect());let X=U7(J.root);if(X&&X.rangeCount)this.editContext.updateSelectionBounds(X.getRangeAt(0).getBoundingClientRect())}}}applyEdits(Z){let $=0,J=!1,X=this.pendingContextChange;if(Z.changes.iterChanges((Y,K,Q,U,q)=>{if(J)return;let W=q.length-(K-Y);if(X&&K>=X.to)if(X.from==Y&&X.to==K&&X.insert.eq(q)){X=this.pendingContextChange=null,$+=W,this.to+=W;return}else X=null,this.revertPending(Z.state);if(Y+=$,K+=$,K<=this.from)this.from+=W,this.to+=W;else if(Y<this.to){if(Y<this.from||K>this.to||this.to-this.from+q.length>30000){J=!0;return}this.editContext.updateText(this.toContextPos(Y),this.toContextPos(K),q.toString()),this.to+=W}$+=W}),X&&!J)this.revertPending(Z.state);return!J}update(Z){let $=this.pendingContextChange,J=Z.startState.selection.main;if(this.composing&&(this.composing.drifted||!Z.changes.touchesRange(J.from,J.to)&&Z.transactions.some((X)=>!X.isUserEvent("input.type")&&X.changes.touchesRange(this.from,this.to))))this.composing.drifted=!0,this.composing.editorBase=Z.changes.mapPos(this.composing.editorBase);else if(!this.applyEdits(Z)||!this.rangeIsValid(Z.state))this.pendingContextChange=null,this.reset(Z.state);else if(Z.docChanged||Z.selectionSet||$)this.setSelection(Z.state);if(Z.geometryChanged||Z.docChanged||Z.selectionSet)Z.view.requestMeasure(this.measureReq)}resetRange(Z){let{head:$}=Z.selection.main;this.from=Math.max(0,$-1e4),this.to=Math.min(Z.doc.length,$+1e4)}reset(Z){this.resetRange(Z),this.editContext.updateText(0,this.editContext.text.length,Z.doc.sliceString(this.from,this.to)),this.setSelection(Z)}revertPending(Z){let $=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos($.from),this.toContextPos($.from+$.insert.length),Z.doc.sliceString($.from,$.to))}setSelection(Z){let{main:$}=Z.selection,J=this.toContextPos(Math.max(this.from,Math.min(this.to,$.anchor))),X=this.toContextPos($.head);if(this.editContext.selectionStart!=J||this.editContext.selectionEnd!=X)this.editContext.updateSelection(J,X)}rangeIsValid(Z){let{head:$}=Z.selection.main;return!(this.from>0&&$-this.from<500||this.to<Z.doc.length&&this.to-$<500||this.to-this.from>30000)}toEditorPos(Z,$=this.to-this.from){Z=Math.min(Z,$);let J=this.composing;return J&&J.drifted?J.editorBase+(Z-J.contextBase):Z+this.from}toContextPos(Z){let $=this.composing;return $&&$.drifted?$.contextBase+(Z-$.editorBase):Z-this.from}destroy(){for(let Z in this.handlers)this.editContext.removeEventListener(Z,this.handlers[Z])}}class L{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(Z={}){var $;if(this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),Z.parent)Z.parent.appendChild(this.dom);let{dispatch:J}=Z;if(this.dispatchTransactions=Z.dispatchTransactions||J&&((X)=>X.forEach((Y)=>J(Y,this)))||((X)=>this.update(X)),this.dispatch=this.dispatch.bind(this),this._root=Z.root||cK(Z.parent)||document,this.viewState=new V4(Z.state||m.create(Z)),Z.scrollTo&&Z.scrollTo.is(t7))this.viewState.scrollTarget=Z.scrollTo.value.clip(this.viewState.state);this.plugins=this.state.facet(N5).map((X)=>new qZ(X));for(let X of this.plugins)X.update(this);if(this.observer=new DJ(this),this.inputState=new JJ(this),this.inputState.ensureHandlers(this.plugins),this.docView=new O4(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),($=document.fonts)===null||$===void 0?void 0:$.ready)document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...Z){let $=Z.length==1&&Z[0]instanceof Z9?Z:Z.length==1&&Array.isArray(Z[0])?Z[0]:[this.state.update(...Z)];this.dispatchTransactions($,this)}update(Z){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let $=!1,J=!1,X,Y=this.state;for(let z of Z){if(z.startState!=Y)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");Y=z.state}if(this.destroyed){this.viewState.state=Y;return}let K=this.hasFocus,Q=0,U=null;if(Z.some((z)=>z.annotation(WJ)))this.inputState.notifiedFocused=K,Q=1;else if(K!=this.inputState.notifiedFocused){if(this.inputState.notifiedFocused=K,U=GJ(Y,K),!U)Q=1}let q=this.observer.delayedAndroidKey,W=null;if(q){if(this.observer.clearDelayedAndroidKey(),W=this.observer.readChange(),W&&!this.state.doc.eq(Y.doc)||!this.state.selection.eq(Y.selection))W=null}else this.observer.clear();if(Y.facet(m.phrases)!=this.state.facet(m.phrases))return this.setState(Y);X=W7.create(this,Y,Z),X.flags|=Q;let G=this.viewState.scrollTarget;try{this.updateState=2;for(let z of Z){if(G)G=G.map(z.changes);if(z.scrollIntoView){let{main:j}=z.state.selection;G=new F5(j.empty?j:F.cursor(j.head,j.head>j.anchor?-1:1))}for(let j of z.effects)if(j.is(t7))G=j.value.clip(this.state)}if(this.viewState.update(X,G),this.bidiCache=VZ.update(this.bidiCache,X.changes),!X.empty)this.updatePlugins(X),this.inputState.update(X);if($=this.docView.update(X),this.state.facet(r5)!=this.styleModules)this.mountStyles();J=this.updateAttrs(),this.showAnnouncements(Z),this.docView.updateSelection($,Z.some((z)=>z.isUserEvent("select.pointer")))}finally{this.updateState=0}if(X.startState.facet(XZ)!=X.state.facet(XZ))this.viewState.mustMeasureContent=!0;if($||J||G||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)this.requestMeasure();if($)this.docViewUpdate();if(!X.empty)for(let z of this.state.facet(_4))try{z(X)}catch(j){W9(this.state,j,"update listener")}if(U||W)Promise.resolve().then(()=>{if(U&&this.state==U.startState)this.dispatch(U);if(W){if(!$J(this,W)&&q.force)D5(this.contentDOM,q.key,q.keyCode)}})}setState(Z){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=Z;return}this.updateState=2;let $=this.hasFocus;try{for(let J of this.plugins)J.destroy(this);this.viewState=new V4(Z),this.plugins=Z.facet(N5).map((J)=>new qZ(J)),this.pluginMap.clear();for(let J of this.plugins)J.update(this);this.docView.destroy(),this.docView=new O4(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}if($)this.focus();this.requestMeasure()}updatePlugins(Z){let $=Z.startState.facet(N5),J=Z.state.facet(N5);if($!=J){let X=[];for(let Y of J){let K=$.indexOf(Y);if(K<0)X.push(new qZ(Y));else{let Q=this.plugins[K];Q.mustUpdate=Z,X.push(Q)}}for(let Y of this.plugins)if(Y.mustUpdate!=Z)Y.destroy(this);this.plugins=X,this.pluginMap.clear()}else for(let X of this.plugins)X.mustUpdate=Z;for(let X=0;X<this.plugins.length;X++)this.plugins[X].update(this);if($!=J)this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let Z of this.plugins){let $=Z.value;if($&&$.docViewUpdate)try{$.docViewUpdate(this)}catch(J){W9(this.state,J,"doc view update listener")}}}measure(Z=!0){if(this.destroyed)return;if(this.measureScheduled>-1)this.win.cancelAnimationFrame(this.measureScheduled);if(this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}if(this.measureScheduled=0,Z)this.observer.forceFlush();let $=null,J=this.scrollDOM,X=J.scrollTop*this.scaleY,{scrollAnchorPos:Y,scrollAnchorHeight:K}=this.viewState;if(Math.abs(X-this.viewState.scrollTop)>1)K=-1;this.viewState.scrollAnchorHeight=-1;try{for(let Q=0;;Q++){if(K<0)if(R6(J))Y=-1,K=this.viewState.heightMap.height;else{let j=this.viewState.scrollAnchorAt(X);Y=j.from,K=j.top}this.updateState=1;let U=this.viewState.measure(this);if(!U&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(Q>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let q=[];if(!(U&4))[this.measureRequests,q]=[q,this.measureRequests];let W=q.map((j)=>{try{return j.read(this)}catch(_){return W9(this.state,_),e$}}),G=W7.create(this,this.state,[]),z=!1;if(G.flags|=U,!$)$=G;else $.flags|=U;if(this.updateState=2,!G.empty){if(this.updatePlugins(G),this.inputState.update(G),this.updateAttrs(),z=this.docView.update(G),z)this.docViewUpdate()}for(let j=0;j<q.length;j++)if(W[j]!=e$)try{let _=q[j];if(_.write)_.write(W[j],this)}catch(_){W9(this.state,_)}if(z)this.docView.updateSelection(!0);if(!G.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,K=-1;continue}else{let _=(Y<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(Y).top)-K;if(_>1||_<-1){X=X+_,J.scrollTop=X/this.scaleY,K=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if($&&!$.empty)for(let Q of this.state.facet(_4))Q($)}get themeClasses(){return I4+" "+(this.state.facet(A4)?NJ:HJ)+" "+this.state.facet(XZ)}updateAttrs(){let Z=Z6(this,c6,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),$={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:!this.state.facet(H0)?"false":"true",class:"cm-content",style:`${P.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};if(this.state.readOnly)$["aria-readonly"]="true";Z6(this,IZ,$);let J=this.observer.ignore(()=>{let X=W4(this.contentDOM,this.contentAttrs,$),Y=W4(this.dom,this.editorAttrs,Z);return X||Y});return this.editorAttrs=Z,this.contentAttrs=$,J}showAnnouncements(Z){let $=!0;for(let J of Z)for(let X of J.effects)if(X.is(L.announce)){if($)this.announceDOM.textContent="";$=!1;let Y=this.announceDOM.appendChild(document.createElement("div"));Y.textContent=X.value}}mountStyles(){this.styleModules=this.state.facet(r5);let Z=this.state.facet(L.cspNonce);r9.mount(this.root,this.styleModules.concat(aQ).reverse(),Z?{nonce:Z}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");if(this.updateState==0&&this.measureScheduled>-1)this.measure(!1)}requestMeasure(Z){if(this.measureScheduled<0)this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure());if(Z){if(this.measureRequests.indexOf(Z)>-1)return;if(Z.key!=null){for(let $=0;$<this.measureRequests.length;$++)if(this.measureRequests[$].key===Z.key){this.measureRequests[$]=Z;return}}this.measureRequests.push(Z)}}plugin(Z){let $=this.pluginMap.get(Z);if($===void 0||$&&$.plugin!=Z)this.pluginMap.set(Z,$=this.plugins.find((J)=>J.plugin==Z)||null);return $&&$.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(Z){return this.readMeasured(),this.viewState.elementAtHeight(Z)}lineBlockAtHeight(Z){return this.readMeasured(),this.viewState.lineBlockAtHeight(Z)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(Z){return this.viewState.lineBlockAt(Z)}get contentHeight(){return this.viewState.contentHeight}moveByChar(Z,$,J){return Z4(this,Z,m$(this,Z,$,J))}moveByGroup(Z,$){return Z4(this,Z,m$(this,Z,$,(J)=>VQ(this,Z.head,J)))}visualLineSide(Z,$){let J=this.bidiSpans(Z),X=this.textDirectionAt(Z.from),Y=J[$?J.length-1:0];return F.cursor(Y.side($,X)+Z.from,Y.forward(!$,X)?1:-1)}moveToLineBoundary(Z,$,J=!0){return FQ(this,Z,$,J)}moveVertically(Z,$,J){return Z4(this,Z,AQ(this,Z,$,J))}domAtPos(Z){return this.docView.domAtPos(Z)}posAtDOM(Z,$=0){return this.docView.posFromDOM(Z,$)}posAtCoords(Z,$=!0){return this.readMeasured(),r6(this,Z,$)}coordsAtPos(Z,$=1){this.readMeasured();let J=this.docView.coordsAt(Z,$);if(!J||J.left==J.right)return J;let X=this.state.doc.lineAt(Z),Y=this.bidiSpans(X),K=Y[Q0.find(Y,Z-X.from,-1,$)];return z7(J,K.dir==l.LTR==$>0)}coordsForChar(Z){return this.readMeasured(),this.docView.coordsForChar(Z)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(Z){if(!this.state.facet(f6)||Z<this.viewport.from||Z>this.viewport.to)return this.textDirection;return this.readMeasured(),this.docView.textDirectionAt(Z)}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(Z){if(Z.length>tQ)return k6(Z.length);let $=this.textDirectionAt(Z.from),J;for(let Y of this.bidiCache)if(Y.from==Z.from&&Y.dir==$&&(Y.fresh||y6(Y.isolates,J=b$(this,Z))))return Y.order;if(!J)J=b$(this,Z);let X=S6(Z.text,$,J);return this.bidiCache.push(new VZ(Z.from,Z.to,$,J,!0,X)),X}get hasFocus(){var Z;return(this.dom.ownerDocument.hasFocus()||P.safari&&((Z=this.inputState)===null||Z===void 0?void 0:Z.lastContextMenu)>Date.now()-30000)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{H6(this.contentDOM),this.docView.updateSelection()})}setRoot(Z){if(this._root!=Z)this._root=Z,this.observer.setWindow((Z.nodeType==9?Z:Z.ownerDocument).defaultView||window),this.mountStyles()}destroy(){if(this.root.activeElement==this.contentDOM)this.contentDOM.blur();for(let Z of this.plugins)Z.destroy(this);if(this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1)this.win.cancelAnimationFrame(this.measureScheduled);this.destroyed=!0}static scrollIntoView(Z,$={}){return t7.of(new F5(typeof Z=="number"?F.cursor(Z):Z,$.y,$.x,$.yMargin,$.xMargin))}scrollSnapshot(){let{scrollTop:Z,scrollLeft:$}=this.scrollDOM,J=this.viewState.scrollAnchorAt(Z);return t7.of(new F5(F.cursor(J.from),"start","start",J.top-Z,$,!0))}setTabFocusMode(Z){if(Z==null)this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1;else if(typeof Z=="boolean")this.inputState.tabFocusMode=Z?0:-1;else if(this.inputState.tabFocusMode!=0)this.inputState.tabFocusMode=Date.now()+Z}static domEventHandlers(Z){return c.define(()=>({}),{eventHandlers:Z})}static domEventObservers(Z){return c.define(()=>({}),{eventObservers:Z})}static theme(Z,$){let J=r9.newName(),X=[XZ.of(J),r5.of(M4(`.${J}`,Z))];if($&&$.dark)X.push(A4.of(!0));return X}static baseTheme(Z){return P9.lowest(r5.of(M4("."+I4,Z,RJ)))}static findFromDOM(Z){var $;let J=Z.querySelector(".cm-content"),X=J&&a.get(J)||a.get(Z);return(($=X===null||X===void 0?void 0:X.rootView)===null||$===void 0?void 0:$.view)||null}}L.styleModule=r5;L.inputHandler=u6;L.clipboardInputFilter=x4;L.clipboardOutputFilter=w4;L.scrollHandler=l6;L.focusChangeEffect=g6;L.perLineTextDirection=f6;L.exceptionSink=m6;L.updateListener=_4;L.editable=H0;L.mouseSelectionStyle=v6;L.dragMovesSelection=h6;L.clickAddsSelectionRange=w6;L.decorations=q7;L.outerDecorations=s6;L.atomicRanges=O7;L.bidiIsolatedRanges=i6;L.scrollMargins=n6;L.darkTheme=A4;L.cspNonce=B.define({combine:(Z)=>Z.length?Z[0]:""});L.contentAttributes=IZ;L.editorAttributes=c6;L.lineWrapping=L.contentAttributes.of({class:"cm-lineWrapping"});L.announce=S.define();var tQ=4096,e$={};class VZ{constructor(Z,$,J,X,Y,K){this.from=Z,this.to=$,this.dir=J,this.isolates=X,this.fresh=Y,this.order=K}static update(Z,$){if($.empty&&!Z.some((Y)=>Y.fresh))return Z;let J=[],X=Z.length?Z[Z.length-1].dir:l.LTR;for(let Y=Math.max(0,Z.length-10);Y<Z.length;Y++){let K=Z[Y];if(K.dir==X&&!$.touchesRange(K.from,K.to))J.push(new VZ($.mapPos(K.from,1),$.mapPos(K.to,-1),K.dir,K.isolates,!1,K.order))}return J}}function Z6(Z,$,J){for(let X=Z.state.facet($),Y=X.length-1;Y>=0;Y--){let K=X[Y],Q=typeof K=="function"?K(Z):K;if(Q)q4(Q,J)}return J}var eQ=P.mac?"mac":P.windows?"win":P.linux?"linux":"key";function ZU(Z,$){let J=Z.split(/-(?!$)/),X=J[J.length-1];if(X=="Space")X=" ";let Y,K,Q,U;for(let q=0;q<J.length-1;++q){let W=J[q];if(/^(cmd|meta|m)$/i.test(W))U=!0;else if(/^a(lt)?$/i.test(W))Y=!0;else if(/^(c|ctrl|control)$/i.test(W))K=!0;else if(/^s(hift)?$/i.test(W))Q=!0;else if(/^mod$/i.test(W))if($=="mac")U=!0;else K=!0;else throw new Error("Unrecognized modifier name: "+W)}if(Y)X="Alt-"+X;if(K)X="Ctrl-"+X;if(U)X="Meta-"+X;if(Q)X="Shift-"+X;return X}function YZ(Z,$,J){if($.altKey)Z="Alt-"+Z;if($.ctrlKey)Z="Ctrl-"+Z;if($.metaKey)Z="Meta-"+Z;if(J!==!1&&$.shiftKey)Z="Shift-"+Z;return Z}var $U=P9.default(L.domEventHandlers({keydown(Z,$){return AJ(VJ($.state),Z,$,"editor")}})),y0=B.define({enables:$U}),$6=new WeakMap;function VJ(Z){let $=Z.facet(y0),J=$6.get($);if(!J)$6.set($,J=XU($.reduce((X,Y)=>X.concat(Y),[])));return J}function l4(Z,$,J){return AJ(VJ(Z.state),$,Z,J)}var P0=null,JU=4000;function XU(Z,$=eQ){let J=Object.create(null),X=Object.create(null),Y=(Q,U)=>{let q=X[Q];if(q==null)X[Q]=U;else if(q!=U)throw new Error("Key binding "+Q+" is used both as a regular binding and as a multi-stroke prefix")},K=(Q,U,q,W,G)=>{var z,j;let _=J[Q]||(J[Q]=Object.create(null)),O=U.split(/ (?!$)/).map((D)=>ZU(D,$));for(let D=1;D<O.length;D++){let A=O.slice(0,D).join(" ");if(Y(A,!0),!_[A])_[A]={preventDefault:!0,stopPropagation:!1,run:[(V)=>{let I=P0={view:V,prefix:A,scope:Q};return setTimeout(()=>{if(P0==I)P0=null},JU),!0}]}}let H=O.join(" ");Y(H,!1);let N=_[H]||(_[H]={preventDefault:!1,stopPropagation:!1,run:((j=(z=_._any)===null||z===void 0?void 0:z.run)===null||j===void 0?void 0:j.slice())||[]});if(q)N.run.push(q);if(W)N.preventDefault=!0;if(G)N.stopPropagation=!0};for(let Q of Z){let U=Q.scope?Q.scope.split(" "):["editor"];if(Q.any)for(let W of U){let G=J[W]||(J[W]=Object.create(null));if(!G._any)G._any={preventDefault:!1,stopPropagation:!1,run:[]};let{any:z}=Q;for(let j in G)G[j].run.push((_)=>z(_,L4))}let q=Q[$]||Q.key;if(!q)continue;for(let W of U)if(K(W,q,Q.run,Q.preventDefault,Q.stopPropagation),Q.shift)K(W,"Shift-"+q,Q.shift,Q.preventDefault,Q.stopPropagation)}return J}var L4=null;function AJ(Z,$,J,X){L4=$;let Y=L$($),K=q9(Y,0),Q=E9(K)==Y.length&&Y!=" ",U="",q=!1,W=!1,G=!1;if(P0&&P0.view==J&&P0.scope==X){if(U=P0.prefix+" ",YJ.indexOf($.keyCode)<0)W=!0,P0=null}let z=new Set,j=(N)=>{if(N){for(let D of N.run)if(!z.has(D)){if(z.add(D),D(J)){if(N.stopPropagation)G=!0;return!0}}if(N.preventDefault){if(N.stopPropagation)G=!0;W=!0}}return!1},_=Z[X],O,H;if(_){if(j(_[U+YZ(Y,$,!Q)]))q=!0;else if(Q&&($.altKey||$.metaKey||$.ctrlKey)&&!(P.windows&&$.ctrlKey&&$.altKey)&&!(P.mac&&$.altKey&&!($.ctrlKey||$.metaKey))&&(O=O0[$.keyCode])&&O!=Y){if(j(_[U+YZ(O,$,!0)]))q=!0;else if($.shiftKey&&(H=O5[$.keyCode])!=Y&&H!=O&&j(_[U+YZ(H,$,!1)]))q=!0}else if(Q&&$.shiftKey&&j(_[U+YZ(Y,$,!0)]))q=!0;if(!q&&j(_._any))q=!0}if(W)q=!0;if(q&&G)$.stopPropagation();return L4=null,q}class M5{constructor(Z,$,J,X,Y){this.className=Z,this.left=$,this.top=J,this.width=X,this.height=Y}draw(){let Z=document.createElement("div");return Z.className=this.className,this.adjust(Z),Z}update(Z,$){if($.className!=this.className)return!1;return this.adjust(Z),!0}adjust(Z){if(Z.style.left=this.left+"px",Z.style.top=this.top+"px",this.width!=null)Z.style.width=this.width+"px";Z.style.height=this.height+"px"}eq(Z){return this.left==Z.left&&this.top==Z.top&&this.width==Z.width&&this.height==Z.height&&this.className==Z.className}static forRange(Z,$,J){if(J.empty){let X=Z.coordsAtPos(J.head,J.assoc||1);if(!X)return[];let Y=IJ(Z);return[new M5($,X.left-Y.left,X.top-Y.top,null,X.bottom-X.top)]}else return YU(Z,$,J)}}function IJ(Z){let $=Z.scrollDOM.getBoundingClientRect();return{left:(Z.textDirection==l.LTR?$.left:$.right-Z.scrollDOM.clientWidth*Z.scaleX)-Z.scrollDOM.scrollLeft*Z.scaleX,top:$.top-Z.scrollDOM.scrollTop*Z.scaleY}}function J6(Z,$,J,X){let Y=Z.coordsAtPos($,J*2);if(!Y)return X;let K=Z.dom.getBoundingClientRect(),Q=(Y.top+Y.bottom)/2,U=Z.posAtCoords({x:K.left+1,y:Q}),q=Z.posAtCoords({x:K.right-1,y:Q});if(U==null||q==null)return X;return{from:Math.max(X.from,Math.min(U,q)),to:Math.min(X.to,Math.max(U,q))}}function YU(Z,$,J){if(J.to<=Z.viewport.from||J.from>=Z.viewport.to)return[];let X=Math.max(J.from,Z.viewport.from),Y=Math.min(J.to,Z.viewport.to),K=Z.textDirection==l.LTR,Q=Z.contentDOM,U=Q.getBoundingClientRect(),q=IJ(Z),W=Q.querySelector(".cm-line"),G=W&&window.getComputedStyle(W),z=U.left+(G?parseInt(G.paddingLeft)+Math.min(0,parseInt(G.textIndent)):0),j=U.right-(G?parseInt(G.paddingRight):0),_=N4(Z,X,1),O=N4(Z,Y,-1),H=_.type==R9.Text?_:null,N=O.type==R9.Text?O:null;if(H&&(Z.lineWrapping||_.widgetLineBreaks))H=J6(Z,X,1,H);if(N&&(Z.lineWrapping||O.widgetLineBreaks))N=J6(Z,Y,-1,N);if(H&&N&&H.from==N.from&&H.to==N.to)return A(V(J.from,J.to,H));else{let M=H?V(J.from,null,H):I(_,!1),y=N?V(null,J.to,N):I(O,!0),C=[];if((H||_).to<(N||O).from-(H&&N?1:0)||_.widgetLineBreaks>1&&M.bottom+Z.defaultLineHeight/2<y.top)C.push(D(z,M.bottom,j,y.top));else if(M.bottom<y.top&&Z.elementAtHeight((M.bottom+y.top)/2).type==R9.Text)M.bottom=y.top=(M.bottom+y.top)/2;return A(M).concat(C).concat(A(y))}function D(M,y,C,x){return new M5($,M-q.left,y-q.top,C-M,x-y)}function A({top:M,bottom:y,horizontal:C}){let x=[];for(let f=0;f<C.length;f+=2)x.push(D(C[f],M,C[f+1],y));return x}function V(M,y,C){let x=1e9,f=-1e9,i=[];function v(p,o,I9,x9,$0){let z9=Z.coordsAtPos(p,p==C.to?-2:2),f9=Z.coordsAtPos(I9,I9==C.from?2:-2);if(!z9||!f9)return;if(x=Math.min(z9.top,f9.top,x),f=Math.max(z9.bottom,f9.bottom,f),$0==l.LTR)i.push(K&&o?z:z9.left,K&&x9?j:f9.right);else i.push(!K&&x9?z:f9.left,!K&&o?j:z9.right)}let k=M!==null&&M!==void 0?M:C.from,d=y!==null&&y!==void 0?y:C.to;for(let p of Z.visibleRanges)if(p.to>k&&p.from<d)for(let o=Math.max(p.from,k),I9=Math.min(p.to,d);;){let x9=Z.state.doc.lineAt(o);for(let $0 of Z.bidiSpans(x9)){let z9=$0.from+x9.from,f9=$0.to+x9.from;if(z9>=I9)break;if(f9>o)v(Math.max(z9,o),M==null&&z9<=k,Math.min(f9,I9),y==null&&f9>=d,$0.dir)}if(o=x9.to+1,o>=I9)break}if(i.length==0)v(k,M==null,d,y==null,Z.textDirection);return{top:x,bottom:f,horizontal:i}}function I(M,y){let C=U.top+(y?M.top:M.bottom);return{top:C,bottom:C,horizontal:[]}}}function KU(Z,$){return Z.constructor==$.constructor&&Z.eq($)}class MJ{constructor(Z,$){if(this.view=Z,this.layer=$,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=Z.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),$.above)this.dom.classList.add("cm-layer-above");if($.class)this.dom.classList.add($.class);if(this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(Z.state),Z.requestMeasure(this.measureReq),$.mount)$.mount(this.dom,Z)}update(Z){if(Z.startState.facet(zZ)!=Z.state.facet(zZ))this.setOrder(Z.state);if(this.layer.update(Z,this.dom)||Z.geometryChanged)this.scale(),Z.view.requestMeasure(this.measureReq)}docViewUpdate(Z){if(this.layer.updateOnDocViewUpdate!==!1)Z.requestMeasure(this.measureReq)}setOrder(Z){let $=0,J=Z.facet(zZ);while($<J.length&&J[$]!=this.layer)$++;this.dom.style.zIndex=String((this.layer.above?150:-1)-$)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:Z,scaleY:$}=this.view;if(Z!=this.scaleX||$!=this.scaleY)this.scaleX=Z,this.scaleY=$,this.dom.style.transform=`scale(${1/Z}, ${1/$})`}draw(Z){if(Z.length!=this.drawn.length||Z.some(($,J)=>!KU($,this.drawn[J]))){let $=this.dom.firstChild,J=0;for(let X of Z)if(X.update&&$&&X.constructor&&this.drawn[J].constructor&&X.update($,this.drawn[J]))$=$.nextSibling,J++;else this.dom.insertBefore(X.draw(),$);while($){let X=$.nextSibling;$.remove(),$=X}if(this.drawn=Z,P.ios)this.dom.style.display=this.dom.firstChild?"":"none"}}destroy(){if(this.layer.destroy)this.layer.destroy(this.dom,this.view);this.dom.remove()}}var zZ=B.define();function d4(Z){return[c.define(($)=>new MJ($,Z)),zZ.of(Z)]}var I5=B.define({combine(Z){return j9(Z,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:($,J)=>Math.min($,J),drawRangeCursor:($,J)=>$||J})}});function LZ(Z={}){return[I5.of(Z),UU,qU,WU,p6.of(!0)]}function QU(Z){return Z.facet(I5)}function LJ(Z){return Z.startState.facet(I5)!=Z.state.facet(I5)}var UU=d4({above:!0,markers(Z){let{state:$}=Z,J=$.facet(I5),X=[];for(let Y of $.selection.ranges){let K=Y==$.selection.main;if(Y.empty||J.drawRangeCursor){let Q=K?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",U=Y.empty?Y:F.cursor(Y.head,Y.head>Y.anchor?-1:1);for(let q of M5.forRange(Z,Q,U))X.push(q)}}return X},update(Z,$){if(Z.transactions.some((X)=>X.selection))$.style.animationName=$.style.animationName=="cm-blink"?"cm-blink2":"cm-blink";let J=LJ(Z);if(J)X6(Z.state,$);return Z.docChanged||Z.selectionSet||J},mount(Z,$){X6($.state,Z)},class:"cm-cursorLayer"});function X6(Z,$){$.style.animationDuration=Z.facet(I5).cursorBlinkRate+"ms"}var qU=d4({above:!1,markers(Z){return Z.state.selection.ranges.map(($)=>$.empty?[]:M5.forRange(Z,"cm-selectionBackground",$)).reduce(($,J)=>$.concat(J))},update(Z,$){return Z.docChanged||Z.selectionSet||Z.viewportChanged||LJ(Z)},class:"cm-selectionLayer"}),WU=P9.highest(L.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),BJ=S.define({map(Z,$){return Z==null?null:$.mapPos(Z)}}),Z7=t.define({create(){return null},update(Z,$){if(Z!=null)Z=$.changes.mapPos(Z);return $.effects.reduce((J,X)=>X.is(BJ)?X.value:J,Z)}}),GU=c.fromClass(class{constructor(Z){this.view=Z,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(Z){var $;let J=Z.state.field(Z7);if(J==null){if(this.cursor!=null)($=this.cursor)===null||$===void 0||$.remove(),this.cursor=null}else{if(!this.cursor)this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor";if(Z.startState.field(Z7)!=J||Z.docChanged||Z.geometryChanged)this.view.requestMeasure(this.measureReq)}}readPos(){let{view:Z}=this,$=Z.state.field(Z7),J=$!=null&&Z.coordsAtPos($);if(!J)return null;let X=Z.scrollDOM.getBoundingClientRect();return{left:J.left-X.left+Z.scrollDOM.scrollLeft*Z.scaleX,top:J.top-X.top+Z.scrollDOM.scrollTop*Z.scaleY,height:J.bottom-J.top}}drawCursor(Z){if(this.cursor){let{scaleX:$,scaleY:J}=this.view;if(Z)this.cursor.style.left=Z.left/$+"px",this.cursor.style.top=Z.top/J+"px",this.cursor.style.height=Z.height/J+"px";else this.cursor.style.left="-100000px"}}destroy(){if(this.cursor)this.cursor.remove()}setDropPos(Z){if(this.view.state.field(Z7)!=Z)this.view.dispatch({effects:BJ.of(Z)})}},{eventObservers:{dragover(Z){this.setDropPos(this.view.posAtCoords({x:Z.clientX,y:Z.clientY}))},dragleave(Z){if(Z.target==this.view.contentDOM||!this.view.contentDOM.contains(Z.relatedTarget))this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function c4(){return[Z7,GU]}function Y6(Z,$,J,X,Y){$.lastIndex=0;for(let K=Z.iterRange(J,X),Q=J,U;!K.next().done;Q+=K.value.length)if(!K.lineBreak)while(U=$.exec(K.value))Y(Q+U.index,U)}function zU(Z,$){let J=Z.visibleRanges;if(J.length==1&&J[0].from==Z.viewport.from&&J[0].to==Z.viewport.to)return J;let X=[];for(let{from:Y,to:K}of J)if(Y=Math.max(Z.state.doc.lineAt(Y).from,Y-$),K=Math.min(Z.state.doc.lineAt(K).to,K+$),X.length&&X[X.length-1].to>=Y)X[X.length-1].to=K;else X.push({from:Y,to:K});return X}class H7{constructor(Z){let{regexp:$,decoration:J,decorate:X,boundary:Y,maxLength:K=1000}=Z;if(!$.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=$,X)this.addMatch=(Q,U,q,W)=>X(W,q,q+Q[0].length,Q,U);else if(typeof J=="function")this.addMatch=(Q,U,q,W)=>{let G=J(Q,U,q);if(G)W(q,q+Q[0].length,G)};else if(J)this.addMatch=(Q,U,q,W)=>W(q,q+Q[0].length,J);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=Y,this.maxLength=K}createDeco(Z){let $=new M9,J=$.add.bind($);for(let{from:X,to:Y}of zU(Z,this.maxLength))Y6(Z.state.doc,this.regexp,X,Y,(K,Q)=>this.addMatch(Q,Z,K,J));return $.finish()}updateDeco(Z,$){let J=1e9,X=-1;if(Z.docChanged)Z.changes.iterChanges((Y,K,Q,U)=>{if(U>=Z.view.viewport.from&&Q<=Z.view.viewport.to)J=Math.min(Q,J),X=Math.max(U,X)});if(Z.viewportMoved||X-J>1000)return this.createDeco(Z.view);if(X>-1)return this.updateRange(Z.view,$.map(Z.changes),J,X);return $}updateRange(Z,$,J,X){for(let Y of Z.visibleRanges){let K=Math.max(Y.from,J),Q=Math.min(Y.to,X);if(Q>=K){let U=Z.state.doc.lineAt(K),q=U.to<Q?Z.state.doc.lineAt(Q):U,W=Math.max(Y.from,U.from),G=Math.min(Y.to,q.to);if(this.boundary){for(;K>U.from;K--)if(this.boundary.test(U.text[K-1-U.from])){W=K;break}for(;Q<q.to;Q++)if(this.boundary.test(q.text[Q-q.from])){G=Q;break}}let z=[],j,_=(O,H,N)=>z.push(N.range(O,H));if(U==q){this.regexp.lastIndex=W-U.from;while((j=this.regexp.exec(U.text))&&j.index<G-U.from)this.addMatch(j,Z,j.index+U.from,_)}else Y6(Z.state.doc,this.regexp,W,G,(O,H)=>this.addMatch(H,Z,O,_));$=$.update({filterFrom:W,filterTo:G,filter:(O,H)=>O<W||H>G,add:z})}}return $}}var B4=/x/.unicode!=null?"gu":"g",jU=new RegExp(`[\x00-\b
-\x1F-¬ü¬≠ÿú‚Äã‚Äé‚Äè\u2028\u2029‚Ä≠‚ÄÆ‚Å¶‚Åß‚Å©\uFEFFÔøπ-Ôøº]`,B4),_U={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},J4=null;function OU(){var Z;if(J4==null&&typeof document!="undefined"&&document.body){let $=document.body.style;J4=((Z=$.tabSize)!==null&&Z!==void 0?Z:$.MozTabSize)!=null}return J4||!1}var jZ=B.define({combine(Z){let $=j9(Z,{render:null,specialChars:jU,addSpecialChars:null});if($.replaceTabs=!OU())$.specialChars=new RegExp("\t|"+$.specialChars.source,B4);if($.addSpecialChars)$.specialChars=new RegExp($.specialChars.source+"|"+$.addSpecialChars.source,B4);return $}});function BZ(Z={}){return[jZ.of(Z),HU()]}var K6=null;function HU(){return K6||(K6=c.fromClass(class{constructor(Z){this.view=Z,this.decorations=T.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(Z.state.facet(jZ)),this.decorations=this.decorator.createDeco(Z)}makeDecorator(Z){return new H7({regexp:Z.specialChars,decoration:($,J,X)=>{let{doc:Y}=J.state,K=q9($[0],0);if(K==9){let Q=Y.lineAt(X),U=J.state.tabSize,q=Y0(Q.text,U,X-Q.from);return T.replace({widget:new PJ((U-q%U)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[K]||(this.decorationCache[K]=T.replace({widget:new EJ(Z,K)}))},boundary:Z.replaceTabs?void 0:/[^]/})}update(Z){let $=Z.state.facet(jZ);if(Z.startState.facet(jZ)!=$)this.decorator=this.makeDecorator($),this.decorations=this.decorator.createDeco(Z.view);else this.decorations=this.decorator.updateDeco(Z,this.decorations)}},{decorations:(Z)=>Z.decorations}))}var NU="‚Ä¢";function RU(Z){if(Z>=32)return NU;if(Z==10)return"‚ê§";return String.fromCharCode(9216+Z)}class EJ extends L9{constructor(Z,$){super();this.options=Z,this.code=$}eq(Z){return Z.code==this.code}toDOM(Z){let $=RU(this.code),J=Z.state.phrase("Control character")+" "+(_U[this.code]||"0x"+this.code.toString(16)),X=this.options.render&&this.options.render(this.code,J,$);if(X)return X;let Y=document.createElement("span");return Y.textContent=$,Y.title=J,Y.setAttribute("aria-label",J),Y.className="cm-specialChar",Y}ignoreEvent(){return!1}}class PJ extends L9{constructor(Z){super();this.width=Z}eq(Z){return Z.width==this.width}toDOM(){let Z=document.createElement("span");return Z.textContent="\t",Z.className="cm-tab",Z.style.width=this.width+"px",Z}ignoreEvent(){return!1}}var Q6=c.fromClass(class{constructor(){this.height=1000,this.attrs={style:"padding-bottom: 1000px"}}update(Z){let{view:$}=Z,J=$.viewState.editorHeight-$.defaultLineHeight-$.documentPadding.top-0.5;if(J>=0&&J!=this.height)this.height=J,this.attrs={style:`padding-bottom: ${J}px`}}});function DU(){return[Q6,IZ.of((Z)=>{var $;return(($=Z.plugin(Q6))===null||$===void 0?void 0:$.attrs)||null})]}function s4(){return VU}var FU=T.line({class:"cm-activeLine"}),VU=c.fromClass(class{constructor(Z){this.decorations=this.getDeco(Z)}update(Z){if(Z.docChanged||Z.selectionSet)this.decorations=this.getDeco(Z.view)}getDeco(Z){let $=-1,J=[];for(let X of Z.state.selection.ranges){let Y=Z.lineBlockAt(X.head);if(Y.from>$)J.push(FU.range(Y.from)),$=Y.from}return T.set(J)}},{decorations:(Z)=>Z.decorations});class TJ extends L9{constructor(Z){super();this.content=Z}toDOM(Z){let $=document.createElement("span");return $.className="cm-placeholder",$.style.pointerEvents="none",$.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(Z):this.content.cloneNode(!0)),$.setAttribute("aria-hidden","true"),$}coordsAt(Z){let $=Z.firstChild?V5(Z.firstChild):[];if(!$.length)return null;let J=window.getComputedStyle(Z.parentNode),X=z7($[0],J.direction!="rtl"),Y=parseInt(J.lineHeight);if(X.bottom-X.top>Y*1.5)return{left:X.left,right:X.right,top:X.top,bottom:X.top+Y};return X}ignoreEvent(){return!1}}function AU(Z){let $=c.fromClass(class{constructor(J){this.view=J,this.placeholder=Z?T.set([T.widget({widget:new TJ(Z),side:1}).range(0)]):T.none}get decorations(){return this.view.state.doc.length?T.none:this.placeholder}},{decorations:(J)=>J.decorations});return typeof Z=="string"?[$,L.contentAttributes.of({"aria-placeholder":Z})]:$}var E4=2000;function IU(Z,$,J){let X=Math.min($.line,J.line),Y=Math.max($.line,J.line),K=[];if($.off>E4||J.off>E4||$.col<0||J.col<0){let Q=Math.min($.off,J.off),U=Math.max($.off,J.off);for(let q=X;q<=Y;q++){let W=Z.doc.line(q);if(W.length<=U)K.push(F.range(W.from+Q,W.to+U))}}else{let Q=Math.min($.col,J.col),U=Math.max($.col,J.col);for(let q=X;q<=Y;q++){let W=Z.doc.line(q),G=i5(W.text,Q,Z.tabSize,!0);if(G<0)K.push(F.cursor(W.to));else{let z=i5(W.text,U,Z.tabSize);K.push(F.range(W.from+G,W.from+z))}}}return K}function MU(Z,$){let J=Z.coordsAtPos(Z.viewport.from);return J?Math.round(Math.abs((J.left-$)/Z.defaultCharacterWidth)):-1}function U6(Z,$){let J=Z.posAtCoords({x:$.clientX,y:$.clientY},!1),X=Z.state.doc.lineAt(J),Y=J-X.from,K=Y>E4?-1:Y==X.length?MU(Z,$.clientX):Y0(X.text,Z.state.tabSize,J-X.from);return{line:X.number,col:K,off:Y}}function LU(Z,$){let J=U6(Z,$),X=Z.state.selection;if(!J)return null;return{update(Y){if(Y.docChanged){let K=Y.changes.mapPos(Y.startState.doc.line(J.line).from),Q=Y.state.doc.lineAt(K);J={line:Q.number,col:J.col,off:Math.min(J.off,Q.length)},X=X.map(Y.changes)}},get(Y,K,Q){let U=U6(Z,Y);if(!U)return X;let q=IU(Z.state,J,U);if(!q.length)return X;if(Q)return F.create(q.concat(X.ranges));else return F.create(q)}}}function i4(Z){let $=(Z===null||Z===void 0?void 0:Z.eventFilter)||((J)=>J.altKey&&J.button==0);return L.mouseSelectionStyle.of((J,X)=>$(X)?LU(J,X):null)}var BU={Alt:[18,(Z)=>!!Z.altKey],Control:[17,(Z)=>!!Z.ctrlKey],Shift:[16,(Z)=>!!Z.shiftKey],Meta:[91,(Z)=>!!Z.metaKey]},EU={style:"cursor: crosshair"};function n4(Z={}){let[$,J]=BU[Z.key||"Alt"],X=c.fromClass(class{constructor(Y){this.view=Y,this.isDown=!1}set(Y){if(this.isDown!=Y)this.isDown=Y,this.view.update([])}},{eventObservers:{keydown(Y){this.set(Y.keyCode==$||J(Y))},keyup(Y){if(Y.keyCode==$||!J(Y))this.set(!1)},mousemove(Y){this.set(J(Y))}}});return[X,L.contentAttributes.of((Y)=>{var K;return((K=Y.plugin(X))===null||K===void 0?void 0:K.isDown)?EU:null})]}var a5="-10000px";class a4{constructor(Z,$,J,X){this.facet=$,this.createTooltipView=J,this.removeTooltipView=X,this.input=Z.state.facet($),this.tooltips=this.input.filter((K)=>K);let Y=null;this.tooltipViews=this.tooltips.map((K)=>Y=J(K,Y))}update(Z,$){var J;let X=Z.state.facet(this.facet),Y=X.filter((U)=>U);if(X===this.input){for(let U of this.tooltipViews)if(U.update)U.update(Z);return!1}let K=[],Q=$?[]:null;for(let U=0;U<Y.length;U++){let q=Y[U],W=-1;if(!q)continue;for(let G=0;G<this.tooltips.length;G++){let z=this.tooltips[G];if(z&&z.create==q.create)W=G}if(W<0){if(K[U]=this.createTooltipView(q,U?K[U-1]:null),Q)Q[U]=!!q.above}else{let G=K[U]=this.tooltipViews[W];if(Q)Q[U]=$[W];if(G.update)G.update(Z)}}for(let U of this.tooltipViews)if(K.indexOf(U)<0)this.removeTooltipView(U),(J=U.destroy)===null||J===void 0||J.call(U);if($)Q.forEach((U,q)=>$[q]=U),$.length=Q.length;return this.input=X,this.tooltips=Y,this.tooltipViews=K,!0}}function PU(Z={}){return _Z.of(Z)}function TU(Z){let $=Z.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:$.clientHeight,right:$.clientWidth}}var _Z=B.define({combine:(Z)=>{var $,J,X;return{position:P.ios?"absolute":(($=Z.find((Y)=>Y.position))===null||$===void 0?void 0:$.position)||"fixed",parent:((J=Z.find((Y)=>Y.parent))===null||J===void 0?void 0:J.parent)||null,tooltipSpace:((X=Z.find((Y)=>Y.tooltipSpace))===null||X===void 0?void 0:X.tooltipSpace)||TU}}}),q6=new WeakMap,EZ=c.fromClass(class{constructor(Z){this.view=Z,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let $=Z.state.facet(_Z);this.position=$.position,this.parent=$.parent,this.classes=Z.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new a4(Z,L5,(J,X)=>this.createTooltip(J,X),(J)=>{if(this.resizeObserver)this.resizeObserver.unobserve(J.dom);J.dom.remove()}),this.above=this.manager.tooltips.map((J)=>!!J.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver((J)=>{if(Date.now()>this.lastTransaction-50&&J.length>0&&J[J.length-1].intersectionRatio<1)this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),Z.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){if(this.parent)this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container);else this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let Z of this.manager.tooltipViews)this.intersectionObserver.observe(Z.dom)}}measureSoon(){if(this.measureTimeout<0)this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50)}update(Z){if(Z.transactions.length)this.lastTransaction=Date.now();let $=this.manager.update(Z,this.above);if($)this.observeIntersection();let J=$||Z.geometryChanged,X=Z.state.facet(_Z);if(X.position!=this.position&&!this.madeAbsolute){this.position=X.position;for(let Y of this.manager.tooltipViews)Y.dom.style.position=this.position;J=!0}if(X.parent!=this.parent){if(this.parent)this.container.remove();this.parent=X.parent,this.createContainer();for(let Y of this.manager.tooltipViews)this.container.appendChild(Y.dom);J=!0}else if(this.parent&&this.view.themeClasses!=this.classes)this.classes=this.container.className=this.view.themeClasses;if(J)this.maybeMeasure()}createTooltip(Z,$){let J=Z.create(this.view),X=$?$.dom:null;if(J.dom.classList.add("cm-tooltip"),Z.arrow&&!J.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let Y=document.createElement("div");Y.className="cm-tooltip-arrow",J.dom.appendChild(Y)}if(J.dom.style.position=this.position,J.dom.style.top=a5,J.dom.style.left="0px",this.container.insertBefore(J.dom,X),J.mount)J.mount(this.view);if(this.resizeObserver)this.resizeObserver.observe(J.dom);return J}destroy(){var Z,$,J;this.view.win.removeEventListener("resize",this.measureSoon);for(let X of this.manager.tooltipViews)X.dom.remove(),(Z=X.destroy)===null||Z===void 0||Z.call(X);if(this.parent)this.container.remove();($=this.resizeObserver)===null||$===void 0||$.disconnect(),(J=this.intersectionObserver)===null||J===void 0||J.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let Z=1,$=1,J=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:K}=this.manager.tooltipViews[0];if(P.gecko)J=K.offsetParent!=this.container.ownerDocument.body;else if(K.style.top==a5&&K.style.left=="0px"){let Q=K.getBoundingClientRect();J=Math.abs(Q.top+1e4)>1||Math.abs(Q.left)>1}}if(J||this.position=="absolute")if(this.parent){let K=this.parent.getBoundingClientRect();if(K.width&&K.height)Z=K.width/this.parent.offsetWidth,$=K.height/this.parent.offsetHeight}else({scaleX:Z,scaleY:$}=this.view.viewState);let X=this.view.scrollDOM.getBoundingClientRect(),Y=h4(this.view);return{visible:{left:X.left+Y.left,top:X.top+Y.top,right:X.right-Y.right,bottom:X.bottom-Y.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((K,Q)=>{let U=this.manager.tooltipViews[Q];return U.getCoords?U.getCoords(K.pos):this.view.coordsAtPos(K.pos)}),size:this.manager.tooltipViews.map(({dom:K})=>K.getBoundingClientRect()),space:this.view.state.facet(_Z).tooltipSpace(this.view),scaleX:Z,scaleY:$,makeAbsolute:J}}writeMeasure(Z){var $;if(Z.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let U of this.manager.tooltipViews)U.dom.style.position="absolute"}let{visible:J,space:X,scaleX:Y,scaleY:K}=Z,Q=[];for(let U=0;U<this.manager.tooltips.length;U++){let q=this.manager.tooltips[U],W=this.manager.tooltipViews[U],{dom:G}=W,z=Z.pos[U],j=Z.size[U];if(!z||q.clip!==!1&&(z.bottom<=Math.max(J.top,X.top)||z.top>=Math.min(J.bottom,X.bottom)||z.right<Math.max(J.left,X.left)-0.1||z.left>Math.min(J.right,X.right)+0.1)){G.style.top=a5;continue}let _=q.arrow?W.dom.querySelector(".cm-tooltip-arrow"):null,O=_?7:0,H=j.right-j.left,N=($=q6.get(W))!==null&&$!==void 0?$:j.bottom-j.top,D=W.offset||yU,A=this.view.textDirection==l.LTR,V=j.width>X.right-X.left?A?X.left:X.right-j.width:A?Math.max(X.left,Math.min(z.left-(_?14:0)+D.x,X.right-H)):Math.min(Math.max(X.left,z.left-H+(_?14:0)-D.x),X.right-H),I=this.above[U];if(!q.strictSide&&(I?z.top-N-O-D.y<X.top:z.bottom+N+O+D.y>X.bottom)&&I==X.bottom-z.bottom>z.top-X.top)I=this.above[U]=!I;let M=(I?z.top-X.top:X.bottom-z.bottom)-O;if(M<N&&W.resize!==!1){if(M<this.view.defaultLineHeight){G.style.top=a5;continue}q6.set(W,N),G.style.height=(N=M)/K+"px"}else if(G.style.height)G.style.height="";let y=I?z.top-N-O-D.y:z.bottom+O+D.y,C=V+H;if(W.overlap!==!0){for(let x of Q)if(x.left<C&&x.right>V&&x.top<y+N&&x.bottom>y)y=I?x.top-N-2-O:x.bottom+O+2}if(this.position=="absolute")G.style.top=(y-Z.parent.top)/K+"px",W6(G,(V-Z.parent.left)/Y);else G.style.top=y/K+"px",W6(G,V/Y);if(_){let x=z.left+(A?D.x:-D.x)-(V+14-7);_.style.left=x/Y+"px"}if(W.overlap!==!0)Q.push({left:V,top:y,right:C,bottom:y+N});if(G.classList.toggle("cm-tooltip-above",I),G.classList.toggle("cm-tooltip-below",!I),W.positioned)W.positioned(Z.space)}}maybeMeasure(){if(this.manager.tooltips.length){if(this.view.inView)this.view.requestMeasure(this.measureReq);if(this.inView!=this.view.inView){if(this.inView=this.view.inView,!this.inView)for(let Z of this.manager.tooltipViews)Z.dom.style.top=a5}}}},{eventObservers:{scroll(){this.maybeMeasure()}}});function W6(Z,$){let J=parseInt(Z.style.left,10);if(isNaN(J)||Math.abs($-J)>1)Z.style.left=$+"px"}var CU=L.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),yU={x:0,y:0},L5=B.define({enables:[EZ,CU]}),G7=B.define({combine:(Z)=>Z.reduce(($,J)=>$.concat(J),[])});class PZ{static create(Z){return new PZ(Z)}constructor(Z){this.view=Z,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new a4(Z,G7,($,J)=>this.createHostedView($,J),($)=>$.dom.remove())}createHostedView(Z,$){let J=Z.create(this.view);if(J.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(J.dom,$?$.dom.nextSibling:this.dom.firstChild),this.mounted&&J.mount)J.mount(this.view);return J}mount(Z){for(let $ of this.manager.tooltipViews)if($.mount)$.mount(Z);this.mounted=!0}positioned(Z){for(let $ of this.manager.tooltipViews)if($.positioned)$.positioned(Z)}update(Z){this.manager.update(Z)}destroy(){var Z;for(let $ of this.manager.tooltipViews)(Z=$.destroy)===null||Z===void 0||Z.call($)}passProp(Z){let $=void 0;for(let J of this.manager.tooltipViews){let X=J[Z];if(X!==void 0){if($===void 0)$=X;else if($!==X)return}}return $}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}var SU=L5.compute([G7],(Z)=>{let $=Z.facet(G7);if($.length===0)return null;return{pos:Math.min(...$.map((J)=>J.pos)),end:Math.max(...$.map((J)=>{var X;return(X=J.end)!==null&&X!==void 0?X:J.pos})),create:PZ.create,above:$[0].above,arrow:$.some((J)=>J.arrow)}});class CJ{constructor(Z,$,J,X,Y){this.view=Z,this.source=$,this.field=J,this.setHover=X,this.hoverTime=Y,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:Z.dom,time:0},this.checkHover=this.checkHover.bind(this),Z.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),Z.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){if(this.pending)this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20)}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let Z=Date.now()-this.lastMove.time;if(Z<this.hoverTime)this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-Z);else this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:Z,lastMove:$}=this,J=Z.docView.nearest($.target);if(!J)return;let X,Y=1;if(J instanceof T0)X=J.posAtStart;else{if(X=Z.posAtCoords($),X==null)return;let Q=Z.coordsAtPos(X);if(!Q||$.y<Q.top||$.y>Q.bottom||$.x<Q.left-Z.defaultCharacterWidth||$.x>Q.right+Z.defaultCharacterWidth)return;let U=Z.bidiSpans(Z.state.doc.lineAt(X)).find((W)=>W.from<=X&&W.to>=X),q=U&&U.dir==l.RTL?-1:1;Y=$.x<Q.left?-q:q}let K=this.source(Z,X,Y);if(K===null||K===void 0?void 0:K.then){let Q=this.pending={pos:X};K.then((U)=>{if(this.pending==Q){if(this.pending=null,U&&!(Array.isArray(U)&&!U.length))Z.dispatch({effects:this.setHover.of(Array.isArray(U)?U:[U])})}},(U)=>W9(Z.state,U,"hover tooltip"))}else if(K&&!(Array.isArray(K)&&!K.length))Z.dispatch({effects:this.setHover.of(Array.isArray(K)?K:[K])})}get tooltip(){let Z=this.view.plugin(EZ),$=Z?Z.manager.tooltips.findIndex((J)=>J.create==PZ.create):-1;return $>-1?Z.manager.tooltipViews[$]:null}mousemove(Z){var $,J;if(this.lastMove={x:Z.clientX,y:Z.clientY,target:Z.target,time:Date.now()},this.hoverTimeout<0)this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime);let{active:X,tooltip:Y}=this;if(X.length&&Y&&!kU(Y.dom,Z)||this.pending){let{pos:K}=X[0]||this.pending,Q=(J=($=X[0])===null||$===void 0?void 0:$.end)!==null&&J!==void 0?J:K;if(K==Q?this.view.posAtCoords(this.lastMove)!=K:!bU(this.view,K,Q,Z.clientX,Z.clientY))this.view.dispatch({effects:this.setHover.of([])}),this.pending=null}}mouseleave(Z){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:$}=this;if($.length){let{tooltip:J}=this;if(!(J&&J.dom.contains(Z.relatedTarget)))this.view.dispatch({effects:this.setHover.of([])});else this.watchTooltipLeave(J.dom)}}watchTooltipLeave(Z){let $=(J)=>{if(Z.removeEventListener("mouseleave",$),this.active.length&&!this.view.dom.contains(J.relatedTarget))this.view.dispatch({effects:this.setHover.of([])})};Z.addEventListener("mouseleave",$)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}var KZ=4;function kU(Z,$){let{left:J,right:X,top:Y,bottom:K}=Z.getBoundingClientRect(),Q;if(Q=Z.querySelector(".cm-tooltip-arrow")){let U=Q.getBoundingClientRect();Y=Math.min(U.top,Y),K=Math.max(U.bottom,K)}return $.clientX>=J-KZ&&$.clientX<=X+KZ&&$.clientY>=Y-KZ&&$.clientY<=K+KZ}function bU(Z,$,J,X,Y,K){let Q=Z.scrollDOM.getBoundingClientRect(),U=Z.documentTop+Z.documentPadding.top+Z.contentHeight;if(Q.left>X||Q.right<X||Q.top>Y||Math.min(Q.bottom,U)<Y)return!1;let q=Z.posAtCoords({x:X,y:Y},!1);return q>=$&&q<=J}function r4(Z,$={}){let J=S.define(),X=t.define({create(){return[]},update(Y,K){if(Y.length){if($.hideOnChange&&(K.docChanged||K.selection))Y=[];else if($.hideOn)Y=Y.filter((Q)=>!$.hideOn(K,Q));if(K.docChanged){let Q=[];for(let U of Y){let q=K.changes.mapPos(U.pos,-1,Q9.TrackDel);if(q!=null){let W=Object.assign(Object.create(null),U);if(W.pos=q,W.end!=null)W.end=K.changes.mapPos(W.end);Q.push(W)}}Y=Q}}for(let Q of K.effects){if(Q.is(J))Y=Q.value;if(Q.is(yJ))Y=[]}return Y},provide:(Y)=>G7.from(Y)});return{active:X,extension:[X,c.define((Y)=>new CJ(Y,Z,X,J,$.hoverTime||300)),SU]}}function TZ(Z,$){let J=Z.plugin(EZ);if(!J)return null;let X=J.manager.tooltips.indexOf($);return X<0?null:J.manager.tooltipViews[X]}function xU(Z){return Z.facet(G7).some(($)=>$)}var yJ=S.define(),wU=yJ.of(null);function hU(Z){let $=Z.plugin(EZ);if($)$.maybeMeasure()}var P4=B.define({combine(Z){let $,J;for(let X of Z)$=$||X.topContainer,J=J||X.bottomContainer;return{topContainer:$,bottomContainer:J}}});function vU(Z){return Z?[P4.of(Z)]:[]}function F0(Z,$){let J=Z.plugin(SJ),X=J?J.specs.indexOf($):-1;return X>-1?J.panels[X]:null}var SJ=c.fromClass(class{constructor(Z){this.input=Z.state.facet(D0),this.specs=this.input.filter((J)=>J),this.panels=this.specs.map((J)=>J(Z));let $=Z.state.facet(P4);this.top=new $7(Z,!0,$.topContainer),this.bottom=new $7(Z,!1,$.bottomContainer),this.top.sync(this.panels.filter((J)=>J.top)),this.bottom.sync(this.panels.filter((J)=>!J.top));for(let J of this.panels)if(J.dom.classList.add("cm-panel"),J.mount)J.mount()}update(Z){let $=Z.state.facet(P4);if(this.top.container!=$.topContainer)this.top.sync([]),this.top=new $7(Z.view,!0,$.topContainer);if(this.bottom.container!=$.bottomContainer)this.bottom.sync([]),this.bottom=new $7(Z.view,!1,$.bottomContainer);this.top.syncClasses(),this.bottom.syncClasses();let J=Z.state.facet(D0);if(J!=this.input){let X=J.filter((q)=>q),Y=[],K=[],Q=[],U=[];for(let q of X){let W=this.specs.indexOf(q),G;if(W<0)G=q(Z.view),U.push(G);else if(G=this.panels[W],G.update)G.update(Z);Y.push(G),(G.top?K:Q).push(G)}this.specs=X,this.panels=Y,this.top.sync(K),this.bottom.sync(Q);for(let q of U)if(q.dom.classList.add("cm-panel"),q.mount)q.mount()}else for(let X of this.panels)if(X.update)X.update(Z)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:(Z)=>L.scrollMargins.of(($)=>{let J=$.plugin(Z);return J&&{top:J.top.scrollMargin(),bottom:J.bottom.scrollMargin()}})});class $7{constructor(Z,$,J){this.view=Z,this.top=$,this.container=J,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(Z){for(let $ of this.panels)if($.destroy&&Z.indexOf($)<0)$.destroy();this.panels=Z,this.syncDOM()}syncDOM(){if(this.panels.length==0){if(this.dom)this.dom.remove(),this.dom=void 0;return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let $=this.container||this.view.dom;$.insertBefore(this.dom,this.top?$.firstChild:null)}let Z=this.dom.firstChild;for(let $ of this.panels)if($.dom.parentNode==this.dom){while(Z!=$.dom)Z=G6(Z);Z=Z.nextSibling}else this.dom.insertBefore($.dom,Z);while(Z)Z=G6(Z)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!this.container||this.classes==this.view.themeClasses)return;for(let Z of this.classes.split(" "))if(Z)this.container.classList.remove(Z);for(let Z of(this.classes=this.view.themeClasses).split(" "))if(Z)this.container.classList.add(Z)}}function G6(Z){let $=Z.nextSibling;return Z.remove(),$}var D0=B.define({enables:SJ});function mU(Z,$){let J,X=new Promise((Q)=>J=Q),Y=(Q)=>gU(Q,$,J);if(Z.state.field(OZ,!1))Z.dispatch({effects:kJ.of(Y)});else Z.dispatch({effects:S.appendConfig.of(OZ.init(()=>[Y]))});let K=bJ.of(Y);return{close:K,result:X.then((Q)=>{return(Z.win.queueMicrotask||((q)=>Z.win.setTimeout(q,10)))(()=>{if(Z.state.field(OZ).indexOf(Y)>-1)Z.dispatch({effects:K})}),Q})}}function uU(Z,$){let J=Z.state.field(OZ,!1)||[];for(let X of J){let Y=F0(Z,X);if(Y&&Y.dom.classList.contains($))return Y}return null}var OZ=t.define({create(){return[]},update(Z,$){for(let J of $.effects)if(J.is(kJ))Z=[J.value].concat(Z);else if(J.is(bJ))Z=Z.filter((X)=>X!=J.value);return Z},provide:(Z)=>D0.computeN([Z],($)=>$.field(Z))}),kJ=S.define(),bJ=S.define();function gU(Z,$,J){let X=$.content?$.content(Z,()=>Q(null)):null;if(!X){if(X=g("form"),$.input){let U=g("input",$.input);if(/^(text|password|number|email|tel|url)$/.test(U.type))U.classList.add("cm-textfield");if(!U.name)U.name="input";X.appendChild(g("label",($.label||"")+": ",U))}else X.appendChild(document.createTextNode($.label||""));X.appendChild(document.createTextNode(" ")),X.appendChild(g("button",{class:"cm-button",type:"submit"},$.submitLabel||"OK"))}let Y=X.nodeName=="FORM"?[X]:X.querySelectorAll("form");for(let U=0;U<Y.length;U++){let q=Y[U];q.addEventListener("keydown",(W)=>{if(W.keyCode==27)W.preventDefault(),Q(null);else if(W.keyCode==13)W.preventDefault(),Q(q)}),q.addEventListener("submit",(W)=>{W.preventDefault(),Q(q)})}let K=g("div",X,g("button",{onclick:()=>Q(null),"aria-label":Z.state.phrase("close"),class:"cm-dialog-close",type:"button"},["√ó"]));if($.class)K.className=$.class;K.classList.add("cm-dialog");function Q(U){if(K.contains(K.ownerDocument.activeElement))Z.focus();J(U)}return{dom:K,top:$.top,mount:()=>{if($.focus){let U;if(typeof $.focus=="string")U=X.querySelector($.focus);else U=X.querySelector("input")||X.querySelector("button");if(U&&"select"in U)U.select();else if(U&&"focus"in U)U.focus()}}}}class v9 extends a9{compare(Z){return this==Z||this.constructor==Z.constructor&&this.eq(Z)}eq(Z){return!1}destroy(Z){}}v9.prototype.elementClass="";v9.prototype.toDOM=void 0;v9.prototype.mapMode=Q9.TrackBefore;v9.prototype.startSide=v9.prototype.endSide=-1;v9.prototype.point=!0;var K7=B.define(),xJ=B.define(),fU={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>w.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Q7=B.define();function CZ(Z){return[o4(),Q7.of({...fU,...Z})]}var T4=B.define({combine:(Z)=>Z.some(($)=>$)});function o4(Z){let $=[pU];if(Z&&Z.fixed===!1)$.push(T4.of(!0));return $}var pU=c.fromClass(class{constructor(Z){this.view=Z,this.domAfter=null,this.prevViewport=Z.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=Z.state.facet(Q7).map(($)=>new y4(Z,$)),this.fixed=!Z.state.facet(T4);for(let $ of this.gutters)if($.config.side=="after")this.getDOMAfter().appendChild($.dom);else this.dom.appendChild($.dom);if(this.fixed)this.dom.style.position="sticky";this.syncGutters(!1),Z.scrollDOM.insertBefore(this.dom,Z.contentDOM)}getDOMAfter(){if(!this.domAfter)this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter);return this.domAfter}update(Z){if(this.updateGutters(Z)){let $=this.prevViewport,J=Z.view.viewport,X=Math.min($.to,J.to)-Math.max($.from,J.from);this.syncGutters(X<(J.to-J.from)*0.8)}if(Z.geometryChanged){let $=this.view.contentHeight/this.view.scaleY+"px";if(this.dom.style.minHeight=$,this.domAfter)this.domAfter.style.minHeight=$}if(this.view.state.facet(T4)!=!this.fixed){if(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter)this.domAfter.style.position=this.fixed?"sticky":""}this.prevViewport=Z.view.viewport}syncGutters(Z){let $=this.dom.nextSibling;if(Z){if(this.dom.remove(),this.domAfter)this.domAfter.remove()}let J=w.iter(this.view.state.facet(K7),this.view.viewport.from),X=[],Y=this.gutters.map((K)=>new wJ(K,this.view.viewport,-this.view.documentPadding.top));for(let K of this.view.viewportLineBlocks){if(X.length)X=[];if(Array.isArray(K.type)){let Q=!0;for(let U of K.type)if(U.type==R9.Text&&Q){C4(J,X,U.from);for(let q of Y)q.line(this.view,U,X);Q=!1}else if(U.widget)for(let q of Y)q.widget(this.view,U)}else if(K.type==R9.Text){C4(J,X,K.from);for(let Q of Y)Q.line(this.view,K,X)}else if(K.widget)for(let Q of Y)Q.widget(this.view,K)}for(let K of Y)K.finish();if(Z){if(this.view.scrollDOM.insertBefore(this.dom,$),this.domAfter)this.view.scrollDOM.appendChild(this.domAfter)}}updateGutters(Z){let $=Z.startState.facet(Q7),J=Z.state.facet(Q7),X=Z.docChanged||Z.heightChanged||Z.viewportChanged||!w.eq(Z.startState.facet(K7),Z.state.facet(K7),Z.view.viewport.from,Z.view.viewport.to);if($==J){for(let Y of this.gutters)if(Y.update(Z))X=!0}else{X=!0;let Y=[];for(let K of J){let Q=$.indexOf(K);if(Q<0)Y.push(new y4(this.view,K));else this.gutters[Q].update(Z),Y.push(this.gutters[Q])}for(let K of this.gutters)if(K.dom.remove(),Y.indexOf(K)<0)K.destroy();for(let K of Y)if(K.config.side=="after")this.getDOMAfter().appendChild(K.dom);else this.dom.appendChild(K.dom);this.gutters=Y}return X}destroy(){for(let Z of this.gutters)Z.destroy();if(this.dom.remove(),this.domAfter)this.domAfter.remove()}},{provide:(Z)=>L.scrollMargins.of(($)=>{let J=$.plugin(Z);if(!J||J.gutters.length==0||!J.fixed)return null;let X=J.dom.offsetWidth*$.scaleX,Y=J.domAfter?J.domAfter.offsetWidth*$.scaleX:0;return $.textDirection==l.LTR?{left:X,right:Y}:{right:X,left:Y}})});function z6(Z){return Array.isArray(Z)?Z:[Z]}function C4(Z,$,J){while(Z.value&&Z.from<=J){if(Z.from==J)$.push(Z.value);Z.next()}}class wJ{constructor(Z,$,J){this.gutter=Z,this.height=J,this.i=0,this.cursor=w.iter(Z.markers,$.from)}addElement(Z,$,J){let{gutter:X}=this,Y=($.top-this.height)/Z.scaleY,K=$.height/Z.scaleY;if(this.i==X.elements.length){let Q=new t4(Z,K,Y,J);X.elements.push(Q),X.dom.appendChild(Q.dom)}else X.elements[this.i].update(Z,K,Y,J);this.height=$.bottom,this.i++}line(Z,$,J){let X=[];if(C4(this.cursor,X,$.from),J.length)X=X.concat(J);let Y=this.gutter.config.lineMarker(Z,$,X);if(Y)X.unshift(Y);let K=this.gutter;if(X.length==0&&!K.config.renderEmptyElements)return;this.addElement(Z,$,X)}widget(Z,$){let J=this.gutter.config.widgetMarker(Z,$.widget,$),X=J?[J]:null;for(let Y of Z.state.facet(xJ)){let K=Y(Z,$.widget,$);if(K)(X||(X=[])).push(K)}if(X)this.addElement(Z,$,X)}finish(){let Z=this.gutter;while(Z.elements.length>this.i){let $=Z.elements.pop();Z.dom.removeChild($.dom),$.destroy()}}}class y4{constructor(Z,$){this.view=Z,this.config=$,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let J in $.domEventHandlers)this.dom.addEventListener(J,(X)=>{let Y=X.target,K;if(Y!=this.dom&&this.dom.contains(Y)){while(Y.parentNode!=this.dom)Y=Y.parentNode;let U=Y.getBoundingClientRect();K=(U.top+U.bottom)/2}else K=X.clientY;let Q=Z.lineBlockAtHeight(K-Z.documentTop);if($.domEventHandlers[J](Z,Q,X))X.preventDefault()});if(this.markers=z6($.markers(Z)),$.initialSpacer)this.spacer=new t4(Z,0,0,[$.initialSpacer(Z)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none"}update(Z){let $=this.markers;if(this.markers=z6(this.config.markers(Z.view)),this.spacer&&this.config.updateSpacer){let X=this.config.updateSpacer(this.spacer.markers[0],Z);if(X!=this.spacer.markers[0])this.spacer.update(Z.view,0,0,[X])}let J=Z.view.viewport;return!w.eq(this.markers,$,J.from,J.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(Z):!1)}destroy(){for(let Z of this.elements)Z.destroy()}}class t4{constructor(Z,$,J,X){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(Z,$,J,X)}update(Z,$,J,X){if(this.height!=$)this.height=$,this.dom.style.height=$+"px";if(this.above!=J)this.dom.style.marginTop=(this.above=J)?J+"px":"";if(!lU(this.markers,X))this.setMarkers(Z,X)}setMarkers(Z,$){let J="cm-gutterElement",X=this.dom.firstChild;for(let Y=0,K=0;;){let Q=K,U=Y<$.length?$[Y++]:null,q=!1;if(U){let W=U.elementClass;if(W)J+=" "+W;for(let G=K;G<this.markers.length;G++)if(this.markers[G].compare(U)){Q=G,q=!0;break}}else Q=this.markers.length;while(K<Q){let W=this.markers[K++];if(W.toDOM){W.destroy(X);let G=X.nextSibling;X.remove(),X=G}}if(!U)break;if(U.toDOM)if(q)X=X.nextSibling;else this.dom.insertBefore(U.toDOM(Z),X);if(q)K++}this.dom.className=J,this.markers=$}destroy(){this.setMarkers(null,[])}}function lU(Z,$){if(Z.length!=$.length)return!1;for(let J=0;J<Z.length;J++)if(!Z[J].compare($[J]))return!1;return!0}var hJ=B.define(),vJ=B.define(),R5=B.define({combine(Z){return j9(Z,{formatNumber:String,domEventHandlers:{}},{domEventHandlers($,J){let X=Object.assign({},$);for(let Y in J){let K=X[Y],Q=J[Y];X[Y]=K?(U,q,W)=>K(U,q,W)||Q(U,q,W):Q}return X}})}});class HZ extends v9{constructor(Z){super();this.number=Z}eq(Z){return this.number==Z.number}toDOM(){return document.createTextNode(this.number)}}function X4(Z,$){return Z.state.facet(R5).formatNumber($,Z.state)}var dU=Q7.compute([R5],(Z)=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers($){return $.state.facet(hJ)},lineMarker($,J,X){if(X.some((Y)=>Y.toDOM))return null;return new HZ(X4($,$.state.doc.lineAt(J.from).number))},widgetMarker:($,J,X)=>{for(let Y of $.state.facet(vJ)){let K=Y($,J,X);if(K)return K}return null},lineMarkerChange:($)=>$.startState.facet(R5)!=$.state.facet(R5),initialSpacer($){return new HZ(X4($,j6($.state.doc.lines)))},updateSpacer($,J){let X=X4(J.view,j6(J.view.state.doc.lines));return X==$.number?$:new HZ(X)},domEventHandlers:Z.facet(R5).domEventHandlers,side:"before"}));function e4(Z={}){return[R5.of(Z),o4(),dU]}function j6(Z){let $=9;while($<Z)$=$*10+9;return $}var cU=new class extends v9{constructor(){super(...arguments);this.elementClass="cm-activeLineGutter"}},sU=K7.compute(["selection"],(Z)=>{let $=[],J=-1;for(let X of Z.selection.ranges){let Y=Z.doc.lineAt(X.head).from;if(Y>J)J=Y,$.push(cU.range(Y))}return w.of($)});function Z8(){return sU}function mJ(Z){return c.define(($)=>({decorations:Z.createDeco($),update(J){this.decorations=Z.updateDeco(J,this.decorations)}}),{decorations:($)=>$.decorations})}var iU=T.mark({class:"cm-highlightTab"}),nU=T.mark({class:"cm-highlightSpace"}),aU=mJ(new H7({regexp:/\t| /g,decoration:(Z)=>Z[0]=="\t"?iU:nU,boundary:/\S/}));function rU(){return aU}var oU=mJ(new H7({regexp:/\s+$/g,decoration:T.mark({class:"cm-trailingSpace"})}));function tU(){return oU}var eU={HeightMap:D9,HeightOracle:m4,MeasuredHeights:u4,QueryType:e,ChangedRange:h9,computeOrder:S6,moveVisually:x6,clearHeightChangeFlag:F4,getHeightChangeFlag:()=>s0};var w8={};Q5(w8,{unfoldEffect:()=>r0,unfoldCode:()=>R2,unfoldAll:()=>F2,toggleFold:()=>Eq,syntaxTreeAvailable:()=>Gq,syntaxTree:()=>r,syntaxParserRunning:()=>jq,syntaxHighlighting:()=>cZ,sublanguageProp:()=>L7,matchBrackets:()=>s9,languageDataProp:()=>w0,language:()=>V0,indentUnit:()=>a0,indentString:()=>h0,indentService:()=>z2,indentRange:()=>_q,indentOnInput:()=>I8,indentNodeProp:()=>B7,highlightingFor:()=>yq,getIndentation:()=>y5,getIndentUnit:()=>A0,forceParsing:()=>zq,foldedRanges:()=>Mq,foldable:()=>C5,foldState:()=>I0,foldService:()=>O2,foldNodeProp:()=>dZ,foldKeymap:()=>E8,foldInside:()=>M8,foldGutter:()=>C8,foldEffect:()=>S5,foldCode:()=>N2,foldAll:()=>D2,flatIndent:()=>A8,ensureSyntaxTree:()=>q2,delimitedIndent:()=>V8,defineLanguageFacet:()=>M7,defaultHighlightStyle:()=>sZ,continuedIndent:()=>E7,codeFolding:()=>T8,bracketMatchingHandle:()=>P2,bracketMatching:()=>y8,bidiIsolates:()=>iq,TreeIndentContext:()=>lZ,StringStream:()=>iZ,StreamLanguage:()=>S8,ParseContext:()=>n0,LanguageSupport:()=>pZ,LanguageDescription:()=>F8,Language:()=>F9,LRLanguage:()=>P5,IndentContext:()=>v0,HighlightStyle:()=>P7,DocInput:()=>D8});var pJ=1024,Zq=0;class SZ{constructor(Z,$){this.from=Z,this.to=$}}class b{constructor(Z={}){this.id=Zq++,this.perNode=!!Z.perNode,this.deserialize=Z.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(Z){if(this.perNode)throw new RangeError("Can't add per-node props to node types");if(typeof Z!="function")Z=O9.match(Z);return($)=>{let J=Z($);return J===void 0?null:[this,J]}}}b.closedBy=new b({deserialize:(Z)=>Z.split(" ")});b.openedBy=new b({deserialize:(Z)=>Z.split(" ")});b.group=new b({deserialize:(Z)=>Z.split(" ")});b.isolate=new b({deserialize:(Z)=>{if(Z&&Z!="rtl"&&Z!="ltr"&&Z!="auto")throw new RangeError("Invalid value for isolate: "+Z);return Z||"auto"}});b.contextHash=new b({perNode:!0});b.lookAhead=new b({perNode:!0});b.mounted=new b({perNode:!0});class N7{constructor(Z,$,J){this.tree=Z,this.overlay=$,this.parser=J}static get(Z){return Z&&Z.props&&Z.props[b.mounted.id]}}var $q=Object.create(null);class O9{constructor(Z,$,J,X=0){this.name=Z,this.props=$,this.id=J,this.flags=X}static define(Z){let $=Z.props&&Z.props.length?Object.create(null):$q,J=(Z.top?1:0)|(Z.skipped?2:0)|(Z.error?4:0)|(Z.name==null?8:0),X=new O9(Z.name||"",$,Z.id,J);if(Z.props)for(let Y of Z.props){if(!Array.isArray(Y))Y=Y(X);if(Y){if(Y[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");$[Y[0].id]=Y[1]}}return X}prop(Z){return this.props[Z.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(Z){if(typeof Z=="string"){if(this.name==Z)return!0;let $=this.prop(b.group);return $?$.indexOf(Z)>-1:!1}return this.id==Z}static match(Z){let $=Object.create(null);for(let J in Z)for(let X of J.split(" "))$[X]=Z[J];return(J)=>{for(let X=J.prop(b.group),Y=-1;Y<(X?X.length:0);Y++){let K=$[Y<0?J.name:X[Y]];if(K)return K}}}}O9.none=new O9("",Object.create(null),0,8);class B5{constructor(Z){this.types=Z;for(let $=0;$<Z.length;$++)if(Z[$].id!=$)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...Z){let $=[];for(let J of this.types){let X=null;for(let Y of Z){let K=Y(J);if(K){if(!X)X=Object.assign({},J.props);X[K[0].id]=K[1]}}$.push(X?new O9(J.name,X,J.id,J.flags):J)}return new B5($)}}var yZ=new WeakMap,uJ=new WeakMap,Y9;(function(Z){Z[Z.ExcludeBuffers=1]="ExcludeBuffers",Z[Z.IncludeAnonymous=2]="IncludeAnonymous",Z[Z.IgnoreMounts=4]="IgnoreMounts",Z[Z.IgnoreOverlays=8]="IgnoreOverlays"})(Y9||(Y9={}));class s{constructor(Z,$,J,X,Y){if(this.type=Z,this.children=$,this.positions=J,this.length=X,this.props=null,Y&&Y.length){this.props=Object.create(null);for(let[K,Q]of Y)this.props[typeof K=="number"?K:K.id]=Q}}toString(){let Z=N7.get(this);if(Z&&!Z.overlay)return Z.tree.toString();let $="";for(let J of this.children){let X=J.toString();if(X){if($)$+=",";$+=X}}return!this.type.name?$:(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+($.length?"("+$+")":"")}cursor(Z=0){return new bZ(this.topNode,Z)}cursorAt(Z,$=0,J=0){let X=yZ.get(this)||this.topNode,Y=new bZ(X);return Y.moveTo(Z,$),yZ.set(this,Y._tree),Y}get topNode(){return new y9(this,0,0,null)}resolve(Z,$=0){let J=R7(yZ.get(this)||this.topNode,Z,$,!1);return yZ.set(this,J),J}resolveInner(Z,$=0){let J=R7(uJ.get(this)||this.topNode,Z,$,!0);return uJ.set(this,J),J}resolveStack(Z,$=0){return Jq(this,Z,$)}iterate(Z){let{enter:$,leave:J,from:X=0,to:Y=this.length}=Z,K=Z.mode||0,Q=(K&Y9.IncludeAnonymous)>0;for(let U=this.cursor(K|Y9.IncludeAnonymous);;){let q=!1;if(U.from<=Y&&U.to>=X&&(!Q&&U.type.isAnonymous||$(U)!==!1)){if(U.firstChild())continue;q=!0}for(;;){if(q&&J&&(Q||!U.type.isAnonymous))J(U);if(U.nextSibling())break;if(!U.parent())return;q=!0}}}prop(Z){return!Z.perNode?this.type.prop(Z):this.props?this.props[Z.id]:void 0}get propValues(){let Z=[];if(this.props)for(let $ in this.props)Z.push([+$,this.props[$]]);return Z}balance(Z={}){return this.children.length<=8?this:Q8(O9.none,this.children,this.positions,0,this.children.length,0,this.length,($,J,X)=>new s(this.type,$,J,X,this.propValues),Z.makeTree||(($,J,X)=>new s(O9.none,$,J,X)))}static build(Z){return Xq(Z)}}s.empty=new s(O9.none,[],[],0);class X8{constructor(Z,$){this.buffer=Z,this.index=$}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new X8(this.buffer,this.index)}}class S0{constructor(Z,$,J){this.buffer=Z,this.length=$,this.set=J}get type(){return O9.none}toString(){let Z=[];for(let $=0;$<this.buffer.length;)Z.push(this.childString($)),$=this.buffer[$+3];return Z.join(",")}childString(Z){let $=this.buffer[Z],J=this.buffer[Z+3],X=this.set.types[$],Y=X.name;if(/\W/.test(Y)&&!X.isError)Y=JSON.stringify(Y);if(Z+=4,J==Z)return Y;let K=[];while(Z<J)K.push(this.childString(Z)),Z=this.buffer[Z+3];return Y+"("+K.join(",")+")"}findChild(Z,$,J,X,Y){let{buffer:K}=this,Q=-1;for(let U=Z;U!=$;U=K[U+3])if(lJ(Y,X,K[U+1],K[U+2])){if(Q=U,J>0)break}return Q}slice(Z,$,J){let X=this.buffer,Y=new Uint16Array($-Z),K=0;for(let Q=Z,U=0;Q<$;){Y[U++]=X[Q++],Y[U++]=X[Q++]-J;let q=Y[U++]=X[Q++]-J;Y[U++]=X[Q++]-Z,K=Math.max(K,q)}return new S0(Y,K,this.set)}}function lJ(Z,$,J,X){switch(Z){case-2:return J<$;case-1:return X>=$&&J<$;case 0:return J<$&&X>$;case 1:return J<=$&&X>$;case 2:return X>$;case 4:return!0}}function R7(Z,$,J,X){var Y;while(Z.from==Z.to||(J<1?Z.from>=$:Z.from>$)||(J>-1?Z.to<=$:Z.to<$)){let Q=!X&&Z instanceof y9&&Z.index<0?null:Z.parent;if(!Q)return Z;Z=Q}let K=X?0:Y9.IgnoreOverlays;if(X){for(let Q=Z,U=Q.parent;U;Q=U,U=Q.parent)if(Q instanceof y9&&Q.index<0&&((Y=U.enter($,J,K))===null||Y===void 0?void 0:Y.from)!=Q.from)Z=U}for(;;){let Q=Z.enter($,J,K);if(!Q)return Z;Z=Q}}class Y8{cursor(Z=0){return new bZ(this,Z)}getChild(Z,$=null,J=null){let X=gJ(this,Z,$,J);return X.length?X[0]:null}getChildren(Z,$=null,J=null){return gJ(this,Z,$,J)}resolve(Z,$=0){return R7(this,Z,$,!1)}resolveInner(Z,$=0){return R7(this,Z,$,!0)}matchContext(Z){return J8(this.parent,Z)}enterUnfinishedNodesBefore(Z){let $=this.childBefore(Z),J=this;while($){let X=$.lastChild;if(!X||X.to!=$.to)break;if(X.type.isError&&X.from==X.to)J=$,$=X.prevSibling;else $=X}return J}get node(){return this}get next(){return this.parent}}class y9 extends Y8{constructor(Z,$,J,X){super();this._tree=Z,this.from=$,this.index=J,this._parent=X}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(Z,$,J,X,Y=0){for(let K=this;;){for(let{children:Q,positions:U}=K._tree,q=$>0?Q.length:-1;Z!=q;Z+=$){let W=Q[Z],G=U[Z]+K.from;if(!lJ(X,J,G,G+W.length))continue;if(W instanceof S0){if(Y&Y9.ExcludeBuffers)continue;let z=W.findChild(0,W.buffer.length,$,J-G,X);if(z>-1)return new q0(new dJ(K,W,Z,G),null,z)}else if(Y&Y9.IncludeAnonymous||(!W.type.isAnonymous||K8(W))){let z;if(!(Y&Y9.IgnoreMounts)&&(z=N7.get(W))&&!z.overlay)return new y9(z.tree,G,Z,K);let j=new y9(W,G,Z,K);return Y&Y9.IncludeAnonymous||!j.type.isAnonymous?j:j.nextChild($<0?W.children.length-1:0,$,J,X)}}if(Y&Y9.IncludeAnonymous||!K.type.isAnonymous)return null;if(K.index>=0)Z=K.index+$;else Z=$<0?-1:K._parent._tree.children.length;if(K=K._parent,!K)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(Z){return this.nextChild(0,1,Z,2)}childBefore(Z){return this.nextChild(this._tree.children.length-1,-1,Z,-2)}enter(Z,$,J=0){let X;if(!(J&Y9.IgnoreOverlays)&&(X=N7.get(this._tree))&&X.overlay){let Y=Z-this.from;for(let{from:K,to:Q}of X.overlay)if(($>0?K<=Y:K<Y)&&($<0?Q>=Y:Q>Y))return new y9(X.tree,X.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,Z,$,J)}nextSignificantParent(){let Z=this;while(Z.type.isAnonymous&&Z._parent)Z=Z._parent;return Z}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function gJ(Z,$,J,X){let Y=Z.cursor(),K=[];if(!Y.firstChild())return K;if(J!=null){for(let Q=!1;!Q;)if(Q=Y.type.is(J),!Y.nextSibling())return K}for(;;){if(X!=null&&Y.type.is(X))return K;if(Y.type.is($))K.push(Y.node);if(!Y.nextSibling())return X==null?K:[]}}function J8(Z,$,J=$.length-1){for(let X=Z;J>=0;X=X.parent){if(!X)return!1;if(!X.type.isAnonymous){if($[J]&&$[J]!=X.name)return!1;J--}}return!0}class dJ{constructor(Z,$,J,X){this.parent=Z,this.buffer=$,this.index=J,this.start=X}}class q0 extends Y8{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(Z,$,J){super();this.context=Z,this._parent=$,this.index=J,this.type=Z.buffer.set.types[Z.buffer.buffer[J]]}child(Z,$,J){let{buffer:X}=this.context,Y=X.findChild(this.index+4,X.buffer[this.index+3],Z,$-this.context.start,J);return Y<0?null:new q0(this.context,this,Y)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(Z){return this.child(1,Z,2)}childBefore(Z){return this.child(-1,Z,-2)}enter(Z,$,J=0){if(J&Y9.ExcludeBuffers)return null;let{buffer:X}=this.context,Y=X.findChild(this.index+4,X.buffer[this.index+3],$>0?1:-1,Z-this.context.start,$);return Y<0?null:new q0(this.context,this,Y)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(Z){return this._parent?null:this.context.parent.nextChild(this.context.index+Z,Z,0,4)}get nextSibling(){let{buffer:Z}=this.context,$=Z.buffer[this.index+3];if($<(this._parent?Z.buffer[this._parent.index+3]:Z.buffer.length))return new q0(this.context,this._parent,$);return this.externalSibling(1)}get prevSibling(){let{buffer:Z}=this.context,$=this._parent?this._parent.index+4:0;if(this.index==$)return this.externalSibling(-1);return new q0(this.context,this._parent,Z.findChild($,this.index,-1,0,4))}get tree(){return null}toTree(){let Z=[],$=[],{buffer:J}=this.context,X=this.index+4,Y=J.buffer[this.index+3];if(Y>X){let K=J.buffer[this.index+1];Z.push(J.slice(X,Y,K)),$.push(0)}return new s(this.type,Z,$,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function cJ(Z){if(!Z.length)return null;let $=0,J=Z[0];for(let K=1;K<Z.length;K++){let Q=Z[K];if(Q.from>J.from||Q.to<J.to)J=Q,$=K}let X=J instanceof y9&&J.index<0?null:J.parent,Y=Z.slice();if(X)Y[$]=X;else Y.splice($,1);return new sJ(Y,J)}class sJ{constructor(Z,$){this.heads=Z,this.node=$}get next(){return cJ(this.heads)}}function Jq(Z,$,J){let X=Z.resolveInner($,J),Y=null;for(let K=X instanceof y9?X:X.context.parent;K;K=K.parent)if(K.index<0){let Q=K.parent;(Y||(Y=[X])).push(Q.resolve($,J)),K=Q}else{let Q=N7.get(K.tree);if(Q&&Q.overlay&&Q.overlay[0].from<=$&&Q.overlay[Q.overlay.length-1].to>=$){let U=new y9(Q.tree,Q.overlay[0].from+K.from,-1,K);(Y||(Y=[X])).push(R7(U,$,J,!1))}}return Y?cJ(Y):X}class bZ{get name(){return this.type.name}constructor(Z,$=0){if(this.mode=$,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,Z instanceof y9)this.yieldNode(Z);else{this._tree=Z.context.parent,this.buffer=Z.context;for(let J=Z._parent;J;J=J._parent)this.stack.unshift(J.index);this.bufferNode=Z,this.yieldBuf(Z.index)}}yieldNode(Z){if(!Z)return!1;return this._tree=Z,this.type=Z.type,this.from=Z.from,this.to=Z.to,!0}yieldBuf(Z,$){this.index=Z;let{start:J,buffer:X}=this.buffer;return this.type=$||X.set.types[X.buffer[Z]],this.from=J+X.buffer[Z+1],this.to=J+X.buffer[Z+2],!0}yield(Z){if(!Z)return!1;if(Z instanceof y9)return this.buffer=null,this.yieldNode(Z);return this.buffer=Z.context,this.yieldBuf(Z.index,Z.type)}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(Z,$,J){if(!this.buffer)return this.yield(this._tree.nextChild(Z<0?this._tree._tree.children.length-1:0,Z,$,J,this.mode));let{buffer:X}=this.buffer,Y=X.findChild(this.index+4,X.buffer[this.index+3],Z,$-this.buffer.start,J);if(Y<0)return!1;return this.stack.push(this.index),this.yieldBuf(Y)}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(Z){return this.enterChild(1,Z,2)}childBefore(Z){return this.enterChild(-1,Z,-2)}enter(Z,$,J=this.mode){if(!this.buffer)return this.yield(this._tree.enter(Z,$,J));return J&Y9.ExcludeBuffers?!1:this.enterChild(1,Z,$)}parent(){if(!this.buffer)return this.yieldNode(this.mode&Y9.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let Z=this.mode&Y9.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(Z)}sibling(Z){if(!this.buffer)return!this._tree._parent?!1:this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+Z,Z,0,4,this.mode));let{buffer:$}=this.buffer,J=this.stack.length-1;if(Z<0){let X=J<0?0:this.stack[J]+4;if(this.index!=X)return this.yieldBuf($.findChild(X,this.index,-1,0,4))}else{let X=$.buffer[this.index+3];if(X<(J<0?$.buffer.length:$.buffer[this.stack[J]+3]))return this.yieldBuf(X)}return J<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+Z,Z,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(Z){let $,J,{buffer:X}=this;if(X){if(Z>0){if(this.index<X.buffer.buffer.length)return!1}else for(let Y=0;Y<this.index;Y++)if(X.buffer.buffer[Y+3]<this.index)return!1;({index:$,parent:J}=X)}else({index:$,_parent:J}=this._tree);for(;J;{index:$,_parent:J}=J)if($>-1)for(let Y=$+Z,K=Z<0?-1:J._tree.children.length;Y!=K;Y+=Z){let Q=J._tree.children[Y];if(this.mode&Y9.IncludeAnonymous||Q instanceof S0||!Q.type.isAnonymous||K8(Q))return!1}return!0}move(Z,$){if($&&this.enterChild(Z,0,4))return!0;for(;;){if(this.sibling(Z))return!0;if(this.atLastNode(Z)||!this.parent())return!1}}next(Z=!0){return this.move(1,Z)}prev(Z=!0){return this.move(-1,Z)}moveTo(Z,$=0){while(this.from==this.to||($<1?this.from>=Z:this.from>Z)||($>-1?this.to<=Z:this.to<Z))if(!this.parent())break;while(this.enterChild(1,Z,$));return this}get node(){if(!this.buffer)return this._tree;let Z=this.bufferNode,$=null,J=0;if(Z&&Z.context==this.buffer)Z:for(let X=this.index,Y=this.stack.length;Y>=0;){for(let K=Z;K;K=K._parent)if(K.index==X){if(X==this.index)return K;$=K,J=Y+1;break Z}X=this.stack[--Y]}for(let X=J;X<this.stack.length;X++)$=new q0(this.buffer,$,this.stack[X]);return this.bufferNode=new q0(this.buffer,$,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(Z,$){for(let J=0;;){let X=!1;if(this.type.isAnonymous||Z(this)!==!1){if(this.firstChild()){J++;continue}if(!this.type.isAnonymous)X=!0}for(;;){if(X&&$)$(this);if(X=this.type.isAnonymous,!J)return;if(this.nextSibling())break;this.parent(),J--,X=!0}}}matchContext(Z){if(!this.buffer)return J8(this.node.parent,Z);let{buffer:$}=this.buffer,{types:J}=$.set;for(let X=Z.length-1,Y=this.stack.length-1;X>=0;Y--){if(Y<0)return J8(this._tree,Z,X);let K=J[$.buffer[this.stack[Y]]];if(!K.isAnonymous){if(Z[X]&&Z[X]!=K.name)return!1;X--}}return!0}}function K8(Z){return Z.children.some(($)=>$ instanceof S0||!$.type.isAnonymous||K8($))}function Xq(Z){var $;let{buffer:J,nodeSet:X,maxBufferLength:Y=1024,reused:K=[],minRepeatType:Q=X.types.length}=Z,U=Array.isArray(J)?new X8(J,J.length):J,q=X.types,W=0,G=0;function z(M,y,C,x,f,i){let{id:v,start:k,end:d,size:p}=U,o=G,I9=W;while(p<0)if(U.next(),p==-1){let _0=K[v];C.push(_0),x.push(k-M);return}else if(p==-3){W=v;return}else if(p==-4){G=v;return}else throw new RangeError(`Unrecognized record size: ${p}`);let x9=q[v],$0,z9,f9=k-M;if(d-k<=Y&&(z9=N(U.pos-y,f))){let _0=new Uint16Array(z9.size-z9.skip),p9=U.pos-z9.size,J0=_0.length;while(U.pos>p9)J0=D(z9.start,_0,J0);$0=new S0(_0,d-z9.start,X),f9=z9.start-M}else{let _0=U.pos-p;U.next();let p9=[],J0=[],g0=v>=Q?v:-1,K5=0,l7=d;while(U.pos>_0)if(g0>=0&&U.id==g0&&U.size>=0){if(U.end<=l7-Y)O(p9,J0,k,K5,U.end,l7,g0,o,I9),K5=p9.length,l7=U.end;U.next()}else if(i>2500)j(k,_0,p9,J0);else z(k,_0,p9,J0,g0,i+1);if(g0>=0&&K5>0&&K5<p9.length)O(p9,J0,k,K5,k,l7,g0,o,I9);if(p9.reverse(),J0.reverse(),g0>-1&&K5>0){let r1=_(x9,I9);$0=Q8(x9,p9,J0,0,p9.length,0,d-k,r1,r1)}else $0=H(x9,p9,J0,d-k,o-d,I9)}C.push($0),x.push(f9)}function j(M,y,C,x){let f=[],i=0,v=-1;while(U.pos>y){let{id:k,start:d,end:p,size:o}=U;if(o>4)U.next();else if(v>-1&&d<v)break;else{if(v<0)v=p-Y;f.push(k,d,p),i++,U.next()}}if(i){let k=new Uint16Array(i*4),d=f[f.length-2];for(let p=f.length-3,o=0;p>=0;p-=3)k[o++]=f[p],k[o++]=f[p+1]-d,k[o++]=f[p+2]-d,k[o++]=o;C.push(new S0(k,f[2]-d,X)),x.push(d-M)}}function _(M,y){return(C,x,f)=>{let i=0,v=C.length-1,k,d;if(v>=0&&(k=C[v])instanceof s){if(!v&&k.type==M&&k.length==f)return k;if(d=k.prop(b.lookAhead))i=x[v]+k.length+d}return H(M,C,x,f,i,y)}}function O(M,y,C,x,f,i,v,k,d){let p=[],o=[];while(M.length>x)p.push(M.pop()),o.push(y.pop()+C-f);M.push(H(X.types[v],p,o,i-f,k-i,d)),y.push(f-C)}function H(M,y,C,x,f,i,v){if(i){let k=[b.contextHash,i];v=v?[k].concat(v):[k]}if(f>25){let k=[b.lookAhead,f];v=v?[k].concat(v):[k]}return new s(M,y,C,x,v)}function N(M,y){let C=U.fork(),x=0,f=0,i=0,v=C.end-Y,k={size:0,start:0,skip:0};Z:for(let d=C.pos-M;C.pos>d;){let p=C.size;if(C.id==y&&p>=0){k.size=x,k.start=f,k.skip=i,i+=4,x+=4,C.next();continue}let o=C.pos-p;if(p<0||o<d||C.start<v)break;let I9=C.id>=Q?4:0,x9=C.start;C.next();while(C.pos>o){if(C.size<0)if(C.size==-3)I9+=4;else break Z;else if(C.id>=Q)I9+=4;C.next()}f=x9,x+=p,i+=I9}if(y<0||x==M)k.size=x,k.start=f,k.skip=i;return k.size>4?k:void 0}function D(M,y,C){let{id:x,start:f,end:i,size:v}=U;if(U.next(),v>=0&&x<Q){let k=C;if(v>4){let d=U.pos-(v-4);while(U.pos>d)C=D(M,y,C)}y[--C]=k,y[--C]=i-M,y[--C]=f-M,y[--C]=x}else if(v==-3)W=x;else if(v==-4)G=x;return C}let A=[],V=[];while(U.pos>0)z(Z.start||0,Z.bufferStart||0,A,V,-1,0);let I=($=Z.length)!==null&&$!==void 0?$:A.length?V[0]+A[0].length:0;return new s(q[Z.topID],A.reverse(),V.reverse(),I)}var fJ=new WeakMap;function kZ(Z,$){if(!Z.isAnonymous||$ instanceof S0||$.type!=Z)return 1;let J=fJ.get($);if(J==null){J=1;for(let X of $.children){if(X.type!=Z||!(X instanceof s)){J=1;break}J+=kZ(Z,X)}fJ.set($,J)}return J}function Q8(Z,$,J,X,Y,K,Q,U,q){let W=0;for(let O=X;O<Y;O++)W+=kZ(Z,$[O]);let G=Math.ceil(W*1.5/8),z=[],j=[];function _(O,H,N,D,A){for(let V=N;V<D;){let I=V,M=H[V],y=kZ(Z,O[V]);V++;for(;V<D;V++){let C=kZ(Z,O[V]);if(y+C>=G)break;y+=C}if(V==I+1){if(y>G){let C=O[I];_(C.children,C.positions,0,C.children.length,H[I]+A);continue}z.push(O[I])}else{let C=H[V-1]+O[V-1].length-M;z.push(Q8(Z,O,H,I,V,M,C,null,q))}j.push(M+A-K)}}return _($,J,X,Y,0),(U||q)(z,j,Q)}class U8{constructor(){this.map=new WeakMap}setBuffer(Z,$,J){let X=this.map.get(Z);if(!X)this.map.set(Z,X=new Map);X.set($,J)}getBuffer(Z,$){let J=this.map.get(Z);return J&&J.get($)}set(Z,$){if(Z instanceof q0)this.setBuffer(Z.context.buffer,Z.index,$);else if(Z instanceof y9)this.map.set(Z.tree,$)}get(Z){return Z instanceof q0?this.getBuffer(Z.context.buffer,Z.index):Z instanceof y9?this.map.get(Z.tree):void 0}cursorSet(Z,$){if(Z.buffer)this.setBuffer(Z.buffer.buffer,Z.index,$);else this.map.set(Z.tree,$)}cursorGet(Z){return Z.buffer?this.getBuffer(Z.buffer.buffer,Z.index):this.map.get(Z.tree)}}class k0{constructor(Z,$,J,X,Y=!1,K=!1){this.from=Z,this.to=$,this.tree=J,this.offset=X,this.open=(Y?1:0)|(K?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(Z,$=[],J=!1){let X=[new k0(0,Z.length,Z,0,!1,J)];for(let Y of $)if(Y.to>Z.length)X.push(Y);return X}static applyChanges(Z,$,J=128){if(!$.length)return Z;let X=[],Y=1,K=Z.length?Z[0]:null;for(let Q=0,U=0,q=0;;Q++){let W=Q<$.length?$[Q]:null,G=W?W.fromA:1e9;if(G-U>=J)while(K&&K.from<G){let z=K;if(U>=z.from||G<=z.to||q){let j=Math.max(z.from,U)-q,_=Math.min(z.to,G)-q;z=j>=_?null:new k0(j,_,z.tree,z.offset+q,Q>0,!!W)}if(z)X.push(z);if(K.to>G)break;K=Y<Z.length?Z[Y++]:null}if(!W)break;U=W.toA,q=W.toA-W.toB}return X}}class E5{startParse(Z,$,J){if(typeof Z=="string")Z=new iJ(Z);return J=!J?[new SZ(0,Z.length)]:J.length?J.map((X)=>new SZ(X.from,X.to)):[new SZ(0,0)],this.createParse(Z,$||[],J)}parse(Z,$,J){let X=this.startParse(Z,$,J);for(;;){let Y=X.advance();if(Y)return Y}}}class iJ{constructor(Z){this.string=Z}get length(){return this.string.length}chunk(Z){return this.string.slice(Z)}get lineChunks(){return!1}read(Z,$){return this.string.slice(Z,$)}}var Dj=new b({perNode:!0});var Yq=0;class c9{constructor(Z,$,J,X){this.name=Z,this.set=$,this.base=J,this.modified=X,this.id=Yq++}toString(){let{name:Z}=this;for(let $ of this.modified)if($.name)Z=`${$.name}(${Z})`;return Z}static define(Z,$){let J=typeof Z=="string"?Z:"?";if(Z instanceof c9)$=Z;if($===null||$===void 0?void 0:$.base)throw new Error("Can not derive from a modified tag");let X=new c9(J,[],null,[]);if(X.set.push(X),$)for(let Y of $.set)X.set.push(Y);return X}static defineModifier(Z){let $=new vZ(Z);return(J)=>{if(J.modified.indexOf($)>-1)return J;return vZ.get(J.base||J,J.modified.concat($).sort((X,Y)=>X.id-Y.id))}}}var Kq=0;class vZ{constructor(Z){this.name=Z,this.instances=[],this.id=Kq++}static get(Z,$){if(!$.length)return Z;let J=$[0].instances.find((Q)=>Q.base==Z&&Qq($,Q.modified));if(J)return J;let X=[],Y=new c9(Z.name,X,Z,$);for(let Q of $)Q.instances.push(Y);let K=Uq($);for(let Q of Z.set)if(!Q.modified.length)for(let U of K)X.push(vZ.get(Q,U));return Y}}function Qq(Z,$){return Z.length==$.length&&Z.every((J,X)=>J==$[X])}function Uq(Z){let $=[[]];for(let J=0;J<Z.length;J++)for(let X=0,Y=$.length;X<Y;X++)$.push($[X].concat(Z[J]));return $.sort((J,X)=>X.length-J.length)}function mZ(Z){let $=Object.create(null);for(let J in Z){let X=Z[J];if(!Array.isArray(X))X=[X];for(let Y of J.split(" "))if(Y){let K=[],Q=2,U=Y;for(let z=0;;){if(U=="..."&&z>0&&z+3==Y.length){Q=1;break}let j=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(U);if(!j)throw new RangeError("Invalid path: "+Y);if(K.push(j[0]=="*"?"":j[0][0]=='"'?JSON.parse(j[0]):j[0]),z+=j[0].length,z==Y.length)break;let _=Y[z++];if(z==Y.length&&_=="!"){Q=0;break}if(_!="/")throw new RangeError("Invalid path: "+Y);U=Y.slice(z)}let q=K.length-1,W=K[q];if(!W)throw new RangeError("Invalid path: "+Y);let G=new F7(X,Q,q>0?K.slice(0,q):null);$[W]=G.sort($[W])}}return rJ.add($)}var rJ=new b;class F7{constructor(Z,$,J,X){this.tags=Z,this.mode=$,this.context=J,this.next=X}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(Z){if(!Z||Z.depth<this.depth)return this.next=Z,this;return Z.next=this.sort(Z.next),Z}get depth(){return this.context?this.context.length:0}}F7.empty=new F7([],2,null);function G8(Z,$){let J=Object.create(null);for(let K of Z)if(!Array.isArray(K.tag))J[K.tag.id]=K.class;else for(let Q of K.tag)J[Q.id]=K.class;let{scope:X,all:Y=null}=$||{};return{style:(K)=>{let Q=Y;for(let U of K)for(let q of U.set){let W=J[q.id];if(W){Q=Q?Q+" "+W:W;break}}return Q},scope:X}}function qq(Z,$){let J=null;for(let X of Z){let Y=X.style($);if(Y)J=J?J+" "+Y:Y}return J}function oJ(Z,$,J,X=0,Y=Z.length){let K=new tJ(X,Array.isArray($)?$:[$],J);K.highlightRange(Z.cursor(),X,Y,"",K.highlighters),K.flush(Y)}class tJ{constructor(Z,$,J){this.at=Z,this.highlighters=$,this.span=J,this.class=""}startSpan(Z,$){if($!=this.class){if(this.flush(Z),Z>this.at)this.at=Z;this.class=$}}flush(Z){if(Z>this.at&&this.class)this.span(this.at,Z,this.class)}highlightRange(Z,$,J,X,Y){let{type:K,from:Q,to:U}=Z;if(Q>=J||U<=$)return;if(K.isTop)Y=this.highlighters.filter((j)=>!j.scope||j.scope(K));let q=X,W=Wq(Z)||F7.empty,G=qq(Y,W.tags);if(G){if(q)q+=" ";if(q+=G,W.mode==1)X+=(X?" ":"")+G}if(this.startSpan(Math.max($,Q),q),W.opaque)return;let z=Z.tree&&Z.tree.prop(b.mounted);if(z&&z.overlay){let j=Z.node.enter(z.overlay[0].from+Q,1),_=this.highlighters.filter((H)=>!H.scope||H.scope(z.tree.type)),O=Z.firstChild();for(let H=0,N=Q;;H++){let D=H<z.overlay.length?z.overlay[H]:null,A=D?D.from+Q:U,V=Math.max($,N),I=Math.min(J,A);if(V<I&&O){while(Z.from<I)if(this.highlightRange(Z,V,I,X,Y),this.startSpan(Math.min(I,Z.to),q),Z.to>=A||!Z.nextSibling())break}if(!D||A>J)break;if(N=D.to+Q,N>$)this.highlightRange(j.cursor(),Math.max($,D.from+Q),Math.min(J,N),"",_),this.startSpan(Math.min(J,N),q)}if(O)Z.parent()}else if(Z.firstChild()){if(z)X="";do{if(Z.to<=$)continue;if(Z.from>=J)break;this.highlightRange(Z,$,J,X,Y),this.startSpan(Math.min(J,Z.to),q)}while(Z.nextSibling());Z.parent()}}}function Wq(Z){let $=Z.type.prop(rJ);while($&&$.context&&!Z.matchContext($.context))$=$.next;return $||null}var E=c9.define,xZ=E(),b0=E(),nJ=E(b0),aJ=E(b0),x0=E(),wZ=E(x0),q8=E(x0),z0=E(),i0=E(z0),W0=E(),G0=E(),W8=E(),D7=E(W8),hZ=E(),R={comment:xZ,lineComment:E(xZ),blockComment:E(xZ),docComment:E(xZ),name:b0,variableName:E(b0),typeName:nJ,tagName:E(nJ),propertyName:aJ,attributeName:E(aJ),className:E(b0),labelName:E(b0),namespace:E(b0),macroName:E(b0),literal:x0,string:wZ,docString:E(wZ),character:E(wZ),attributeValue:E(wZ),number:q8,integer:E(q8),float:E(q8),bool:E(x0),regexp:E(x0),escape:E(x0),color:E(x0),url:E(x0),keyword:W0,self:E(W0),null:E(W0),atom:E(W0),unit:E(W0),modifier:E(W0),operatorKeyword:E(W0),controlKeyword:E(W0),definitionKeyword:E(W0),moduleKeyword:E(W0),operator:G0,derefOperator:E(G0),arithmeticOperator:E(G0),logicOperator:E(G0),bitwiseOperator:E(G0),compareOperator:E(G0),updateOperator:E(G0),definitionOperator:E(G0),typeOperator:E(G0),controlOperator:E(G0),punctuation:W8,separator:E(W8),bracket:D7,angleBracket:E(D7),squareBracket:E(D7),paren:E(D7),brace:E(D7),content:z0,heading:i0,heading1:E(i0),heading2:E(i0),heading3:E(i0),heading4:E(i0),heading5:E(i0),heading6:E(i0),contentSeparator:E(z0),list:E(z0),quote:E(z0),emphasis:E(z0),strong:E(z0),link:E(z0),monospace:E(z0),strikethrough:E(z0),inserted:E(),deleted:E(),changed:E(),invalid:E(),meta:hZ,documentMeta:E(hZ),annotation:E(hZ),processingInstruction:E(hZ),definition:c9.defineModifier("definition"),constant:c9.defineModifier("constant"),function:c9.defineModifier("function"),standard:c9.defineModifier("standard"),local:c9.defineModifier("local"),special:c9.defineModifier("special")};for(let Z in R){let $=R[Z];if($ instanceof c9)$.name=Z}var Aj=G8([{tag:R.link,class:"tok-link"},{tag:R.heading,class:"tok-heading"},{tag:R.emphasis,class:"tok-emphasis"},{tag:R.strong,class:"tok-strong"},{tag:R.keyword,class:"tok-keyword"},{tag:R.atom,class:"tok-atom"},{tag:R.bool,class:"tok-bool"},{tag:R.url,class:"tok-url"},{tag:R.labelName,class:"tok-labelName"},{tag:R.inserted,class:"tok-inserted"},{tag:R.deleted,class:"tok-deleted"},{tag:R.literal,class:"tok-literal"},{tag:R.string,class:"tok-string"},{tag:R.number,class:"tok-number"},{tag:[R.regexp,R.escape,R.special(R.string)],class:"tok-string2"},{tag:R.variableName,class:"tok-variableName"},{tag:R.local(R.variableName),class:"tok-variableName tok-local"},{tag:R.definition(R.variableName),class:"tok-variableName tok-definition"},{tag:R.special(R.variableName),class:"tok-variableName2"},{tag:R.definition(R.propertyName),class:"tok-propertyName tok-definition"},{tag:R.typeName,class:"tok-typeName"},{tag:R.namespace,class:"tok-namespace"},{tag:R.className,class:"tok-className"},{tag:R.macroName,class:"tok-macroName"},{tag:R.propertyName,class:"tok-propertyName"},{tag:R.operator,class:"tok-operator"},{tag:R.comment,class:"tok-comment"},{tag:R.meta,class:"tok-meta"},{tag:R.invalid,class:"tok-invalid"},{tag:R.punctuation,class:"tok-punctuation"}]);var z8,w0=new b;function M7(Z){return B.define({combine:Z?($)=>$.concat(Z):void 0})}var L7=new b;class F9{constructor(Z,$,J=[],X=""){if(this.data=Z,this.name=X,!m.prototype.hasOwnProperty("tree"))Object.defineProperty(m.prototype,"tree",{get(){return r(this)}});this.parser=$,this.extension=[V0.of(this),m.languageData.of((Y,K,Q)=>{let U=eJ(Y,K,Q),q=U.type.prop(w0);if(!q)return[];let W=Y.facet(q),G=U.type.prop(L7);if(G){let z=U.resolve(K-U.from,Q);for(let j of G)if(j.test(z,Y)){let _=Y.facet(j.facet);return j.type=="replace"?_:_.concat(W)}}return W})].concat(J)}isActiveAt(Z,$,J=-1){return eJ(Z,$,J).type.prop(w0)==this.data}findRegions(Z){let $=Z.facet(V0);if(($===null||$===void 0?void 0:$.data)==this.data)return[{from:0,to:Z.doc.length}];if(!$||!$.allowsNesting)return[];let J=[],X=(Y,K)=>{if(Y.prop(w0)==this.data){J.push({from:K,to:K+Y.length});return}let Q=Y.prop(b.mounted);if(Q){if(Q.tree.prop(w0)==this.data){if(Q.overlay)for(let U of Q.overlay)J.push({from:U.from+K,to:U.to+K});else J.push({from:K,to:K+Y.length});return}else if(Q.overlay){let U=J.length;if(X(Q.tree,Q.overlay[0].from+K),J.length>U)return}}for(let U=0;U<Y.children.length;U++){let q=Y.children[U];if(q instanceof s)X(q,Y.positions[U]+K)}};return X(r(Z),0),J}get allowsNesting(){return!0}}F9.setState=S.define();function eJ(Z,$,J){let X=Z.facet(V0),Y=r(Z).topNode;if(!X||X.allowsNesting){for(let K=Y;K;K=K.enter($,J,Y9.ExcludeBuffers))if(K.type.isTop)Y=K}return Y}class P5 extends F9{constructor(Z,$,J){super(Z,$,[],J);this.parser=$}static define(Z){let $=M7(Z.languageData);return new P5($,Z.parser.configure({props:[w0.add((J)=>J.isTop?$:void 0)]}),Z.name)}configure(Z,$){return new P5(this.data,this.parser.configure(Z),$||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function r(Z){let $=Z.field(F9.state,!1);return $?$.tree:s.empty}function q2(Z,$,J=50){var X;let Y=(X=Z.field(F9.state,!1))===null||X===void 0?void 0:X.context;if(!Y)return null;let K=Y.viewport;Y.updateViewport({from:0,to:$});let Q=Y.isDone($)||Y.work(J,$)?Y.tree:null;return Y.updateViewport(K),Q}function Gq(Z,$=Z.doc.length){var J;return((J=Z.field(F9.state,!1))===null||J===void 0?void 0:J.context.isDone($))||!1}function zq(Z,$=Z.viewport.to,J=100){let X=q2(Z.state,$,J);if(X!=r(Z.state))Z.dispatch({});return!!X}function jq(Z){var $;return(($=Z.plugin(G2))===null||$===void 0?void 0:$.isWorking())||!1}class D8{constructor(Z){this.doc=Z,this.cursorPos=0,this.string="",this.cursor=Z.iter()}get length(){return this.doc.length}syncTo(Z){return this.string=this.cursor.next(Z-this.cursorPos).value,this.cursorPos=Z+this.string.length,this.cursorPos-this.string.length}chunk(Z){return this.syncTo(Z),this.string}get lineChunks(){return!0}read(Z,$){let J=this.cursorPos-this.string.length;if(Z<J||$>=this.cursorPos)return this.doc.sliceString(Z,$);else return this.string.slice(Z-J,$-J)}}var V7=null;class n0{constructor(Z,$,J=[],X,Y,K,Q,U){this.parser=Z,this.state=$,this.fragments=J,this.tree=X,this.treeLen=Y,this.viewport=K,this.skipped=Q,this.scheduleOn=U,this.parse=null,this.tempSkipped=[]}static create(Z,$,J){return new n0(Z,$,[],s.empty,0,J,[],null)}startParse(){return this.parser.startParse(new D8(this.state.doc),this.fragments)}work(Z,$){if($!=null&&$>=this.state.doc.length)$=void 0;if(this.tree!=s.empty&&this.isDone($!==null&&$!==void 0?$:this.state.doc.length))return this.takeTree(),!0;return this.withContext(()=>{var J;if(typeof Z=="number"){let X=Date.now()+Z;Z=()=>Date.now()>X}if(!this.parse)this.parse=this.startParse();if($!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>$)&&$<this.state.doc.length)this.parse.stopAt($);for(;;){let X=this.parse.advance();if(X)if(this.fragments=this.withoutTempSkipped(k0.addTree(X,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(J=this.parse.stoppedAt)!==null&&J!==void 0?J:this.state.doc.length,this.tree=X,this.parse=null,this.treeLen<($!==null&&$!==void 0?$:this.state.doc.length))this.parse=this.startParse();else return!0;if(Z())return!1}})}takeTree(){let Z,$;if(this.parse&&(Z=this.parse.parsedPos)>=this.treeLen){if(this.parse.stoppedAt==null||this.parse.stoppedAt>Z)this.parse.stopAt(Z);this.withContext(()=>{while(!($=this.parse.advance()));}),this.treeLen=Z,this.tree=$,this.fragments=this.withoutTempSkipped(k0.addTree(this.tree,this.fragments,!0)),this.parse=null}}withContext(Z){let $=V7;V7=this;try{return Z()}finally{V7=$}}withoutTempSkipped(Z){for(let $;$=this.tempSkipped.pop();)Z=Z2(Z,$.from,$.to);return Z}changes(Z,$){let{fragments:J,tree:X,treeLen:Y,viewport:K,skipped:Q}=this;if(this.takeTree(),!Z.empty){let U=[];if(Z.iterChangedRanges((q,W,G,z)=>U.push({fromA:q,toA:W,fromB:G,toB:z})),J=k0.applyChanges(J,U),X=s.empty,Y=0,K={from:Z.mapPos(K.from,-1),to:Z.mapPos(K.to,1)},this.skipped.length){Q=[];for(let q of this.skipped){let W=Z.mapPos(q.from,1),G=Z.mapPos(q.to,-1);if(W<G)Q.push({from:W,to:G})}}}return new n0(this.parser,$,J,X,Y,K,Q,this.scheduleOn)}updateViewport(Z){if(this.viewport.from==Z.from&&this.viewport.to==Z.to)return!1;this.viewport=Z;let $=this.skipped.length;for(let J=0;J<this.skipped.length;J++){let{from:X,to:Y}=this.skipped[J];if(X<Z.to&&Y>Z.from)this.fragments=Z2(this.fragments,X,Y),this.skipped.splice(J--,1)}if(this.skipped.length>=$)return!1;return this.reset(),!0}reset(){if(this.parse)this.takeTree(),this.parse=null}skipUntilInView(Z,$){this.skipped.push({from:Z,to:$})}static getSkippingParser(Z){return new class extends E5{createParse($,J,X){let Y=X[0].from,K=X[X.length-1].to;return{parsedPos:Y,advance(){let U=V7;if(U){for(let q of X)U.tempSkipped.push(q);if(Z)U.scheduleOn=U.scheduleOn?Promise.all([U.scheduleOn,Z]):Z}return this.parsedPos=K,new s(O9.none,[],[],K-Y)},stoppedAt:null,stopAt(){}}}}}isDone(Z){Z=Math.min(Z,this.state.doc.length);let $=this.fragments;return this.treeLen>=Z&&$.length&&$[0].from==0&&$[0].to>=Z}static get(){return V7}}function Z2(Z,$,J){return k0.applyChanges(Z,[{fromA:$,toA:J,fromB:$,toB:J}])}class T5{constructor(Z){this.context=Z,this.tree=Z.tree}apply(Z){if(!Z.docChanged&&this.tree==this.context.tree)return this;let $=this.context.changes(Z.changes,Z.state),J=this.context.treeLen==Z.startState.doc.length?void 0:Math.max(Z.changes.mapPos(this.context.treeLen),$.viewport.to);if(!$.work(20,J))$.takeTree();return new T5($)}static init(Z){let $=Math.min(3000,Z.doc.length),J=n0.create(Z.facet(V0).parser,Z,{from:0,to:$});if(!J.work(20,$))J.takeTree();return new T5(J)}}F9.state=t.define({create:T5.init,update(Z,$){for(let J of $.effects)if(J.is(F9.setState))return J.value;if($.startState.facet(V0)!=$.state.facet(V0))return T5.init($.state);return Z.apply($)}});var W2=(Z)=>{let $=setTimeout(()=>Z(),500);return()=>clearTimeout($)};if(typeof requestIdleCallback!="undefined")W2=(Z)=>{let $=-1,J=setTimeout(()=>{$=requestIdleCallback(Z,{timeout:400})},100);return()=>$<0?clearTimeout(J):cancelIdleCallback($)};var j8=typeof navigator!="undefined"&&((z8=navigator.scheduling)===null||z8===void 0?void 0:z8.isInputPending)?()=>navigator.scheduling.isInputPending():null,G2=c.fromClass(class Z{constructor($){this.view=$,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update($){let J=this.view.state.field(F9.state).context;if(J.updateViewport($.view.viewport)||this.view.viewport.to>J.treeLen)this.scheduleWork();if($.docChanged||$.selectionSet){if(this.view.hasFocus)this.chunkBudget+=50;this.scheduleWork()}this.checkAsyncSchedule(J)}scheduleWork(){if(this.working)return;let{state:$}=this.view,J=$.field(F9.state);if(J.tree!=J.context.tree||!J.context.isDone($.doc.length))this.working=W2(this.work)}work($){this.working=null;let J=Date.now();if(this.chunkEnd<J&&(this.chunkEnd<0||this.view.hasFocus))this.chunkEnd=J+30000,this.chunkBudget=3000;if(this.chunkBudget<=0)return;let{state:X,viewport:{to:Y}}=this.view,K=X.field(F9.state);if(K.tree==K.context.tree&&K.context.isDone(Y+1e5))return;let Q=Date.now()+Math.min(this.chunkBudget,100,$&&!j8?Math.max(25,$.timeRemaining()-5):1e9),U=K.context.treeLen<Y&&X.doc.length>Y+1000,q=K.context.work(()=>{return j8&&j8()||Date.now()>Q},Y+(U?0:1e5));if(this.chunkBudget-=Date.now()-J,q||this.chunkBudget<=0)K.context.takeTree(),this.view.dispatch({effects:F9.setState.of(new T5(K.context))});if(this.chunkBudget>0&&!(q&&!U))this.scheduleWork();this.checkAsyncSchedule(K.context)}checkAsyncSchedule($){if($.scheduleOn)this.workScheduled++,$.scheduleOn.then(()=>this.scheduleWork()).catch((J)=>W9(this.view.state,J)).then(()=>this.workScheduled--),$.scheduleOn=null}destroy(){if(this.working)this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),V0=B.define({combine(Z){return Z.length?Z[0]:null},enables:(Z)=>[F9.state,G2,L.contentAttributes.compute([Z],($)=>{let J=$.facet(Z);return J&&J.name?{"data-language":J.name}:{}})]});class pZ{constructor(Z,$=[]){this.language=Z,this.support=$,this.extension=[Z,$]}}class F8{constructor(Z,$,J,X,Y,K=void 0){this.name=Z,this.alias=$,this.extensions=J,this.filename=X,this.loadFunc=Y,this.support=K,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then((Z)=>this.support=Z,(Z)=>{throw this.loading=null,Z}))}static of(Z){let{load:$,support:J}=Z;if(!$){if(!J)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");$=()=>Promise.resolve(J)}return new F8(Z.name,(Z.alias||[]).concat(Z.name).map((X)=>X.toLowerCase()),Z.extensions||[],Z.filename,$,J)}static matchFilename(Z,$){for(let X of Z)if(X.filename&&X.filename.test($))return X;let J=/\.([^.]+)$/.exec($);if(J){for(let X of Z)if(X.extensions.indexOf(J[1])>-1)return X}return null}static matchLanguageName(Z,$,J=!0){$=$.toLowerCase();for(let X of Z)if(X.alias.some((Y)=>Y==$))return X;if(J)for(let X of Z)for(let Y of X.alias){let K=$.indexOf(Y);if(K>-1&&(Y.length>2||!/\w/.test($[K-1])&&!/\w/.test($[K+Y.length])))return X}return null}}var z2=B.define(),a0=B.define({combine:(Z)=>{if(!Z.length)return"  ";let $=Z[0];if(!$||/\S/.test($)||Array.from($).some((J)=>J!=$[0]))throw new Error("Invalid indent unit: "+JSON.stringify(Z[0]));return $}});function A0(Z){let $=Z.facet(a0);return $.charCodeAt(0)==9?Z.tabSize*$.length:$.length}function h0(Z,$){let J="",X=Z.tabSize,Y=Z.facet(a0)[0];if(Y=="\t"){while($>=X)J+="\t",$-=X;Y=" "}for(let K=0;K<$;K++)J+=Y;return J}function y5(Z,$){if(Z instanceof m)Z=new v0(Z);for(let X of Z.state.facet(z2)){let Y=X(Z,$);if(Y!==void 0)return Y}let J=r(Z.state);return J.length>=$?Oq(Z,J,$):null}function _q(Z,$,J){let X=Object.create(null),Y=new v0(Z,{overrideIndentation:(Q)=>{var U;return(U=X[Q])!==null&&U!==void 0?U:-1}}),K=[];for(let Q=$;Q<=J;){let U=Z.doc.lineAt(Q);Q=U.to+1;let q=y5(Y,U.from);if(q==null)continue;if(!/\S/.test(U.text))q=0;let W=/^\s*/.exec(U.text)[0],G=h0(Z,q);if(W!=G)X[U.from]=q,K.push({from:U.from,to:U.from+W.length,insert:G})}return Z.changes(K)}class v0{constructor(Z,$={}){this.state=Z,this.options=$,this.unit=A0(Z)}lineAt(Z,$=1){let J=this.state.doc.lineAt(Z),{simulateBreak:X,simulateDoubleBreak:Y}=this.options;if(X!=null&&X>=J.from&&X<=J.to)if(Y&&X==Z)return{text:"",from:Z};else if($<0?X<Z:X<=Z)return{text:J.text.slice(X-J.from),from:X};else return{text:J.text.slice(0,X-J.from),from:J.from};return J}textAfterPos(Z,$=1){if(this.options.simulateDoubleBreak&&Z==this.options.simulateBreak)return"";let{text:J,from:X}=this.lineAt(Z,$);return J.slice(Z-X,Math.min(J.length,Z+100-X))}column(Z,$=1){let{text:J,from:X}=this.lineAt(Z,$),Y=this.countColumn(J,Z-X),K=this.options.overrideIndentation?this.options.overrideIndentation(X):-1;if(K>-1)Y+=K-this.countColumn(J,J.search(/\S|$/));return Y}countColumn(Z,$=Z.length){return Y0(Z,this.state.tabSize,$)}lineIndent(Z,$=1){let{text:J,from:X}=this.lineAt(Z,$),Y=this.options.overrideIndentation;if(Y){let K=Y(X);if(K>-1)return K}return this.countColumn(J,J.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}var B7=new b;function Oq(Z,$,J){let X=$.resolveStack(J),Y=$.resolveInner(J,-1).resolve(J,0).enterUnfinishedNodesBefore(J);if(Y!=X.node){let K=[];for(let Q=Y;Q&&!(Q.from<X.node.from||Q.to>X.node.to||Q.from==X.node.from&&Q.type==X.node.type);Q=Q.parent)K.push(Q);for(let Q=K.length-1;Q>=0;Q--)X={node:K[Q],next:X}}return j2(X,Z,J)}function j2(Z,$,J){for(let X=Z;X;X=X.next){let Y=Nq(X.node);if(Y)return Y(lZ.create($,J,X))}return 0}function Hq(Z){return Z.pos==Z.options.simulateBreak&&Z.options.simulateDoubleBreak}function Nq(Z){let $=Z.type.prop(B7);if($)return $;let J=Z.firstChild,X;if(J&&(X=J.type.prop(b.closedBy))){let Y=Z.lastChild,K=Y&&X.indexOf(Y.name)>-1;return(Q)=>_2(Q,!0,1,void 0,K&&!Hq(Q)?Y.from:void 0)}return Z.parent==null?Rq:null}function Rq(){return 0}class lZ extends v0{constructor(Z,$,J){super(Z.state,Z.options);this.base=Z,this.pos=$,this.context=J}get node(){return this.context.node}static create(Z,$,J){return new lZ(Z,$,J)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(Z){let $=this.state.doc.lineAt(Z.from);for(;;){let J=Z.resolve($.from);while(J.parent&&J.parent.from==J.from)J=J.parent;if(Dq(J,Z))break;$=this.state.doc.lineAt(J.from)}return this.lineIndent($.from)}continue(){return j2(this.context.next,this.base,this.pos)}}function Dq(Z,$){for(let J=$;J;J=J.parent)if(Z==J)return!0;return!1}function Fq(Z){let $=Z.node,J=$.childAfter($.from),X=$.lastChild;if(!J)return null;let Y=Z.options.simulateBreak,K=Z.state.doc.lineAt(J.from),Q=Y==null||Y<=K.from?K.to:Math.min(K.to,Y);for(let U=J.to;;){let q=$.childAfter(U);if(!q||q==X)return null;if(!q.type.isSkipped){if(q.from>=Q)return null;let W=/^ */.exec(K.text.slice(J.to-K.from))[0].length;return{from:J.from,to:J.to+W}}U=q.to}}function V8({closing:Z,align:$=!0,units:J=1}){return(X)=>_2(X,$,J,Z)}function _2(Z,$,J,X,Y){let K=Z.textAfter,Q=K.match(/^\s*/)[0].length,U=X&&K.slice(Q,Q+X.length)==X||Y==Z.pos+Q,q=$?Fq(Z):null;if(q)return U?Z.column(q.from):Z.column(q.to);return Z.baseIndent+(U?0:Z.unit*J)}var A8=(Z)=>Z.baseIndent;function E7({except:Z,units:$=1}={}){return(J)=>{let X=Z&&Z.test(J.textAfter);return J.baseIndent+(X?0:$*J.unit)}}var Vq=200;function I8(){return m.transactionFilter.of((Z)=>{if(!Z.docChanged||!Z.isUserEvent("input.type")&&!Z.isUserEvent("input.complete"))return Z;let $=Z.startState.languageDataAt("indentOnInput",Z.startState.selection.main.head);if(!$.length)return Z;let J=Z.newDoc,{head:X}=Z.newSelection.main,Y=J.lineAt(X);if(X>Y.from+Vq)return Z;let K=J.sliceString(Y.from,X);if(!$.some((W)=>W.test(K)))return Z;let{state:Q}=Z,U=-1,q=[];for(let{head:W}of Q.selection.ranges){let G=Q.doc.lineAt(W);if(G.from==U)continue;U=G.from;let z=y5(Q,G.from);if(z==null)continue;let j=/^\s*/.exec(G.text)[0],_=h0(Q,z);if(j!=_)q.push({from:G.from,to:G.from+j.length,insert:_})}return q.length?[Z,{changes:q,sequential:!0}]:Z})}var O2=B.define(),dZ=new b;function M8(Z){let{firstChild:$,lastChild:J}=Z;return $&&$.to<J.from?{from:$.to,to:J.type.isError?Z.to:J.from}:null}function Aq(Z,$,J){let X=r(Z);if(X.length<J)return null;let Y=X.resolveStack(J,1),K=null;for(let Q=Y;Q;Q=Q.next){let U=Q.node;if(U.to<=J||U.from>J)continue;if(K&&U.from<$)break;let q=U.type.prop(dZ);if(q&&(U.to<X.length-50||X.length==Z.doc.length||!Iq(U))){let W=q(U,Z);if(W&&W.from<=J&&W.from>=$&&W.to>J)K=W}}return K}function Iq(Z){let $=Z.lastChild;return $&&$.to==Z.to&&$.type.isError}function C5(Z,$,J){for(let X of Z.facet(O2)){let Y=X(Z,$,J);if(Y)return Y}return Aq(Z,$,J)}function H2(Z,$){let J=$.mapPos(Z.from,1),X=$.mapPos(Z.to,-1);return J>=X?void 0:{from:J,to:X}}var S5=S.define({map:H2}),r0=S.define({map:H2});function L8(Z){let $=[];for(let{head:J}of Z.state.selection.ranges){if($.some((X)=>X.from<=J&&X.to>=J))continue;$.push(Z.lineBlockAt(J))}return $}var I0=t.define({create(){return T.none},update(Z,$){if($.isUserEvent("delete"))$.changes.iterChangedRanges((J,X)=>Z=$2(Z,J,X));Z=Z.map($.changes);for(let J of $.effects)if(J.is(S5)&&!Lq(Z,J.value.from,J.value.to)){let{preparePlaceholder:X}=$.state.facet(P8),Y=!X?J2:T.replace({widget:new A2(X($.state,J.value))});Z=Z.update({add:[Y.range(J.value.from,J.value.to)]})}else if(J.is(r0))Z=Z.update({filter:(X,Y)=>J.value.from!=X||J.value.to!=Y,filterFrom:J.value.from,filterTo:J.value.to});if($.selection)Z=$2(Z,$.selection.main.head);return Z},provide:(Z)=>L.decorations.from(Z),toJSON(Z,$){let J=[];return Z.between(0,$.doc.length,(X,Y)=>{J.push(X,Y)}),J},fromJSON(Z){if(!Array.isArray(Z)||Z.length%2)throw new RangeError("Invalid JSON for fold state");let $=[];for(let J=0;J<Z.length;){let X=Z[J++],Y=Z[J++];if(typeof X!="number"||typeof Y!="number")throw new RangeError("Invalid JSON for fold state");$.push(J2.range(X,Y))}return T.set($,!0)}});function $2(Z,$,J=$){let X=!1;return Z.between($,J,(Y,K)=>{if(Y<J&&K>$)X=!0}),!X?Z:Z.update({filterFrom:$,filterTo:J,filter:(Y,K)=>Y>=J||K<=$})}function Mq(Z){return Z.field(I0,!1)||w.empty}function A7(Z,$,J){var X;let Y=null;return(X=Z.field(I0,!1))===null||X===void 0||X.between($,J,(K,Q)=>{if(!Y||Y.from>K)Y={from:K,to:Q}}),Y}function Lq(Z,$,J){let X=!1;return Z.between($,$,(Y,K)=>{if(Y==$&&K==J)X=!0}),X}function B8(Z,$){return Z.field(I0,!1)?$:$.concat(S.appendConfig.of(T8()))}var N2=(Z)=>{for(let $ of L8(Z)){let J=C5(Z.state,$.from,$.to);if(J)return Z.dispatch({effects:B8(Z.state,[S5.of(J),fZ(Z,J)])}),!0}return!1},R2=(Z)=>{if(!Z.state.field(I0,!1))return!1;let $=[];for(let J of L8(Z)){let X=A7(Z.state,J.from,J.to);if(X)$.push(r0.of(X),fZ(Z,X,!1))}if($.length)Z.dispatch({effects:$});return $.length>0};function fZ(Z,$,J=!0){let X=Z.state.doc.lineAt($.from).number,Y=Z.state.doc.lineAt($.to).number;return L.announce.of(`${Z.state.phrase(J?"Folded lines":"Unfolded lines")} ${X} ${Z.state.phrase("to")} ${Y}.`)}var D2=(Z)=>{let{state:$}=Z,J=[];for(let X=0;X<$.doc.length;){let Y=Z.lineBlockAt(X),K=C5($,Y.from,Y.to);if(K)J.push(S5.of(K));X=(K?Z.lineBlockAt(K.to):Y).to+1}if(J.length)Z.dispatch({effects:B8(Z.state,J)});return!!J.length},F2=(Z)=>{let $=Z.state.field(I0,!1);if(!$||!$.size)return!1;let J=[];return $.between(0,Z.state.doc.length,(X,Y)=>{J.push(r0.of({from:X,to:Y}))}),Z.dispatch({effects:J}),!0};function Bq(Z,$){for(let J=$;;){let X=C5(Z.state,J.from,J.to);if(X&&X.to>$.from)return X;if(!J.from)return null;J=Z.lineBlockAt(J.from-1)}}var Eq=(Z)=>{let $=[];for(let J of L8(Z)){let X=A7(Z.state,J.from,J.to);if(X)$.push(r0.of(X),fZ(Z,X,!1));else{let Y=Bq(Z,J);if(Y)$.push(S5.of(Y),fZ(Z,Y))}}if($.length>0)Z.dispatch({effects:B8(Z.state,$)});return!!$.length},E8=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:N2},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:R2},{key:"Ctrl-Alt-[",run:D2},{key:"Ctrl-Alt-]",run:F2}],Pq={placeholderDOM:null,preparePlaceholder:null,placeholderText:"‚Ä¶"},P8=B.define({combine(Z){return j9(Z,Pq)}});function T8(Z){let $=[I0,Cq];if(Z)$.push(P8.of(Z));return $}function V2(Z,$){let{state:J}=Z,X=J.facet(P8),Y=(Q)=>{let U=Z.lineBlockAt(Z.posAtDOM(Q.target)),q=A7(Z.state,U.from,U.to);if(q)Z.dispatch({effects:r0.of(q)});Q.preventDefault()};if(X.placeholderDOM)return X.placeholderDOM(Z,Y,$);let K=document.createElement("span");return K.textContent=X.placeholderText,K.setAttribute("aria-label",J.phrase("folded code")),K.title=J.phrase("unfold"),K.className="cm-foldPlaceholder",K.onclick=Y,K}var J2=T.replace({widget:new class extends L9{toDOM(Z){return V2(Z,null)}}});class A2 extends L9{constructor(Z){super();this.value=Z}eq(Z){return this.value==Z.value}toDOM(Z){return V2(Z,this.value)}}var Tq={openText:"‚åÑ",closedText:"‚Ä∫",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class uZ extends v9{constructor(Z,$){super();this.config=Z,this.open=$}eq(Z){return this.config==Z.config&&this.open==Z.open}toDOM(Z){if(this.config.markerDOM)return this.config.markerDOM(this.open);let $=document.createElement("span");return $.textContent=this.open?this.config.openText:this.config.closedText,$.title=Z.state.phrase(this.open?"Fold line":"Unfold line"),$}}function C8(Z={}){let $={...Tq,...Z},J=new uZ($,!0),X=new uZ($,!1),Y=c.fromClass(class{constructor(Q){this.from=Q.viewport.from,this.markers=this.buildMarkers(Q)}update(Q){if(Q.docChanged||Q.viewportChanged||Q.startState.facet(V0)!=Q.state.facet(V0)||Q.startState.field(I0,!1)!=Q.state.field(I0,!1)||r(Q.startState)!=r(Q.state)||$.foldingChanged(Q))this.markers=this.buildMarkers(Q.view)}buildMarkers(Q){let U=new M9;for(let q of Q.viewportLineBlocks){let W=A7(Q.state,q.from,q.to)?X:C5(Q.state,q.from,q.to)?J:null;if(W)U.add(q.from,q.from,W)}return U.finish()}}),{domEventHandlers:K}=$;return[Y,CZ({class:"cm-foldGutter",markers(Q){var U;return((U=Q.plugin(Y))===null||U===void 0?void 0:U.markers)||w.empty},initialSpacer(){return new uZ($,!1)},domEventHandlers:{...K,click:(Q,U,q)=>{if(K.click&&K.click(Q,U,q))return!0;let W=A7(Q.state,U.from,U.to);if(W)return Q.dispatch({effects:r0.of(W)}),!0;let G=C5(Q.state,U.from,U.to);if(G)return Q.dispatch({effects:S5.of(G)}),!0;return!1}}}),T8()]}var Cq=L.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class P7{constructor(Z,$){this.specs=Z;let J;function X(Q){let U=r9.newName();return(J||(J=Object.create(null)))["."+U]=Q,U}let Y=typeof $.all=="string"?$.all:$.all?X($.all):void 0,K=$.scope;this.scope=K instanceof F9?(Q)=>Q.prop(w0)==K.data:K?(Q)=>Q==K:void 0,this.style=G8(Z.map((Q)=>({tag:Q.tag,class:Q.class||X(Object.assign({},Q,{tag:null}))})),{all:Y}).style,this.module=J?new r9(J):null,this.themeType=$.themeType}static define(Z,$){return new P7(Z,$||{})}}var O8=B.define(),I2=B.define({combine(Z){return Z.length?[Z[0]]:null}});function gZ(Z){let $=Z.facet(O8);return $.length?$:Z.facet(I2)}function cZ(Z,$){let J=[Sq],X;if(Z instanceof P7){if(Z.module)J.push(L.styleModule.of(Z.module));X=Z.themeType}if($===null||$===void 0?void 0:$.fallback)J.push(I2.of(Z));else if(X)J.push(O8.computeN([L.darkTheme],(Y)=>{return Y.facet(L.darkTheme)==(X=="dark")?[Z]:[]}));else J.push(O8.of(Z));return J}function yq(Z,$,J){let X=gZ(Z),Y=null;if(X){for(let K of X)if(!K.scope||J&&K.scope(J)){let Q=K.style($);if(Q)Y=Y?Y+" "+Q:Q}}return Y}class M2{constructor(Z){this.markCache=Object.create(null),this.tree=r(Z.state),this.decorations=this.buildDeco(Z,gZ(Z.state)),this.decoratedTo=Z.viewport.to}update(Z){let $=r(Z.state),J=gZ(Z.state),X=J!=gZ(Z.startState),{viewport:Y}=Z.view,K=Z.changes.mapPos(this.decoratedTo,1);if($.length<Y.to&&!X&&$.type==this.tree.type&&K>=Y.to)this.decorations=this.decorations.map(Z.changes),this.decoratedTo=K;else if($!=this.tree||Z.viewportChanged||X)this.tree=$,this.decorations=this.buildDeco(Z.view,J),this.decoratedTo=Y.to}buildDeco(Z,$){if(!$||!this.tree.length)return T.none;let J=new M9;for(let{from:X,to:Y}of Z.visibleRanges)oJ(this.tree,$,(K,Q,U)=>{J.add(K,Q,this.markCache[U]||(this.markCache[U]=T.mark({class:U})))},X,Y);return J.finish()}}var Sq=P9.high(c.fromClass(M2,{decorations:(Z)=>Z.decorations})),sZ=P7.define([{tag:R.meta,color:"#404740"},{tag:R.link,textDecoration:"underline"},{tag:R.heading,textDecoration:"underline",fontWeight:"bold"},{tag:R.emphasis,fontStyle:"italic"},{tag:R.strong,fontWeight:"bold"},{tag:R.strikethrough,textDecoration:"line-through"},{tag:R.keyword,color:"#708"},{tag:[R.atom,R.bool,R.url,R.contentSeparator,R.labelName],color:"#219"},{tag:[R.literal,R.inserted],color:"#164"},{tag:[R.string,R.deleted],color:"#a11"},{tag:[R.regexp,R.escape,R.special(R.string)],color:"#e40"},{tag:R.definition(R.variableName),color:"#00f"},{tag:R.local(R.variableName),color:"#30a"},{tag:[R.typeName,R.namespace],color:"#085"},{tag:R.className,color:"#167"},{tag:[R.special(R.variableName),R.macroName],color:"#256"},{tag:R.definition(R.propertyName),color:"#00c"},{tag:R.comment,color:"#940"},{tag:R.invalid,color:"#f00"}]),kq=L.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),L2=1e4,B2="()[]{}",E2=B.define({combine(Z){return j9(Z,{afterCursor:!0,brackets:B2,maxScanDistance:L2,renderMatch:wq})}}),bq=T.mark({class:"cm-matchingBracket"}),xq=T.mark({class:"cm-nonmatchingBracket"});function wq(Z){let $=[],J=Z.matched?bq:xq;if($.push(J.range(Z.start.from,Z.start.to)),Z.end)$.push(J.range(Z.end.from,Z.end.to));return $}var hq=t.define({create(){return T.none},update(Z,$){if(!$.docChanged&&!$.selection)return Z;let J=[],X=$.state.facet(E2);for(let Y of $.state.selection.ranges){if(!Y.empty)continue;let K=s9($.state,Y.head,-1,X)||Y.head>0&&s9($.state,Y.head-1,1,X)||X.afterCursor&&(s9($.state,Y.head,1,X)||Y.head<$.state.doc.length&&s9($.state,Y.head+1,-1,X));if(K)J=J.concat(X.renderMatch(K,$.state))}return T.set(J,!0)},provide:(Z)=>L.decorations.from(Z)}),vq=[hq,kq];function y8(Z={}){return[E2.of(Z),vq]}var P2=new b;function H8(Z,$,J){let X=Z.prop($<0?b.openedBy:b.closedBy);if(X)return X;if(Z.name.length==1){let Y=J.indexOf(Z.name);if(Y>-1&&Y%2==($<0?1:0))return[J[Y+$]]}return null}function N8(Z){let $=Z.type.prop(P2);return $?$(Z.node):Z}function s9(Z,$,J,X={}){let Y=X.maxScanDistance||L2,K=X.brackets||B2,Q=r(Z),U=Q.resolveInner($,J);for(let q=U;q;q=q.parent){let W=H8(q.type,J,K);if(W&&q.from<q.to){let G=N8(q);if(G&&(J>0?$>=G.from&&$<G.to:$>G.from&&$<=G.to))return mq(Z,$,J,q,G,W,K)}}return uq(Z,$,J,Q,U.type,Y,K)}function mq(Z,$,J,X,Y,K,Q){let U=X.parent,q={from:Y.from,to:Y.to},W=0,G=U===null||U===void 0?void 0:U.cursor();if(G&&(J<0?G.childBefore(X.from):G.childAfter(X.to)))do if(J<0?G.to<=X.from:G.from>=X.to){if(W==0&&K.indexOf(G.type.name)>-1&&G.from<G.to){let z=N8(G);return{start:q,end:z?{from:z.from,to:z.to}:void 0,matched:!0}}else if(H8(G.type,J,Q))W++;else if(H8(G.type,-J,Q)){if(W==0){let z=N8(G);return{start:q,end:z&&z.from<z.to?{from:z.from,to:z.to}:void 0,matched:!1}}W--}}while(J<0?G.prevSibling():G.nextSibling());return{start:q,matched:!1}}function uq(Z,$,J,X,Y,K,Q){let U=J<0?Z.sliceDoc($-1,$):Z.sliceDoc($,$+1),q=Q.indexOf(U);if(q<0||q%2==0!=J>0)return null;let W={from:J<0?$-1:$,to:J>0?$+1:$},G=Z.doc.iterRange($,J>0?Z.doc.length:0),z=0;for(let j=0;!G.next().done&&j<=K;){let _=G.value;if(J<0)j+=_.length;let O=$+j*J;for(let H=J>0?0:_.length-1,N=J>0?_.length:-1;H!=N;H+=J){let D=Q.indexOf(_[H]);if(D<0||X.resolveInner(O+H,1).type!=Y)continue;if(D%2==0==J>0)z++;else if(z==1)return{start:W,end:{from:O+H,to:O+H+1},matched:D>>1==q>>1};else z--}if(J>0)j+=_.length}return G.done?{start:W,matched:!1}:null}function X2(Z,$,J,X=0,Y=0){if($==null){if($=Z.search(/[^\s\u00a0]/),$==-1)$=Z.length}let K=Y;for(let Q=X;Q<$;Q++)if(Z.charCodeAt(Q)==9)K+=J-K%J;else K++;return K}class iZ{constructor(Z,$,J,X){this.string=Z,this.tabSize=$,this.indentUnit=J,this.overrideIndent=X,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(Z){let $=this.string.charAt(this.pos),J;if(typeof Z=="string")J=$==Z;else J=$&&(Z instanceof RegExp?Z.test($):Z($));if(J)return++this.pos,$}eatWhile(Z){let $=this.pos;while(this.eat(Z));return this.pos>$}eatSpace(){let Z=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>Z}skipToEnd(){this.pos=this.string.length}skipTo(Z){let $=this.string.indexOf(Z,this.pos);if($>-1)return this.pos=$,!0}backUp(Z){this.pos-=Z}column(){if(this.lastColumnPos<this.start)this.lastColumnValue=X2(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start;return this.lastColumnValue}indentation(){var Z;return(Z=this.overrideIndent)!==null&&Z!==void 0?Z:X2(this.string,null,this.tabSize)}match(Z,$,J){if(typeof Z=="string"){let X=(K)=>J?K.toLowerCase():K,Y=this.string.substr(this.pos,Z.length);if(X(Y)==X(Z)){if($!==!1)this.pos+=Z.length;return!0}else return null}else{let X=this.string.slice(this.pos).match(Z);if(X&&X.index>0)return null;if(X&&$!==!1)this.pos+=X[0].length;return X}}current(){return this.string.slice(this.start,this.pos)}}function gq(Z){return{name:Z.name||"",token:Z.token,blankLine:Z.blankLine||(()=>{}),startState:Z.startState||(()=>!0),copyState:Z.copyState||fq,indent:Z.indent||(()=>null),languageData:Z.languageData||{},tokenTable:Z.tokenTable||b8,mergeTokens:Z.mergeTokens!==!1}}function fq(Z){if(typeof Z!="object")return Z;let $={};for(let J in Z){let X=Z[J];$[J]=X instanceof Array?X.slice():X}return $}var Y2=new WeakMap;class S8 extends F9{constructor(Z){let $=M7(Z.languageData),J=gq(Z),X,Y=new class extends E5{createParse(K,Q,U){return new C2(X,K,Q,U)}};super($,Y,[],Z.name);this.topNode=cq($,this),X=this,this.streamParser=J,this.stateAfter=new b({perNode:!0}),this.tokenTable=Z.tokenTable?new x8(J.tokenTable):dq}static define(Z){return new S8(Z)}getIndent(Z){let $=void 0,{overrideIndentation:J}=Z.options;if(J){if($=Y2.get(Z.state),$!=null&&$<Z.pos-1e4)$=void 0}let X=k8(this,Z.node.tree,Z.node.from,Z.node.from,$!==null&&$!==void 0?$:Z.pos),Y,K;if(X)K=X.state,Y=X.pos+1;else K=this.streamParser.startState(Z.unit),Y=Z.node.from;if(Z.pos-Y>1e4)return null;while(Y<Z.pos){let U=Z.state.doc.lineAt(Y),q=Math.min(Z.pos,U.to);if(U.length){let W=J?J(U.from):-1,G=new iZ(U.text,Z.state.tabSize,Z.unit,W<0?void 0:W);while(G.pos<q-U.from)y2(this.streamParser.token,G,K)}else this.streamParser.blankLine(K,Z.unit);if(q==Z.pos)break;Y=U.to+1}let Q=Z.lineAt(Z.pos);if(J&&$==null)Y2.set(Z.state,Q.from);return this.streamParser.indent(K,/^\s*(.*)/.exec(Q.text)[1],Z)}get allowsNesting(){return!1}}function k8(Z,$,J,X,Y){let K=J>=X&&J+$.length<=Y&&$.prop(Z.stateAfter);if(K)return{state:Z.streamParser.copyState(K),pos:J+$.length};for(let Q=$.children.length-1;Q>=0;Q--){let U=$.children[Q],q=J+$.positions[Q],W=U instanceof s&&q<Y&&k8(Z,U,q,X,Y);if(W)return W}return null}function T2(Z,$,J,X,Y){if(Y&&J<=0&&X>=$.length)return $;if(!Y&&J==0&&$.type==Z.topNode)Y=!0;for(let K=$.children.length-1;K>=0;K--){let Q=$.positions[K],U=$.children[K],q;if(Q<X&&U instanceof s){if(!(q=T2(Z,U,J-Q,X-Q,Y)))break;return!Y?q:new s($.type,$.children.slice(0,K).concat(q),$.positions.slice(0,K+1),Q+q.length)}}return null}function pq(Z,$,J,X,Y){for(let K of $){let Q=K.from+(K.openStart?25:0),U=K.to-(K.openEnd?25:0),q=Q<=J&&U>J&&k8(Z,K.tree,0-K.offset,J,U),W;if(q&&q.pos<=X&&(W=T2(Z,K.tree,J+K.offset,q.pos+K.offset,!1)))return{state:q.state,tree:W}}return{state:Z.streamParser.startState(Y?A0(Y):4),tree:s.empty}}class C2{constructor(Z,$,J,X){this.lang=Z,this.input=$,this.fragments=J,this.ranges=X,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=X[X.length-1].to;let Y=n0.get(),K=X[0].from,{state:Q,tree:U}=pq(Z,J,K,this.to,Y===null||Y===void 0?void 0:Y.state);this.state=Q,this.parsedPos=this.chunkStart=K+U.length;for(let q=0;q<U.children.length;q++)this.chunks.push(U.children[q]),this.chunkPos.push(U.positions[q]);if(Y&&this.parsedPos<Y.viewport.from-1e5&&X.some((q)=>q.from<=Y.viewport.from&&q.to>=Y.viewport.from))this.state=this.lang.streamParser.startState(A0(Y.state)),Y.skipUntilInView(this.parsedPos,Y.viewport.from),this.parsedPos=Y.viewport.from;this.moveRangeIndex()}advance(){let Z=n0.get(),$=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),J=Math.min($,this.chunkStart+512);if(Z)J=Math.min(J,Z.viewport.to);while(this.parsedPos<J)this.parseLine(Z);if(this.chunkStart<this.parsedPos)this.finishChunk();if(this.parsedPos>=$)return this.finish();if(Z&&this.parsedPos>=Z.viewport.to)return Z.skipUntilInView(this.parsedPos,$),this.finish();return null}stopAt(Z){this.stoppedAt=Z}lineAfter(Z){let $=this.input.chunk(Z);if(!this.input.lineChunks){let J=$.indexOf(`
`);if(J>-1)$=$.slice(0,J)}else if($==`
`)$="";return Z+$.length<=this.to?$:$.slice(0,this.to-Z)}nextLine(){let Z=this.parsedPos,$=this.lineAfter(Z),J=Z+$.length;for(let X=this.rangeIndex;;){let Y=this.ranges[X].to;if(Y>=J)break;if($=$.slice(0,Y-(J-$.length)),X++,X==this.ranges.length)break;let K=this.ranges[X].from,Q=this.lineAfter(K);$+=Q,J=K+Q.length}return{line:$,end:J}}skipGapsTo(Z,$,J){for(;;){let X=this.ranges[this.rangeIndex].to,Y=Z+$;if(J>0?X>Y:X>=Y)break;let K=this.ranges[++this.rangeIndex].from;$+=K-X}return $}moveRangeIndex(){while(this.ranges[this.rangeIndex].to<this.parsedPos)this.rangeIndex++}emitToken(Z,$,J,X){let Y=4;if(this.ranges.length>1){X=this.skipGapsTo($,X,1),$+=X;let Q=this.chunk.length;X=this.skipGapsTo(J,X,-1),J+=X,Y+=this.chunk.length-Q}let K=this.chunk.length-4;if(this.lang.streamParser.mergeTokens&&Y==4&&K>=0&&this.chunk[K]==Z&&this.chunk[K+2]==$)this.chunk[K+2]=J;else this.chunk.push(Z,$,J,Y);return X}parseLine(Z){let{line:$,end:J}=this.nextLine(),X=0,{streamParser:Y}=this.lang,K=new iZ($,Z?Z.state.tabSize:4,Z?A0(Z.state):2);if(K.eol())Y.blankLine(this.state,K.indentUnit);else while(!K.eol()){let Q=y2(Y.token,K,this.state);if(Q)X=this.emitToken(this.lang.tokenTable.resolve(Q),this.parsedPos+K.start,this.parsedPos+K.pos,X);if(K.start>1e4)break}if(this.parsedPos=J,this.moveRangeIndex(),this.parsedPos<this.to)this.parsedPos++}finishChunk(){let Z=s.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:lq,topID:0,maxBufferLength:512,reused:this.chunkReused});Z=new s(Z.type,Z.children,Z.positions,Z.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(Z),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new s(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function y2(Z,$,J){$.start=$.pos;for(let X=0;X<10;X++){let Y=Z($,J);if($.pos>$.start)return Y}throw new Error("Stream parser failed to advance stream.")}var b8=Object.create(null),I7=[O9.none],lq=new B5(I7),K2=[],Q2=Object.create(null),S2=Object.create(null);for(let[Z,$]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])S2[Z]=k2(b8,$);class x8{constructor(Z){this.extra=Z,this.table=Object.assign(Object.create(null),S2)}resolve(Z){return!Z?0:this.table[Z]||(this.table[Z]=k2(this.extra,Z))}}var dq=new x8(b8);function _8(Z,$){if(K2.indexOf(Z)>-1)return;K2.push(Z),console.warn($)}function k2(Z,$){let J=[];for(let U of $.split(" ")){let q=[];for(let W of U.split(".")){let G=Z[W]||R[W];if(!G)_8(W,`Unknown highlighting tag ${W}`);else if(typeof G=="function")if(!q.length)_8(W,`Modifier ${W} used at start of tag`);else q=q.map(G);else if(q.length)_8(W,`Tag ${W} used as modifier`);else q=Array.isArray(G)?G:[G]}for(let W of q)J.push(W)}if(!J.length)return 0;let X=$.replace(/ /g,"_"),Y=X+" "+J.map((U)=>U.id),K=Q2[Y];if(K)return K.id;let Q=Q2[Y]=O9.define({id:I7.length,name:X,props:[mZ({[X]:J})]});return I7.push(Q),Q.id}function cq(Z,$){let J=O9.define({id:I7.length,name:"Document",props:[w0.add(()=>Z),B7.add(()=>(X)=>$.getIndent(X))],top:!0});return I7.push(J),J}function b2(Z){return Z.length<=4096&&/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/.test(Z)}function x2(Z){for(let $=Z.iter();!$.next().done;)if(b2($.value))return!0;return!1}function sq(Z){let $=!1;return Z.iterChanges((J,X,Y,K,Q)=>{if(!$&&x2(Q))$=!0}),$}var R8=B.define({combine:(Z)=>Z.some(($)=>$)});function iq(Z={}){let $=[nq];if(Z.alwaysIsolate)$.push(R8.of(!0));return $}var nq=c.fromClass(class{constructor(Z){this.always=Z.state.facet(R8)||Z.textDirection!=l.LTR||Z.state.facet(L.perLineTextDirection),this.hasRTL=!this.always&&x2(Z.state.doc),this.tree=r(Z.state),this.decorations=this.always||this.hasRTL?U2(Z,this.tree,this.always):T.none}update(Z){let $=Z.state.facet(R8)||Z.view.textDirection!=l.LTR||Z.state.facet(L.perLineTextDirection);if(!$&&!this.hasRTL&&sq(Z.changes))this.hasRTL=!0;if(!$&&!this.hasRTL)return;let J=r(Z.state);if($!=this.always||J!=this.tree||Z.docChanged||Z.viewportChanged)this.tree=J,this.always=$,this.decorations=U2(Z.view,J,$)}},{provide:(Z)=>{function $(J){var X,Y;return(Y=(X=J.plugin(Z))===null||X===void 0?void 0:X.decorations)!==null&&Y!==void 0?Y:T.none}return[L.outerDecorations.of($),P9.lowest(L.bidiIsolatedRanges.of($))]}});function U2(Z,$,J){let X=new M9,Y=Z.visibleRanges;if(!J)Y=aq(Y,Z.state.doc);for(let{from:K,to:Q}of Y)$.iterate({enter:(U)=>{let q=U.type.prop(b.isolate);if(q)X.add(U.from,U.to,rq[q])},from:K,to:Q});return X.finish()}function aq(Z,$){let J=$.iter(),X=0,Y=[],K=null;for(let{from:Q,to:U}of Z){if(K&&K.to>Q){if(Q=K.to,Q>=U)continue}if(X+J.value.length<Q)J.next(Q-(X+J.value.length)),X=Q;for(;;){let q=X,W=X+J.value.length;if(!J.lineBreak&&b2(J.value))if(K&&K.to>q-10)K.to=Math.min(U,W);else Y.push(K={from:q,to:Math.min(U,W)});if(W>=U)break;X=W,J.next()}}return Y}var rq={rtl:T.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"rtl"},bidiIsolate:l.RTL}),ltr:T.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"ltr"},bidiIsolate:l.LTR}),auto:T.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"auto"},bidiIsolate:null})};var W1={};Q5(W1,{undoSelection:()=>l2,undoDepth:()=>YW,undo:()=>n8,transposeChars:()=>uX,toggleTabFocusMode:()=>rX,toggleLineComment:()=>v2,toggleComment:()=>h2,toggleBlockCommentByLine:()=>u2,toggleBlockComment:()=>m2,temporarilySetTabFocusMode:()=>mW,standardKeymap:()=>tX,splitLine:()=>mX,simplifySelection:()=>kX,selectSyntaxRight:()=>RX,selectSyntaxLeft:()=>NX,selectSubwordForward:()=>yW,selectSubwordBackward:()=>SW,selectParentSyntax:()=>TX,selectPageUp:()=>u8,selectPageDown:()=>g8,selectMatchingBracket:()=>IW,selectLineUp:()=>J1,selectLineStart:()=>LX,selectLineEnd:()=>BX,selectLineDown:()=>X1,selectLineBoundaryRight:()=>MX,selectLineBoundaryLeft:()=>IX,selectLineBoundaryForward:()=>VX,selectLineBoundaryBackward:()=>AX,selectLine:()=>PX,selectGroupRight:()=>OX,selectGroupLeft:()=>_X,selectGroupForwardWin:()=>CW,selectGroupForward:()=>PW,selectGroupBackward:()=>TW,selectDocStart:()=>l8,selectDocEnd:()=>d8,selectCharRight:()=>$1,selectCharLeft:()=>Z1,selectCharForwardLogical:()=>BW,selectCharForward:()=>MW,selectCharBackwardLogical:()=>EW,selectCharBackward:()=>LW,selectAll:()=>EX,redoSelection:()=>d2,redoDepth:()=>KW,redo:()=>aZ,moveLineUp:()=>fX,moveLineDown:()=>pX,lineUncomment:()=>tq,lineComment:()=>oq,isolateHistory:()=>g2,invertedEffects:()=>f2,insertTab:()=>uW,insertNewlineKeepIndent:()=>hW,insertNewlineAndIndent:()=>c8,insertNewline:()=>wW,insertBlankLine:()=>iX,indentWithTab:()=>gW,indentSelection:()=>aX,indentMore:()=>G3,indentLess:()=>q1,historyKeymap:()=>X3,historyField:()=>XW,history:()=>$3,emacsStyleKeymap:()=>oX,deleteTrailingWhitespace:()=>xW,deleteToLineStart:()=>bW,deleteToLineEnd:()=>wX,deleteLineBoundaryForward:()=>vX,deleteLineBoundaryBackward:()=>hX,deleteLine:()=>sX,deleteGroupForward:()=>xX,deleteGroupBackward:()=>Q1,deleteCharForward:()=>K1,deleteCharBackwardStrict:()=>kW,deleteCharBackward:()=>tZ,defaultKeymap:()=>z3,cursorSyntaxRight:()=>$X,cursorSyntaxLeft:()=>ZX,cursorSubwordForward:()=>FW,cursorSubwordBackward:()=>VW,cursorPageUp:()=>m8,cursorPageDown:()=>oZ,cursorMatchingBracket:()=>jX,cursorLineUp:()=>t8,cursorLineStart:()=>WX,cursorLineEnd:()=>GX,cursorLineDown:()=>e8,cursorLineBoundaryRight:()=>qX,cursorLineBoundaryLeft:()=>UX,cursorLineBoundaryForward:()=>KX,cursorLineBoundaryBackward:()=>QX,cursorGroupRight:()=>r2,cursorGroupLeft:()=>a2,cursorGroupForwardWin:()=>DW,cursorGroupForward:()=>NW,cursorGroupBackward:()=>RW,cursorDocStart:()=>f8,cursorDocEnd:()=>p8,cursorCharRight:()=>r8,cursorCharLeft:()=>a8,cursorCharForwardLogical:()=>OW,cursorCharForward:()=>jW,cursorCharBackwardLogical:()=>HW,cursorCharBackward:()=>_W,copyLineUp:()=>dX,copyLineDown:()=>cX,blockUncomment:()=>ZW,blockComment:()=>eq,addCursorBelow:()=>SX,addCursorAbove:()=>yX});var h2=(Z)=>{let{state:$}=Z,J=$.doc.lineAt($.selection.main.from),X=s8(Z.state,J.from);return X.line?v2(Z):X.block?u2(Z):!1};function o0(Z,$){return({state:J,dispatch:X})=>{if(J.readOnly)return!1;let Y=Z($,J);if(!Y)return!1;return X(J.update(Y)),!0}}var v2=o0(i8,0),oq=o0(i8,1),tq=o0(i8,2),m2=o0(eZ,0),eq=o0(eZ,1),ZW=o0(eZ,2),u2=o0((Z,$)=>eZ(Z,$,JW($)),0);function s8(Z,$){let J=Z.languageDataAt("commentTokens",$,1);return J.length?J[0]:{}}var T7=50;function $W(Z,{open:$,close:J},X,Y){let K=Z.sliceDoc(X-T7,X),Q=Z.sliceDoc(Y,Y+T7),U=/\s*$/.exec(K)[0].length,q=/^\s*/.exec(Q)[0].length,W=K.length-U;if(K.slice(W-$.length,W)==$&&Q.slice(q,q+J.length)==J)return{open:{pos:X-U,margin:U&&1},close:{pos:Y+q,margin:q&&1}};let G,z;if(Y-X<=2*T7)G=z=Z.sliceDoc(X,Y);else G=Z.sliceDoc(X,X+T7),z=Z.sliceDoc(Y-T7,Y);let j=/^\s*/.exec(G)[0].length,_=/\s*$/.exec(z)[0].length,O=z.length-_-J.length;if(G.slice(j,j+$.length)==$&&z.slice(O,O+J.length)==J)return{open:{pos:X+j+$.length,margin:/\s/.test(G.charAt(j+$.length))?1:0},close:{pos:Y-_-J.length,margin:/\s/.test(z.charAt(O-1))?1:0}};return null}function JW(Z){let $=[];for(let J of Z.selection.ranges){let X=Z.doc.lineAt(J.from),Y=J.to<=X.to?X:Z.doc.lineAt(J.to);if(Y.from>X.from&&Y.from==J.to)Y=J.to==X.to+1?X:Z.doc.lineAt(J.to-1);let K=$.length-1;if(K>=0&&$[K].to>X.from)$[K].to=Y.to;else $.push({from:X.from+/^\s*/.exec(X.text)[0].length,to:Y.to})}return $}function eZ(Z,$,J=$.selection.ranges){let X=J.map((K)=>s8($,K.from).block);if(!X.every((K)=>K))return null;let Y=J.map((K,Q)=>$W($,X[Q],K.from,K.to));if(Z!=2&&!Y.every((K)=>K))return{changes:$.changes(J.map((K,Q)=>{if(Y[Q])return[];return[{from:K.from,insert:X[Q].open+" "},{from:K.to,insert:" "+X[Q].close}]}))};else if(Z!=1&&Y.some((K)=>K)){let K=[];for(let Q=0,U;Q<Y.length;Q++)if(U=Y[Q]){let q=X[Q],{open:W,close:G}=U;K.push({from:W.pos-q.open.length,to:W.pos+W.margin},{from:G.pos-G.margin,to:G.pos+q.close.length})}return{changes:K}}return null}function i8(Z,$,J=$.selection.ranges){let X=[],Y=-1;for(let{from:K,to:Q}of J){let U=X.length,q=1e9,W=s8($,K).line;if(!W)continue;for(let G=K;G<=Q;){let z=$.doc.lineAt(G);if(z.from>Y&&(K==Q||Q>z.from)){Y=z.from;let j=/^\s*/.exec(z.text)[0].length,_=j==z.length,O=z.text.slice(j,j+W.length)==W?j:-1;if(j<z.text.length&&j<q)q=j;X.push({line:z,comment:O,token:W,indent:j,empty:_,single:!1})}G=z.to+1}if(q<1e9){for(let G=U;G<X.length;G++)if(X[G].indent<X[G].line.text.length)X[G].indent=q}if(X.length==U+1)X[U].single=!0}if(Z!=2&&X.some((K)=>K.comment<0&&(!K.empty||K.single))){let K=[];for(let{line:U,token:q,indent:W,empty:G,single:z}of X)if(z||!G)K.push({from:U.from+W,insert:q+" "});let Q=$.changes(K);return{changes:Q,selection:$.selection.map(Q,1)}}else if(Z!=1&&X.some((K)=>K.comment>=0)){let K=[];for(let{line:Q,comment:U,token:q}of X)if(U>=0){let W=Q.from+U,G=W+q.length;if(Q.text[G-Q.from]==" ")G++;K.push({from:W,to:G})}return{changes:K}}return null}var v8=T9.define(),g2=T9.define(),f2=B.define(),p2=B.define({combine(Z){return j9(Z,{minDepth:100,newGroupDelay:500,joinToEvent:($,J)=>J},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:($,J)=>(X,Y)=>$(X,Y)||J(X,Y)})}}),Z3=t.define({create(){return j0.empty},update(Z,$){let J=$.state.facet(p2),X=$.annotation(v8);if(X){let q=S9.fromTransaction($,X.selection),W=X.side,G=W==0?Z.undone:Z.done;if(q)G=rZ(G,G.length,J.minDepth,q);else G=i2(G,$.startState.selection);return new j0(W==0?X.rest:G,W==0?G:X.rest)}let Y=$.annotation(g2);if(Y=="full"||Y=="before")Z=Z.isolate();if($.annotation(Z9.addToHistory)===!1)return!$.changes.empty?Z.addMapping($.changes.desc):Z;let K=S9.fromTransaction($),Q=$.annotation(Z9.time),U=$.annotation(Z9.userEvent);if(K)Z=Z.addChanges(K,Q,U,J,$);else if($.selection)Z=Z.addSelection($.startState.selection,Q,U,J.newGroupDelay);if(Y=="full"||Y=="after")Z=Z.isolate();return Z},toJSON(Z){return{done:Z.done.map(($)=>$.toJSON()),undone:Z.undone.map(($)=>$.toJSON())}},fromJSON(Z){return new j0(Z.done.map(S9.fromJSON),Z.undone.map(S9.fromJSON))}});function $3(Z={}){return[Z3,p2.of(Z),L.domEventHandlers({beforeinput($,J){let X=$.inputType=="historyUndo"?n8:$.inputType=="historyRedo"?aZ:null;if(!X)return!1;return $.preventDefault(),X(J)}})]}var XW=Z3;function J3(Z,$){return function({state:J,dispatch:X}){if(!$&&J.readOnly)return!1;let Y=J.field(Z3,!1);if(!Y)return!1;let K=Y.pop(Z,J,$);if(!K)return!1;return X(K),!0}}var n8=J3(0,!1),aZ=J3(1,!1),l2=J3(0,!0),d2=J3(1,!0);function c2(Z){return function($){let J=$.field(Z3,!1);if(!J)return 0;let X=Z==0?J.done:J.undone;return X.length-(X.length&&!X[0].changes?1:0)}}var YW=c2(0),KW=c2(1);class S9{constructor(Z,$,J,X,Y){this.changes=Z,this.effects=$,this.mapped=J,this.startSelection=X,this.selectionsAfter=Y}setSelAfter(Z){return new S9(this.changes,this.effects,this.mapped,this.startSelection,Z)}toJSON(){var Z,$,J;return{changes:(Z=this.changes)===null||Z===void 0?void 0:Z.toJSON(),mapped:($=this.mapped)===null||$===void 0?void 0:$.toJSON(),startSelection:(J=this.startSelection)===null||J===void 0?void 0:J.toJSON(),selectionsAfter:this.selectionsAfter.map((X)=>X.toJSON())}}static fromJSON(Z){return new S9(Z.changes&&J9.fromJSON(Z.changes),[],Z.mapped&&l9.fromJSON(Z.mapped),Z.startSelection&&F.fromJSON(Z.startSelection),Z.selectionsAfter.map(F.fromJSON))}static fromTransaction(Z,$){let J=i9;for(let X of Z.startState.facet(f2)){let Y=X(Z);if(Y.length)J=J.concat(Y)}if(!J.length&&Z.changes.empty)return null;return new S9(Z.changes.invert(Z.startState.doc),J,void 0,$||Z.startState.selection,i9)}static selection(Z){return new S9(void 0,i9,void 0,void 0,Z)}}function rZ(Z,$,J,X){let Y=$+1>J+20?$-J-1:0,K=Z.slice(Y,$);return K.push(X),K}function QW(Z,$){let J=[],X=!1;return Z.iterChangedRanges((Y,K)=>J.push(Y,K)),$.iterChangedRanges((Y,K,Q,U)=>{for(let q=0;q<J.length;){let W=J[q++],G=J[q++];if(U>=W&&Q<=G)X=!0}}),X}function UW(Z,$){return Z.ranges.length==$.ranges.length&&Z.ranges.filter((J,X)=>J.empty!=$.ranges[X].empty).length===0}function s2(Z,$){return!Z.length?$:!$.length?Z:Z.concat($)}var i9=[],qW=200;function i2(Z,$){if(!Z.length)return[S9.selection([$])];else{let J=Z[Z.length-1],X=J.selectionsAfter.slice(Math.max(0,J.selectionsAfter.length-qW));if(X.length&&X[X.length-1].eq($))return Z;return X.push($),rZ(Z,Z.length-1,1e9,J.setSelAfter(X))}}function WW(Z){let $=Z[Z.length-1],J=Z.slice();return J[Z.length-1]=$.setSelAfter($.selectionsAfter.slice(0,$.selectionsAfter.length-1)),J}function h8(Z,$){if(!Z.length)return Z;let J=Z.length,X=i9;while(J){let Y=GW(Z[J-1],$,X);if(Y.changes&&!Y.changes.empty||Y.effects.length){let K=Z.slice(0,J);return K[J-1]=Y,K}else $=Y.mapped,J--,X=Y.selectionsAfter}return X.length?[S9.selection(X)]:i9}function GW(Z,$,J){let X=s2(Z.selectionsAfter.length?Z.selectionsAfter.map((U)=>U.map($)):i9,J);if(!Z.changes)return S9.selection(X);let Y=Z.changes.map($),K=$.mapDesc(Z.changes,!0),Q=Z.mapped?Z.mapped.composeDesc(K):K;return new S9(Y,S.mapEffects(Z.effects,$),Q,Z.startSelection.map(K),X)}var zW=/^(input\.type|delete)($|\.)/;class j0{constructor(Z,$,J=0,X=void 0){this.done=Z,this.undone=$,this.prevTime=J,this.prevUserEvent=X}isolate(){return this.prevTime?new j0(this.done,this.undone):this}addChanges(Z,$,J,X,Y){let K=this.done,Q=K[K.length-1];if(Q&&Q.changes&&!Q.changes.empty&&Z.changes&&(!J||zW.test(J))&&(!Q.selectionsAfter.length&&$-this.prevTime<X.newGroupDelay&&X.joinToEvent(Y,QW(Q.changes,Z.changes))||J=="input.type.compose"))K=rZ(K,K.length-1,X.minDepth,new S9(Z.changes.compose(Q.changes),s2(S.mapEffects(Z.effects,Q.changes),Q.effects),Q.mapped,Q.startSelection,i9));else K=rZ(K,K.length,X.minDepth,Z);return new j0(K,i9,$,J)}addSelection(Z,$,J,X){let Y=this.done.length?this.done[this.done.length-1].selectionsAfter:i9;if(Y.length>0&&$-this.prevTime<X&&J==this.prevUserEvent&&J&&/^select($|\.)/.test(J)&&UW(Y[Y.length-1],Z))return this;return new j0(i2(this.done,Z),this.undone,$,J)}addMapping(Z){return new j0(h8(this.done,Z),h8(this.undone,Z),this.prevTime,this.prevUserEvent)}pop(Z,$,J){let X=Z==0?this.done:this.undone;if(X.length==0)return null;let Y=X[X.length-1],K=Y.selectionsAfter[0]||$.selection;if(J&&Y.selectionsAfter.length)return $.update({selection:Y.selectionsAfter[Y.selectionsAfter.length-1],annotations:v8.of({side:Z,rest:WW(X),selection:K}),userEvent:Z==0?"select.undo":"select.redo",scrollIntoView:!0});else if(!Y.changes)return null;else{let Q=X.length==1?i9:X.slice(0,X.length-1);if(Y.mapped)Q=h8(Q,Y.mapped);return $.update({changes:Y.changes,selection:Y.startSelection,effects:Y.effects,annotations:v8.of({side:Z,rest:Q,selection:K}),filter:!1,userEvent:Z==0?"undo":"redo",scrollIntoView:!0})}}}j0.empty=new j0(i9,i9);var X3=[{key:"Mod-z",run:n8,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:aZ,preventDefault:!0},{linux:"Ctrl-Shift-z",run:aZ,preventDefault:!0},{key:"Mod-u",run:l2,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:d2,preventDefault:!0}];function k5(Z,$){return F.create(Z.ranges.map($),Z.mainIndex)}function Z0(Z,$){return Z.update({selection:$,scrollIntoView:!0,userEvent:"select"})}function k9({state:Z,dispatch:$},J){let X=k5(Z.selection,J);if(X.eq(Z.selection,!0))return!1;return $(Z0(Z,X)),!0}function t0(Z,$){return F.cursor($?Z.to:Z.from)}function Y3(Z,$){return k9(Z,(J)=>J.empty?Z.moveByChar(J,$):t0(J,$))}function V9(Z){return Z.textDirectionAt(Z.state.selection.main.head)==l.LTR}var a8=(Z)=>Y3(Z,!V9(Z)),r8=(Z)=>Y3(Z,V9(Z)),jW=(Z)=>Y3(Z,!0),_W=(Z)=>Y3(Z,!1);function o8(Z,$,J){let X=$.head,Y=Z.doc.lineAt(X);if(X==(J?Y.to:Y.from))X=J?Math.min(Z.doc.length,Y.to+1):Math.max(0,Y.from-1);else X=Y.from+X9(Y.text,X-Y.from,J);return F.cursor(X,J?-1:1)}function n2(Z,$){return k9(Z,(J)=>J.empty?o8(Z.state,J,$):t0(J,$))}var OW=(Z)=>n2(Z,!0),HW=(Z)=>n2(Z,!1);function K3(Z,$){return k9(Z,(J)=>J.empty?Z.moveByGroup(J,$):t0(J,$))}var a2=(Z)=>K3(Z,!V9(Z)),r2=(Z)=>K3(Z,V9(Z)),NW=(Z)=>K3(Z,!0),RW=(Z)=>K3(Z,!1);function o2(Z,$,J){let X=Z.state.charCategorizer($),Y=X(J),K=Y!=u.Space;return(Q)=>{let U=X(Q);if(U!=u.Space)return K&&U==Y;return K=!1,!0}}var DW=(Z)=>{return k9(Z,($)=>$.empty?Z.moveByChar($,!0,(J)=>o2(Z,$.head,J)):t0($,!0))},w2=typeof Intl!="undefined"&&Intl.Segmenter?new Intl.Segmenter(void 0,{granularity:"word"}):null;function t2(Z,$,J){let X=Z.state.charCategorizer($.from),Y=u.Space,K=$.from,Q=0,U=!1,q=!1,W=!1,G=(j)=>{if(U)return!1;K+=J?j.length:-j.length;let _=X(j),O;if(_==u.Word&&j.charCodeAt(0)<128&&/[\W_]/.test(j))_=-1;if(Y==u.Space)Y=_;if(Y!=_)return!1;if(Y==u.Word)if(j.toLowerCase()==j){if(!J&&q)return!1;W=!0}else if(W){if(J)return!1;U=!0}else{if(q&&J&&X(O=Z.state.sliceDoc(K,K+1))==u.Word&&O.toLowerCase()==O)return!1;q=!0}return Q++,!0},z=Z.moveByChar($,J,(j)=>{return G(j),G});if(w2&&Y==u.Word&&z.from==$.from+Q*(J?1:-1)){let j=Math.min($.head,z.head),_=Math.max($.head,z.head),O=Z.state.sliceDoc(j,_);if(O.length>1&&/[\u4E00-\uffff]/.test(O)){let H=Array.from(w2.segment(O));if(H.length>1){if(J)return F.cursor($.head+H[1].index,-1);return F.cursor(z.head+H[H.length-1].index,1)}}}return z}function e2(Z,$){return k9(Z,(J)=>J.empty?t2(Z,J,$):t0(J,$))}var FW=(Z)=>e2(Z,!0),VW=(Z)=>e2(Z,!1);function AW(Z,$,J){if($.type.prop(J))return!0;let X=$.to-$.from;return X&&(X>2||/[^\s,.;:]/.test(Z.sliceDoc($.from,$.to)))||$.firstChild}function Q3(Z,$,J){let X=r(Z).resolveInner($.head),Y=J?b.closedBy:b.openedBy;for(let q=$.head;;){let W=J?X.childAfter(q):X.childBefore(q);if(!W)break;if(AW(Z,W,Y))X=W;else q=J?W.to:W.from}let K=X.type.prop(Y),Q,U;if(K&&(Q=J?s9(Z,X.from,1):s9(Z,X.to,-1))&&Q.matched)U=J?Q.end.to:Q.end.from;else U=J?X.to:X.from;return F.cursor(U,J?-1:1)}var ZX=(Z)=>k9(Z,($)=>Q3(Z.state,$,!V9(Z))),$X=(Z)=>k9(Z,($)=>Q3(Z.state,$,V9(Z)));function JX(Z,$){return k9(Z,(J)=>{if(!J.empty)return t0(J,$);let X=Z.moveVertically(J,$);return X.head!=J.head?X:Z.moveToLineBoundary(J,$)})}var t8=(Z)=>JX(Z,!1),e8=(Z)=>JX(Z,!0);function XX(Z){let $=Z.scrollDOM.clientHeight<Z.scrollDOM.scrollHeight-2,J=0,X=0,Y;if($){for(let K of Z.state.facet(L.scrollMargins)){let Q=K(Z);if(Q===null||Q===void 0?void 0:Q.top)J=Math.max(Q===null||Q===void 0?void 0:Q.top,J);if(Q===null||Q===void 0?void 0:Q.bottom)X=Math.max(Q===null||Q===void 0?void 0:Q.bottom,X)}Y=Z.scrollDOM.clientHeight-J-X}else Y=(Z.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:J,marginBottom:X,selfScroll:$,height:Math.max(Z.defaultLineHeight,Y-5)}}function YX(Z,$){let J=XX(Z),{state:X}=Z,Y=k5(X.selection,(Q)=>{return Q.empty?Z.moveVertically(Q,$,J.height):t0(Q,$)});if(Y.eq(X.selection))return!1;let K;if(J.selfScroll){let Q=Z.coordsAtPos(X.selection.main.head),U=Z.scrollDOM.getBoundingClientRect(),q=U.top+J.marginTop,W=U.bottom-J.marginBottom;if(Q&&Q.top>q&&Q.bottom<W)K=L.scrollIntoView(Y.main.head,{y:"start",yMargin:Q.top-q})}return Z.dispatch(Z0(X,Y),{effects:K}),!0}var m8=(Z)=>YX(Z,!1),oZ=(Z)=>YX(Z,!0);function m0(Z,$,J){let X=Z.lineBlockAt($.head),Y=Z.moveToLineBoundary($,J);if(Y.head==$.head&&Y.head!=(J?X.to:X.from))Y=Z.moveToLineBoundary($,J,!1);if(!J&&Y.head==X.from&&X.length){let K=/^\s*/.exec(Z.state.sliceDoc(X.from,Math.min(X.from+100,X.to)))[0].length;if(K&&$.head!=X.from+K)Y=F.cursor(X.from+K)}return Y}var KX=(Z)=>k9(Z,($)=>m0(Z,$,!0)),QX=(Z)=>k9(Z,($)=>m0(Z,$,!1)),UX=(Z)=>k9(Z,($)=>m0(Z,$,!V9(Z))),qX=(Z)=>k9(Z,($)=>m0(Z,$,V9(Z))),WX=(Z)=>k9(Z,($)=>F.cursor(Z.lineBlockAt($.head).from,1)),GX=(Z)=>k9(Z,($)=>F.cursor(Z.lineBlockAt($.head).to,-1));function zX(Z,$,J){let X=!1,Y=k5(Z.selection,(K)=>{let Q=s9(Z,K.head,-1)||s9(Z,K.head,1)||K.head>0&&s9(Z,K.head-1,1)||K.head<Z.doc.length&&s9(Z,K.head+1,-1);if(!Q||!Q.end)return K;X=!0;let U=Q.start.from==K.head?Q.end.to:Q.end.from;return J?F.range(K.anchor,U):F.cursor(U)});if(!X)return!1;return $(Z0(Z,Y)),!0}var jX=({state:Z,dispatch:$})=>zX(Z,$,!1),IW=({state:Z,dispatch:$})=>zX(Z,$,!0);function A9(Z,$){let J=k5(Z.state.selection,(X)=>{let Y=$(X);return F.range(X.anchor,Y.head,Y.goalColumn,Y.bidiLevel||void 0)});if(J.eq(Z.state.selection))return!1;return Z.dispatch(Z0(Z.state,J)),!0}function U3(Z,$){return A9(Z,(J)=>Z.moveByChar(J,$))}var Z1=(Z)=>U3(Z,!V9(Z)),$1=(Z)=>U3(Z,V9(Z)),MW=(Z)=>U3(Z,!0),LW=(Z)=>U3(Z,!1),BW=(Z)=>A9(Z,($)=>o8(Z.state,$,!0)),EW=(Z)=>A9(Z,($)=>o8(Z.state,$,!1));function q3(Z,$){return A9(Z,(J)=>Z.moveByGroup(J,$))}var _X=(Z)=>q3(Z,!V9(Z)),OX=(Z)=>q3(Z,V9(Z)),PW=(Z)=>q3(Z,!0),TW=(Z)=>q3(Z,!1),CW=(Z)=>{return A9(Z,($)=>Z.moveByChar($,!0,(J)=>o2(Z,$.head,J)))};function HX(Z,$){return A9(Z,(J)=>t2(Z,J,$))}var yW=(Z)=>HX(Z,!0),SW=(Z)=>HX(Z,!1),NX=(Z)=>A9(Z,($)=>Q3(Z.state,$,!V9(Z))),RX=(Z)=>A9(Z,($)=>Q3(Z.state,$,V9(Z)));function DX(Z,$){return A9(Z,(J)=>Z.moveVertically(J,$))}var J1=(Z)=>DX(Z,!1),X1=(Z)=>DX(Z,!0);function FX(Z,$){return A9(Z,(J)=>Z.moveVertically(J,$,XX(Z).height))}var u8=(Z)=>FX(Z,!1),g8=(Z)=>FX(Z,!0),VX=(Z)=>A9(Z,($)=>m0(Z,$,!0)),AX=(Z)=>A9(Z,($)=>m0(Z,$,!1)),IX=(Z)=>A9(Z,($)=>m0(Z,$,!V9(Z))),MX=(Z)=>A9(Z,($)=>m0(Z,$,V9(Z))),LX=(Z)=>A9(Z,($)=>F.cursor(Z.lineBlockAt($.head).from)),BX=(Z)=>A9(Z,($)=>F.cursor(Z.lineBlockAt($.head).to)),f8=({state:Z,dispatch:$})=>{return $(Z0(Z,{anchor:0})),!0},p8=({state:Z,dispatch:$})=>{return $(Z0(Z,{anchor:Z.doc.length})),!0},l8=({state:Z,dispatch:$})=>{return $(Z0(Z,{anchor:Z.selection.main.anchor,head:0})),!0},d8=({state:Z,dispatch:$})=>{return $(Z0(Z,{anchor:Z.selection.main.anchor,head:Z.doc.length})),!0},EX=({state:Z,dispatch:$})=>{return $(Z.update({selection:{anchor:0,head:Z.doc.length},userEvent:"select"})),!0},PX=({state:Z,dispatch:$})=>{let J=W3(Z).map(({from:X,to:Y})=>F.range(X,Math.min(Y+1,Z.doc.length)));return $(Z.update({selection:F.create(J),userEvent:"select"})),!0},TX=({state:Z,dispatch:$})=>{let J=k5(Z.selection,(X)=>{let Y=r(Z),K=Y.resolveStack(X.from,1);if(X.empty){let Q=Y.resolveStack(X.from,-1);if(Q.node.from>=K.node.from&&Q.node.to<=K.node.to)K=Q}for(let Q=K;Q;Q=Q.next){let{node:U}=Q;if((U.from<X.from&&U.to>=X.to||U.to>X.to&&U.from<=X.from)&&Q.next)return F.range(U.to,U.from)}return X});if(J.eq(Z.selection))return!1;return $(Z0(Z,J)),!0};function CX(Z,$){let{state:J}=Z,X=J.selection,Y=J.selection.ranges.slice();for(let K of J.selection.ranges){let Q=J.doc.lineAt(K.head);if($?Q.to<Z.state.doc.length:Q.from>0)for(let U=K;;){let q=Z.moveVertically(U,$);if(q.head<Q.from||q.head>Q.to){if(!Y.some((W)=>W.head==q.head))Y.push(q);break}else if(q.head==U.head)break;else U=q}}if(Y.length==X.ranges.length)return!1;return Z.dispatch(Z0(J,F.create(Y,Y.length-1))),!0}var yX=(Z)=>CX(Z,!1),SX=(Z)=>CX(Z,!0),kX=({state:Z,dispatch:$})=>{let J=Z.selection,X=null;if(J.ranges.length>1)X=F.create([J.main]);else if(!J.main.empty)X=F.create([F.cursor(J.main.head)]);if(!X)return!1;return $(Z0(Z,X)),!0};function b5(Z,$){if(Z.state.readOnly)return!1;let J="delete.selection",{state:X}=Z,Y=X.changeByRange((K)=>{let{from:Q,to:U}=K;if(Q==U){let q=$(K);if(q<Q)J="delete.backward",q=nZ(Z,q,!1);else if(q>Q)J="delete.forward",q=nZ(Z,q,!0);Q=Math.min(Q,q),U=Math.max(U,q)}else Q=nZ(Z,Q,!1),U=nZ(Z,U,!0);return Q==U?{range:K}:{changes:{from:Q,to:U},range:F.cursor(Q,Q<K.head?-1:1)}});if(Y.changes.empty)return!1;return Z.dispatch(X.update(Y,{scrollIntoView:!0,userEvent:J,effects:J=="delete.selection"?L.announce.of(X.phrase("Selection deleted")):void 0})),!0}function nZ(Z,$,J){if(Z instanceof L)for(let X of Z.state.facet(L.atomicRanges).map((Y)=>Y(Z)))X.between($,$,(Y,K)=>{if(Y<$&&K>$)$=J?K:Y});return $}var Y1=(Z,$,J)=>b5(Z,(X)=>{let Y=X.from,{state:K}=Z,Q=K.doc.lineAt(Y),U,q;if(J&&!$&&Y>Q.from&&Y<Q.from+200&&!/[^ \t]/.test(U=Q.text.slice(0,Y-Q.from))){if(U[U.length-1]=="\t")return Y-1;let W=Y0(U,K.tabSize),G=W%A0(K)||A0(K);for(let z=0;z<G&&U[U.length-1-z]==" ";z++)Y--;q=Y}else if(q=X9(Q.text,Y-Q.from,$,$)+Q.from,q==Y&&Q.number!=($?K.doc.lines:1))q+=$?1:-1;else if(!$&&/[\ufe00-\ufe0f]/.test(Q.text.slice(q-Q.from,Y-Q.from)))q=X9(Q.text,q-Q.from,!1,!1)+Q.from;return q}),tZ=(Z)=>Y1(Z,!1,!0),kW=(Z)=>Y1(Z,!1,!1),K1=(Z)=>Y1(Z,!0,!1),bX=(Z,$)=>b5(Z,(J)=>{let X=J.head,{state:Y}=Z,K=Y.doc.lineAt(X),Q=Y.charCategorizer(X);for(let U=null;;){if(X==($?K.to:K.from)){if(X==J.head&&K.number!=($?Y.doc.lines:1))X+=$?1:-1;break}let q=X9(K.text,X-K.from,$)+K.from,W=K.text.slice(Math.min(X,q)-K.from,Math.max(X,q)-K.from),G=Q(W);if(U!=null&&G!=U)break;if(W!=" "||X!=J.head)U=G;X=q}return X}),Q1=(Z)=>bX(Z,!1),xX=(Z)=>bX(Z,!0),wX=(Z)=>b5(Z,($)=>{let J=Z.lineBlockAt($.head).to;return $.head<J?J:Math.min(Z.state.doc.length,$.head+1)}),bW=(Z)=>b5(Z,($)=>{let J=Z.lineBlockAt($.head).from;return $.head>J?J:Math.max(0,$.head-1)}),hX=(Z)=>b5(Z,($)=>{let J=Z.moveToLineBoundary($,!1).head;return $.head>J?J:Math.max(0,$.head-1)}),vX=(Z)=>b5(Z,($)=>{let J=Z.moveToLineBoundary($,!0).head;return $.head<J?J:Math.min(Z.state.doc.length,$.head+1)}),xW=({state:Z,dispatch:$})=>{if(Z.readOnly)return!1;let J=[];for(let X=0,Y="",K=Z.doc.iter();;){if(K.next(),K.lineBreak||K.done){let Q=Y.search(/\s+$/);if(Q>-1)J.push({from:X-(Y.length-Q),to:X});if(K.done)break;Y=""}else Y=K.value;X+=K.value.length}if(!J.length)return!1;return $(Z.update({changes:J,userEvent:"delete"})),!0},mX=({state:Z,dispatch:$})=>{if(Z.readOnly)return!1;let J=Z.changeByRange((X)=>{return{changes:{from:X.from,to:X.to,insert:h.of(["",""])},range:F.cursor(X.from)}});return $(Z.update(J,{scrollIntoView:!0,userEvent:"input"})),!0},uX=({state:Z,dispatch:$})=>{if(Z.readOnly)return!1;let J=Z.changeByRange((X)=>{if(!X.empty||X.from==0||X.from==Z.doc.length)return{range:X};let Y=X.from,K=Z.doc.lineAt(Y),Q=Y==K.from?Y-1:X9(K.text,Y-K.from,!1)+K.from,U=Y==K.to?Y+1:X9(K.text,Y-K.from,!0)+K.from;return{changes:{from:Q,to:U,insert:Z.doc.slice(Y,U).append(Z.doc.slice(Q,Y))},range:F.cursor(U)}});if(J.changes.empty)return!1;return $(Z.update(J,{scrollIntoView:!0,userEvent:"move.character"})),!0};function W3(Z){let $=[],J=-1;for(let X of Z.selection.ranges){let Y=Z.doc.lineAt(X.from),K=Z.doc.lineAt(X.to);if(!X.empty&&X.to==K.from)K=Z.doc.lineAt(X.to-1);if(J>=Y.number){let Q=$[$.length-1];Q.to=K.to,Q.ranges.push(X)}else $.push({from:Y.from,to:K.to,ranges:[X]});J=K.number+1}return $}function gX(Z,$,J){if(Z.readOnly)return!1;let X=[],Y=[];for(let K of W3(Z)){if(J?K.to==Z.doc.length:K.from==0)continue;let Q=Z.doc.lineAt(J?K.to+1:K.from-1),U=Q.length+1;if(J){X.push({from:K.to,to:Q.to},{from:K.from,insert:Q.text+Z.lineBreak});for(let q of K.ranges)Y.push(F.range(Math.min(Z.doc.length,q.anchor+U),Math.min(Z.doc.length,q.head+U)))}else{X.push({from:Q.from,to:K.from},{from:K.to,insert:Z.lineBreak+Q.text});for(let q of K.ranges)Y.push(F.range(q.anchor-U,q.head-U))}}if(!X.length)return!1;return $(Z.update({changes:X,scrollIntoView:!0,selection:F.create(Y,Z.selection.mainIndex),userEvent:"move.line"})),!0}var fX=({state:Z,dispatch:$})=>gX(Z,$,!1),pX=({state:Z,dispatch:$})=>gX(Z,$,!0);function lX(Z,$,J){if(Z.readOnly)return!1;let X=[];for(let Y of W3(Z))if(J)X.push({from:Y.from,insert:Z.doc.slice(Y.from,Y.to)+Z.lineBreak});else X.push({from:Y.to,insert:Z.lineBreak+Z.doc.slice(Y.from,Y.to)});return $(Z.update({changes:X,scrollIntoView:!0,userEvent:"input.copyline"})),!0}var dX=({state:Z,dispatch:$})=>lX(Z,$,!1),cX=({state:Z,dispatch:$})=>lX(Z,$,!0),sX=(Z)=>{if(Z.state.readOnly)return!1;let{state:$}=Z,J=$.changes(W3($).map(({from:Y,to:K})=>{if(Y>0)Y--;else if(K<$.doc.length)K++;return{from:Y,to:K}})),X=k5($.selection,(Y)=>{let K=void 0;if(Z.lineWrapping){let Q=Z.lineBlockAt(Y.head),U=Z.coordsAtPos(Y.head,Y.assoc||1);if(U)K=Q.bottom+Z.documentTop-U.bottom+Z.defaultLineHeight/2}return Z.moveVertically(Y,!0,K)}).map(J);return Z.dispatch({changes:J,selection:X,scrollIntoView:!0,userEvent:"delete.line"}),!0},wW=({state:Z,dispatch:$})=>{return $(Z.update(Z.replaceSelection(Z.lineBreak),{scrollIntoView:!0,userEvent:"input"})),!0},hW=({state:Z,dispatch:$})=>{return $(Z.update(Z.changeByRange((J)=>{let X=/^\s*/.exec(Z.doc.lineAt(J.from).text)[0];return{changes:{from:J.from,to:J.to,insert:Z.lineBreak+X},range:F.cursor(J.from+X.length+1)}}),{scrollIntoView:!0,userEvent:"input"})),!0};function vW(Z,$){if(/\(\)|\[\]|\{\}/.test(Z.sliceDoc($-1,$+1)))return{from:$,to:$};let J=r(Z).resolveInner($),X=J.childBefore($),Y=J.childAfter($),K;if(X&&Y&&X.to<=$&&Y.from>=$&&(K=X.type.prop(b.closedBy))&&K.indexOf(Y.name)>-1&&Z.doc.lineAt(X.to).from==Z.doc.lineAt(Y.from).from&&!/\S/.test(Z.sliceDoc(X.to,Y.from)))return{from:X.to,to:Y.from};return null}var c8=nX(!1),iX=nX(!0);function nX(Z){return({state:$,dispatch:J})=>{if($.readOnly)return!1;let X=$.changeByRange((Y)=>{let{from:K,to:Q}=Y,U=$.doc.lineAt(K),q=!Z&&K==Q&&vW($,K);if(Z)K=Q=(Q<=U.to?U:$.doc.lineAt(Q)).to;let W=new v0($,{simulateBreak:K,simulateDoubleBreak:!!q}),G=y5(W,K);if(G==null)G=Y0(/^\s*/.exec($.doc.lineAt(K).text)[0],$.tabSize);while(Q<U.to&&/\s/.test(U.text[Q-U.from]))Q++;if(q)({from:K,to:Q}=q);else if(K>U.from&&K<U.from+100&&!/\S/.test(U.text.slice(0,K)))K=U.from;let z=["",h0($,G)];if(q)z.push(h0($,W.lineIndent(U.from,-1)));return{changes:{from:K,to:Q,insert:h.of(z)},range:F.cursor(K+1+z[1].length)}});return J($.update(X,{scrollIntoView:!0,userEvent:"input"})),!0}}function U1(Z,$){let J=-1;return Z.changeByRange((X)=>{let Y=[];for(let Q=X.from;Q<=X.to;){let U=Z.doc.lineAt(Q);if(U.number>J&&(X.empty||X.to>U.from))$(U,Y,X),J=U.number;Q=U.to+1}let K=Z.changes(Y);return{changes:Y,range:F.range(K.mapPos(X.anchor,1),K.mapPos(X.head,1))}})}var aX=({state:Z,dispatch:$})=>{if(Z.readOnly)return!1;let J=Object.create(null),X=new v0(Z,{overrideIndentation:(K)=>{let Q=J[K];return Q==null?-1:Q}}),Y=U1(Z,(K,Q,U)=>{let q=y5(X,K.from);if(q==null)return;if(!/\S/.test(K.text))q=0;let W=/^\s*/.exec(K.text)[0],G=h0(Z,q);if(W!=G||U.from<K.from+W.length)J[K.from]=q,Q.push({from:K.from,to:K.from+W.length,insert:G})});if(!Y.changes.empty)$(Z.update(Y,{userEvent:"indent"}));return!0},G3=({state:Z,dispatch:$})=>{if(Z.readOnly)return!1;return $(Z.update(U1(Z,(J,X)=>{X.push({from:J.from,insert:Z.facet(a0)})}),{userEvent:"input.indent"})),!0},q1=({state:Z,dispatch:$})=>{if(Z.readOnly)return!1;return $(Z.update(U1(Z,(J,X)=>{let Y=/^\s*/.exec(J.text)[0];if(!Y)return;let K=Y0(Y,Z.tabSize),Q=0,U=h0(Z,Math.max(0,K-A0(Z)));while(Q<Y.length&&Q<U.length&&Y.charCodeAt(Q)==U.charCodeAt(Q))Q++;X.push({from:J.from+Q,to:J.from+Y.length,insert:U.slice(Q)})}),{userEvent:"delete.dedent"})),!0},rX=(Z)=>{return Z.setTabFocusMode(),!0},mW=(Z)=>{return Z.setTabFocusMode(2000),!0},uW=({state:Z,dispatch:$})=>{if(Z.selection.ranges.some((J)=>!J.empty))return G3({state:Z,dispatch:$});return $(Z.update(Z.replaceSelection("\t"),{scrollIntoView:!0,userEvent:"input"})),!0},oX=[{key:"Ctrl-b",run:a8,shift:Z1,preventDefault:!0},{key:"Ctrl-f",run:r8,shift:$1},{key:"Ctrl-p",run:t8,shift:J1},{key:"Ctrl-n",run:e8,shift:X1},{key:"Ctrl-a",run:WX,shift:LX},{key:"Ctrl-e",run:GX,shift:BX},{key:"Ctrl-d",run:K1},{key:"Ctrl-h",run:tZ},{key:"Ctrl-k",run:wX},{key:"Ctrl-Alt-h",run:Q1},{key:"Ctrl-o",run:mX},{key:"Ctrl-t",run:uX},{key:"Ctrl-v",run:oZ}],tX=[{key:"ArrowLeft",run:a8,shift:Z1,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:a2,shift:_X,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:UX,shift:IX,preventDefault:!0},{key:"ArrowRight",run:r8,shift:$1,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:r2,shift:OX,preventDefault:!0},{mac:"Cmd-ArrowRight",run:qX,shift:MX,preventDefault:!0},{key:"ArrowUp",run:t8,shift:J1,preventDefault:!0},{mac:"Cmd-ArrowUp",run:f8,shift:l8},{mac:"Ctrl-ArrowUp",run:m8,shift:u8},{key:"ArrowDown",run:e8,shift:X1,preventDefault:!0},{mac:"Cmd-ArrowDown",run:p8,shift:d8},{mac:"Ctrl-ArrowDown",run:oZ,shift:g8},{key:"PageUp",run:m8,shift:u8},{key:"PageDown",run:oZ,shift:g8},{key:"Home",run:QX,shift:AX,preventDefault:!0},{key:"Mod-Home",run:f8,shift:l8},{key:"End",run:KX,shift:VX,preventDefault:!0},{key:"Mod-End",run:p8,shift:d8},{key:"Enter",run:c8,shift:c8},{key:"Mod-a",run:EX},{key:"Backspace",run:tZ,shift:tZ,preventDefault:!0},{key:"Delete",run:K1,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Q1,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:xX,preventDefault:!0},{mac:"Mod-Backspace",run:hX,preventDefault:!0},{mac:"Mod-Delete",run:vX,preventDefault:!0}].concat(oX.map((Z)=>({mac:Z.key,run:Z.run,shift:Z.shift}))),z3=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:ZX,shift:NX},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:$X,shift:RX},{key:"Alt-ArrowUp",run:fX},{key:"Shift-Alt-ArrowUp",run:dX},{key:"Alt-ArrowDown",run:pX},{key:"Shift-Alt-ArrowDown",run:cX},{key:"Mod-Alt-ArrowUp",run:yX},{key:"Mod-Alt-ArrowDown",run:SX},{key:"Escape",run:kX},{key:"Mod-Enter",run:iX},{key:"Alt-l",mac:"Ctrl-l",run:PX},{key:"Mod-i",run:TX,preventDefault:!0},{key:"Mod-[",run:q1},{key:"Mod-]",run:G3},{key:"Mod-Alt-\\",run:aX},{key:"Shift-Mod-k",run:sX},{key:"Shift-Mod-\\",run:jX},{key:"Mod-/",run:h2},{key:"Alt-A",run:m2},{key:"Ctrl-m",mac:"Shift-Alt-m",run:rX}].concat(tX),gW={key:"Tab",run:G3,shift:q1};var eX=typeof String.prototype.normalize=="function"?(Z)=>Z.normalize("NFKD"):(Z)=>Z;class e0{constructor(Z,$,J=0,X=Z.length,Y,K){this.test=K,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=Z.iterRange(J,X),this.bufferStart=J,this.normalize=Y?(Q)=>Y(eX(Q)):eX,this.query=this.normalize($)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return q9(this.buffer,this.bufferPos)}next(){while(this.matches.length)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let Z=this.peek();if(Z<0)return this.done=!0,this;let $=_5(Z),J=this.bufferStart+this.bufferPos;this.bufferPos+=E9(Z);let X=this.normalize($);if(X.length)for(let Y=0,K=J;;Y++){let Q=X.charCodeAt(Y),U=this.match(Q,K,this.bufferPos+this.bufferStart);if(Y==X.length-1){if(U)return this.value=U,this;break}if(K==J&&Y<$.length&&$.charCodeAt(Y)==Q)K++}}}match(Z,$,J){let X=null;for(let Y=0;Y<this.matches.length;Y+=2){let K=this.matches[Y],Q=!1;if(this.query.charCodeAt(K)==Z)if(K==this.query.length-1)X={from:this.matches[Y+1],to:J};else this.matches[Y]++,Q=!0;if(!Q)this.matches.splice(Y,2),Y-=2}if(this.query.charCodeAt(0)==Z)if(this.query.length==1)X={from:$,to:J};else this.matches.push(1,$);if(X&&this.test&&!this.test(X.from,X.to,this.buffer,this.bufferStart))X=null;return X}}if(typeof Symbol!="undefined")e0.prototype[Symbol.iterator]=function(){return this};var XY={from:-1,to:-1,match:/.*/.exec("")},_1="gm"+(/x/.unicode==null?"":"u");class O1{constructor(Z,$,J,X=0,Y=Z.length){if(this.text=Z,this.to=Y,this.curLine="",this.done=!1,this.value=XY,/\\[sWDnr]|\n|\r|\[\^/.test($))return new H1(Z,$,J,X,Y);this.re=new RegExp($,_1+((J===null||J===void 0?void 0:J.ignoreCase)?"i":"")),this.test=J===null||J===void 0?void 0:J.test,this.iter=Z.iter();let K=Z.lineAt(X);this.curLineStart=K.from,this.matchPos=H3(Z,X),this.getLine(this.curLineStart)}getLine(Z){if(this.iter.next(Z),this.iter.lineBreak)this.curLine="";else{if(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to)this.curLine=this.curLine.slice(0,this.to-this.curLineStart);this.iter.next()}}nextLine(){if(this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to)this.curLine="";else this.getLine(0)}next(){for(let Z=this.matchPos-this.curLineStart;;){this.re.lastIndex=Z;let $=this.matchPos<=this.to&&this.re.exec(this.curLine);if($){let J=this.curLineStart+$.index,X=J+$[0].length;if(this.matchPos=H3(this.text,X+(J==X?1:0)),J==this.curLineStart+this.curLine.length)this.nextLine();if((J<X||J>this.value.to)&&(!this.test||this.test(J,X,$)))return this.value={from:J,to:X,match:$},this;Z=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),Z=0;else return this.done=!0,this}}}var G1=new WeakMap;class h5{constructor(Z,$){this.from=Z,this.text=$}get to(){return this.from+this.text.length}static get(Z,$,J){let X=G1.get(Z);if(!X||X.from>=J||X.to<=$){let Q=new h5($,Z.sliceString($,J));return G1.set(Z,Q),Q}if(X.from==$&&X.to==J)return X;let{text:Y,from:K}=X;if(K>$)Y=Z.sliceString($,K)+Y,K=$;if(X.to<J)Y+=Z.sliceString(X.to,J);return G1.set(Z,new h5(K,Y)),new h5($,Y.slice($-K,J-K))}}class H1{constructor(Z,$,J,X,Y){this.text=Z,this.to=Y,this.done=!1,this.value=XY,this.matchPos=H3(Z,X),this.re=new RegExp($,_1+((J===null||J===void 0?void 0:J.ignoreCase)?"i":"")),this.test=J===null||J===void 0?void 0:J.test,this.flat=h5.get(Z,X,this.chunkEnd(X+5000))}chunkEnd(Z){return Z>=this.to?this.to:this.text.lineAt(Z).to}next(){for(;;){let Z=this.re.lastIndex=this.matchPos-this.flat.from,$=this.re.exec(this.flat.text);if($&&!$[0]&&$.index==Z)this.re.lastIndex=Z+1,$=this.re.exec(this.flat.text);if($){let J=this.flat.from+$.index,X=J+$[0].length;if((this.flat.to>=this.to||$.index+$[0].length<=this.flat.text.length-10)&&(!this.test||this.test(J,X,$)))return this.value={from:J,to:X,match:$},this.matchPos=H3(this.text,X+(J==X?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=h5.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}if(typeof Symbol!="undefined")O1.prototype[Symbol.iterator]=H1.prototype[Symbol.iterator]=function(){return this};function fW(Z){try{return new RegExp(Z,_1),!0}catch($){return!1}}function H3(Z,$){if($>=Z.length)return $;let J=Z.lineAt($),X;while($<J.to&&(X=J.text.charCodeAt($-J.from))>=56320&&X<57344)$++;return $}function z1(Z){let $=String(Z.state.doc.lineAt(Z.state.selection.main.head).number),J=g("input",{class:"cm-textfield",name:"line",value:$}),X=g("form",{class:"cm-gotoLine",onkeydown:(K)=>{if(K.keyCode==27)K.preventDefault(),Z.dispatch({effects:C7.of(!1)}),Z.focus();else if(K.keyCode==13)K.preventDefault(),Y()},onsubmit:(K)=>{K.preventDefault(),Y()}},g("label",Z.state.phrase("Go to line"),": ",J)," ",g("button",{class:"cm-button",type:"submit"},Z.state.phrase("go")),g("button",{name:"close",onclick:()=>{Z.dispatch({effects:C7.of(!1)}),Z.focus()},"aria-label":Z.state.phrase("close"),type:"button"},["√ó"]));function Y(){let K=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(J.value);if(!K)return;let{state:Q}=Z,U=Q.doc.lineAt(Q.selection.main.head),[,q,W,G,z]=K,j=G?+G.slice(1):0,_=W?+W:U.number;if(W&&z){let N=_/100;if(q)N=N*(q=="-"?-1:1)+U.number/Q.doc.lines;_=Math.round(Q.doc.lines*N)}else if(W&&q)_=_*(q=="-"?-1:1)+U.number;let O=Q.doc.line(Math.max(1,Math.min(Q.doc.lines,_))),H=F.cursor(O.from+Math.max(0,Math.min(j,O.length)));Z.dispatch({effects:[C7.of(!1),L.scrollIntoView(H.from,{y:"center"})],selection:H}),Z.focus()}return{dom:X}}var C7=S.define(),ZY=t.define({create(){return!0},update(Z,$){for(let J of $.effects)if(J.is(C7))Z=J.value;return Z},provide:(Z)=>D0.from(Z,($)=>$?z1:null)}),pW=(Z)=>{let $=F0(Z,z1);if(!$){let J=[C7.of(!0)];if(Z.state.field(ZY,!1)==null)J.push(S.appendConfig.of([ZY,lW]));Z.dispatch({effects:J}),$=F0(Z,z1)}if($)$.dom.querySelector("input").select();return!0},lW=L.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),dW={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},YY=B.define({combine(Z){return j9(Z,dW,{highlightWordAroundCursor:($,J)=>$||J,minSelectionLength:Math.min,maxMatches:Math.min})}});function KY(Z){let $=[aW,nW];if(Z)$.push(YY.of(Z));return $}var cW=T.mark({class:"cm-selectionMatch"}),sW=T.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function $Y(Z,$,J,X){return(J==0||Z($.sliceDoc(J-1,J))!=u.Word)&&(X==$.doc.length||Z($.sliceDoc(X,X+1))!=u.Word)}function iW(Z,$,J,X){return Z($.sliceDoc(J,J+1))==u.Word&&Z($.sliceDoc(X-1,X))==u.Word}var nW=c.fromClass(class{constructor(Z){this.decorations=this.getDeco(Z)}update(Z){if(Z.selectionSet||Z.docChanged||Z.viewportChanged)this.decorations=this.getDeco(Z.view)}getDeco(Z){let $=Z.state.facet(YY),{state:J}=Z,X=J.selection;if(X.ranges.length>1)return T.none;let Y=X.main,K,Q=null;if(Y.empty){if(!$.highlightWordAroundCursor)return T.none;let q=J.wordAt(Y.head);if(!q)return T.none;Q=J.charCategorizer(Y.head),K=J.sliceDoc(q.from,q.to)}else{let q=Y.to-Y.from;if(q<$.minSelectionLength||q>200)return T.none;if($.wholeWords){if(K=J.sliceDoc(Y.from,Y.to),Q=J.charCategorizer(Y.head),!($Y(Q,J,Y.from,Y.to)&&iW(Q,J,Y.from,Y.to)))return T.none}else if(K=J.sliceDoc(Y.from,Y.to),!K)return T.none}let U=[];for(let q of Z.visibleRanges){let W=new e0(J.doc,K,q.from,q.to);while(!W.next().done){let{from:G,to:z}=W.value;if(!Q||$Y(Q,J,G,z)){if(Y.empty&&G<=Y.from&&z>=Y.to)U.push(sW.range(G,z));else if(G>=Y.to||z<=Y.from)U.push(cW.range(G,z));if(U.length>$.maxMatches)return T.none}}}return T.set(U)}},{decorations:(Z)=>Z.decorations}),aW=L.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),rW=({state:Z,dispatch:$})=>{let{selection:J}=Z,X=F.create(J.ranges.map((Y)=>Z.wordAt(Y.head)||F.cursor(Y.head)),J.mainIndex);if(X.eq(J))return!1;return $(Z.update({selection:X})),!0};function oW(Z,$){let{main:J,ranges:X}=Z.selection,Y=Z.wordAt(J.head),K=Y&&Y.from==J.from&&Y.to==J.to;for(let Q=!1,U=new e0(Z.doc,$,X[X.length-1].to);;)if(U.next(),U.done){if(Q)return null;U=new e0(Z.doc,$,0,Math.max(0,X[X.length-1].from-1)),Q=!0}else{if(Q&&X.some((q)=>q.from==U.value.from))continue;if(K){let q=Z.wordAt(U.value.from);if(!q||q.from!=U.value.from||q.to!=U.value.to)continue}return U.value}}var tW=({state:Z,dispatch:$})=>{let{ranges:J}=Z.selection;if(J.some((K)=>K.from===K.to))return rW({state:Z,dispatch:$});let X=Z.sliceDoc(J[0].from,J[0].to);if(Z.selection.ranges.some((K)=>Z.sliceDoc(K.from,K.to)!=X))return!1;let Y=oW(Z,X);if(!Y)return!1;return $(Z.update({selection:Z.selection.addRange(F.range(Y.from,Y.to),!1),effects:L.scrollIntoView(Y.to)})),!0},v5=B.define({combine(Z){return j9(Z,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:($)=>new _Y($),scrollToMatch:($)=>L.scrollIntoView($)})}});class N1{constructor(Z){this.search=Z.search,this.caseSensitive=!!Z.caseSensitive,this.literal=!!Z.literal,this.regexp=!!Z.regexp,this.replace=Z.replace||"",this.valid=!!this.search&&(!this.regexp||fW(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!Z.wholeWord}unquote(Z){return this.literal?Z:Z.replace(/\\([nrt\\])/g,($,J)=>J=="n"?`
`:J=="r"?"\r":J=="t"?"\t":"\\")}eq(Z){return this.search==Z.search&&this.replace==Z.replace&&this.caseSensitive==Z.caseSensitive&&this.regexp==Z.regexp&&this.wholeWord==Z.wholeWord}create(){return this.regexp?new UY(this):new QY(this)}getCursor(Z,$=0,J){let X=Z.doc?Z:m.create({doc:Z});if(J==null)J=X.doc.length;return this.regexp?w5(this,X,$,J):x5(this,X,$,J)}}class R1{constructor(Z){this.spec=Z}}function x5(Z,$,J,X){return new e0($.doc,Z.unquoted,J,X,Z.caseSensitive?void 0:(Y)=>Y.toLowerCase(),Z.wholeWord?eW($.doc,$.charCategorizer($.selection.main.head)):void 0)}function eW(Z,$){return(J,X,Y,K)=>{if(K>J||K+Y.length<X)K=Math.max(0,J-2),Y=Z.sliceString(K,Math.min(Z.length,X+2));return($(N3(Y,J-K))!=u.Word||$(R3(Y,J-K))!=u.Word)&&($(R3(Y,X-K))!=u.Word||$(N3(Y,X-K))!=u.Word)}}class QY extends R1{constructor(Z){super(Z)}nextMatch(Z,$,J){let X=x5(this.spec,Z,J,Z.doc.length).nextOverlapping();if(X.done){let Y=Math.min(Z.doc.length,$+this.spec.unquoted.length);X=x5(this.spec,Z,0,Y).nextOverlapping()}return X.done||X.value.from==$&&X.value.to==J?null:X.value}prevMatchInRange(Z,$,J){for(let X=J;;){let Y=Math.max($,X-1e4-this.spec.unquoted.length),K=x5(this.spec,Z,Y,X),Q=null;while(!K.nextOverlapping().done)Q=K.value;if(Q)return Q;if(Y==$)return null;X-=1e4}}prevMatch(Z,$,J){let X=this.prevMatchInRange(Z,0,$);if(!X)X=this.prevMatchInRange(Z,Math.max(0,J-this.spec.unquoted.length),Z.doc.length);return X&&(X.from!=$||X.to!=J)?X:null}getReplacement(Z){return this.spec.unquote(this.spec.replace)}matchAll(Z,$){let J=x5(this.spec,Z,0,Z.doc.length),X=[];while(!J.next().done){if(X.length>=$)return null;X.push(J.value)}return X}highlight(Z,$,J,X){let Y=x5(this.spec,Z,Math.max(0,$-this.spec.unquoted.length),Math.min(J+this.spec.unquoted.length,Z.doc.length));while(!Y.next().done)X(Y.value.from,Y.value.to)}}function w5(Z,$,J,X){return new O1($.doc,Z.search,{ignoreCase:!Z.caseSensitive,test:Z.wholeWord?ZG($.charCategorizer($.selection.main.head)):void 0},J,X)}function N3(Z,$){return Z.slice(X9(Z,$,!1),$)}function R3(Z,$){return Z.slice($,X9(Z,$))}function ZG(Z){return($,J,X)=>!X[0].length||(Z(N3(X.input,X.index))!=u.Word||Z(R3(X.input,X.index))!=u.Word)&&(Z(R3(X.input,X.index+X[0].length))!=u.Word||Z(N3(X.input,X.index+X[0].length))!=u.Word)}class UY extends R1{nextMatch(Z,$,J){let X=w5(this.spec,Z,J,Z.doc.length).next();if(X.done)X=w5(this.spec,Z,0,$).next();return X.done?null:X.value}prevMatchInRange(Z,$,J){for(let X=1;;X++){let Y=Math.max($,J-X*1e4),K=w5(this.spec,Z,Y,J),Q=null;while(!K.next().done)Q=K.value;if(Q&&(Y==$||Q.from>Y+10))return Q;if(Y==$)return null}}prevMatch(Z,$,J){return this.prevMatchInRange(Z,0,$)||this.prevMatchInRange(Z,J,Z.doc.length)}getReplacement(Z){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,($,J)=>{if(J=="&")return Z.match[0];if(J=="$")return"$";for(let X=J.length;X>0;X--){let Y=+J.slice(0,X);if(Y>0&&Y<Z.match.length)return Z.match[Y]+J.slice(X)}return $})}matchAll(Z,$){let J=w5(this.spec,Z,0,Z.doc.length),X=[];while(!J.next().done){if(X.length>=$)return null;X.push(J.value)}return X}highlight(Z,$,J,X){let Y=w5(this.spec,Z,Math.max(0,$-250),Math.min(J+250,Z.doc.length));while(!Y.next().done)X(Y.value.from,Y.value.to)}}var y7=S.define(),D1=S.define(),u0=t.define({create(Z){return new O3(j1(Z).create(),null)},update(Z,$){for(let J of $.effects)if(J.is(y7))Z=new O3(J.value.create(),Z.panel);else if(J.is(D1))Z=new O3(Z.query,J.value?F1:null);return Z},provide:(Z)=>D0.from(Z,($)=>$.panel)});class O3{constructor(Z,$){this.query=Z,this.panel=$}}var $G=T.mark({class:"cm-searchMatch"}),JG=T.mark({class:"cm-searchMatch cm-searchMatch-selected"}),XG=c.fromClass(class{constructor(Z){this.view=Z,this.decorations=this.highlight(Z.state.field(u0))}update(Z){let $=Z.state.field(u0);if($!=Z.startState.field(u0)||Z.docChanged||Z.selectionSet||Z.viewportChanged)this.decorations=this.highlight($)}highlight({query:Z,panel:$}){if(!$||!Z.spec.valid)return T.none;let{view:J}=this,X=new M9;for(let Y=0,K=J.visibleRanges,Q=K.length;Y<Q;Y++){let{from:U,to:q}=K[Y];while(Y<Q-1&&q>K[Y+1].from-500)q=K[++Y].to;Z.highlight(J.state,U,q,(W,G)=>{let z=J.state.selection.ranges.some((j)=>j.from==W&&j.to==G);X.add(W,G,z?JG:$G)})}return X.finish()}},{decorations:(Z)=>Z.decorations});function S7(Z){return($)=>{let J=$.state.field(u0,!1);return J&&J.query.spec.valid?Z($,J):GY($)}}var D3=S7((Z,{query:$})=>{let{to:J}=Z.state.selection.main,X=$.nextMatch(Z.state,J,J);if(!X)return!1;let Y=F.single(X.from,X.to),K=Z.state.facet(v5);return Z.dispatch({selection:Y,effects:[V1(Z,X),K.scrollToMatch(Y.main,Z)],userEvent:"select.search"}),WY(Z),!0}),F3=S7((Z,{query:$})=>{let{state:J}=Z,{from:X}=J.selection.main,Y=$.prevMatch(J,X,X);if(!Y)return!1;let K=F.single(Y.from,Y.to),Q=Z.state.facet(v5);return Z.dispatch({selection:K,effects:[V1(Z,Y),Q.scrollToMatch(K.main,Z)],userEvent:"select.search"}),WY(Z),!0}),YG=S7((Z,{query:$})=>{let J=$.matchAll(Z.state,1000);if(!J||!J.length)return!1;return Z.dispatch({selection:F.create(J.map((X)=>F.range(X.from,X.to))),userEvent:"select.search.matches"}),!0}),KG=({state:Z,dispatch:$})=>{let J=Z.selection;if(J.ranges.length>1||J.main.empty)return!1;let{from:X,to:Y}=J.main,K=[],Q=0;for(let U=new e0(Z.doc,Z.sliceDoc(X,Y));!U.next().done;){if(K.length>1000)return!1;if(U.value.from==X)Q=K.length;K.push(F.range(U.value.from,U.value.to))}return $(Z.update({selection:F.create(K,Q),userEvent:"select.search.matches"})),!0},JY=S7((Z,{query:$})=>{let{state:J}=Z,{from:X,to:Y}=J.selection.main;if(J.readOnly)return!1;let K=$.nextMatch(J,X,X);if(!K)return!1;let Q=K,U=[],q,W,G=[];if(Q.from==X&&Q.to==Y)W=J.toText($.getReplacement(Q)),U.push({from:Q.from,to:Q.to,insert:W}),Q=$.nextMatch(J,Q.from,Q.to),G.push(L.announce.of(J.phrase("replaced match on line $",J.doc.lineAt(X).number)+"."));let z=Z.state.changes(U);if(Q)q=F.single(Q.from,Q.to).map(z),G.push(V1(Z,Q)),G.push(J.facet(v5).scrollToMatch(q.main,Z));return Z.dispatch({changes:z,selection:q,effects:G,userEvent:"input.replace"}),!0}),QG=S7((Z,{query:$})=>{if(Z.state.readOnly)return!1;let J=$.matchAll(Z.state,1e9).map((Y)=>{let{from:K,to:Q}=Y;return{from:K,to:Q,insert:$.getReplacement(Y)}});if(!J.length)return!1;let X=Z.state.phrase("replaced $ matches",J.length)+".";return Z.dispatch({changes:J,effects:L.announce.of(X),userEvent:"input.replace.all"}),!0});function F1(Z){return Z.state.facet(v5).createPanel(Z)}function j1(Z,$){var J,X,Y,K,Q;let U=Z.selection.main,q=U.empty||U.to>U.from+100?"":Z.sliceDoc(U.from,U.to);if($&&!q)return $;let W=Z.facet(v5);return new N1({search:((J=$===null||$===void 0?void 0:$.literal)!==null&&J!==void 0?J:W.literal)?q:q.replace(/\n/g,"\\n"),caseSensitive:(X=$===null||$===void 0?void 0:$.caseSensitive)!==null&&X!==void 0?X:W.caseSensitive,literal:(Y=$===null||$===void 0?void 0:$.literal)!==null&&Y!==void 0?Y:W.literal,regexp:(K=$===null||$===void 0?void 0:$.regexp)!==null&&K!==void 0?K:W.regexp,wholeWord:(Q=$===null||$===void 0?void 0:$.wholeWord)!==null&&Q!==void 0?Q:W.wholeWord})}function qY(Z){let $=F0(Z,F1);return $&&$.dom.querySelector("[main-field]")}function WY(Z){let $=qY(Z);if($&&$==Z.root.activeElement)$.select()}var GY=(Z)=>{let $=Z.state.field(u0,!1);if($&&$.panel){let J=qY(Z);if(J&&J!=Z.root.activeElement){let X=j1(Z.state,$.query.spec);if(X.valid)Z.dispatch({effects:y7.of(X)});J.focus(),J.select()}}else Z.dispatch({effects:[D1.of(!0),$?y7.of(j1(Z.state,$.query.spec)):S.appendConfig.of(qG)]});return!0},zY=(Z)=>{let $=Z.state.field(u0,!1);if(!$||!$.panel)return!1;let J=F0(Z,F1);if(J&&J.dom.contains(Z.root.activeElement))Z.focus();return Z.dispatch({effects:D1.of(!1)}),!0},jY=[{key:"Mod-f",run:GY,scope:"editor search-panel"},{key:"F3",run:D3,shift:F3,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:D3,shift:F3,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:zY,scope:"editor search-panel"},{key:"Mod-Shift-l",run:KG},{key:"Mod-Alt-g",run:pW},{key:"Mod-d",run:tW,preventDefault:!0}];class _Y{constructor(Z){this.view=Z;let $=this.query=Z.state.field(u0).query.spec;this.commit=this.commit.bind(this),this.searchField=g("input",{value:$.search,placeholder:m9(Z,"Find"),"aria-label":m9(Z,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=g("input",{value:$.replace,placeholder:m9(Z,"Replace"),"aria-label":m9(Z,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=g("input",{type:"checkbox",name:"case",form:"",checked:$.caseSensitive,onchange:this.commit}),this.reField=g("input",{type:"checkbox",name:"re",form:"",checked:$.regexp,onchange:this.commit}),this.wordField=g("input",{type:"checkbox",name:"word",form:"",checked:$.wholeWord,onchange:this.commit});function J(X,Y,K){return g("button",{class:"cm-button",name:X,onclick:Y,type:"button"},K)}this.dom=g("div",{onkeydown:(X)=>this.keydown(X),class:"cm-search"},[this.searchField,J("next",()=>D3(Z),[m9(Z,"next")]),J("prev",()=>F3(Z),[m9(Z,"previous")]),J("select",()=>YG(Z),[m9(Z,"all")]),g("label",null,[this.caseField,m9(Z,"match case")]),g("label",null,[this.reField,m9(Z,"regexp")]),g("label",null,[this.wordField,m9(Z,"by word")]),...Z.state.readOnly?[]:[g("br"),this.replaceField,J("replace",()=>JY(Z),[m9(Z,"replace")]),J("replaceAll",()=>QG(Z),[m9(Z,"replace all")])],g("button",{name:"close",onclick:()=>zY(Z),"aria-label":m9(Z,"close"),type:"button"},["√ó"])])}commit(){let Z=new N1({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});if(!Z.eq(this.query))this.query=Z,this.view.dispatch({effects:y7.of(Z)})}keydown(Z){if(l4(this.view,Z,"search-panel"))Z.preventDefault();else if(Z.keyCode==13&&Z.target==this.searchField)Z.preventDefault(),(Z.shiftKey?F3:D3)(this.view);else if(Z.keyCode==13&&Z.target==this.replaceField)Z.preventDefault(),JY(this.view)}update(Z){for(let $ of Z.transactions)for(let J of $.effects)if(J.is(y7)&&!J.value.eq(this.query))this.setQuery(J.value)}setQuery(Z){this.query=Z,this.searchField.value=Z.search,this.replaceField.value=Z.replace,this.caseField.checked=Z.caseSensitive,this.reField.checked=Z.regexp,this.wordField.checked=Z.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(v5).top}}function m9(Z,$){return Z.state.phrase($)}var j3=30,_3=/[\s\.,:;?!]/;function V1(Z,{from:$,to:J}){let X=Z.state.doc.lineAt($),Y=Z.state.doc.lineAt(J).to,K=Math.max(X.from,$-j3),Q=Math.min(Y,J+j3),U=Z.state.sliceDoc(K,Q);if(K!=X.from){for(let q=0;q<j3;q++)if(!_3.test(U[q+1])&&_3.test(U[q])){U=U.slice(q);break}}if(Q!=Y){for(let q=U.length-1;q>U.length-j3;q--)if(!_3.test(U[q-1])&&_3.test(U[q])){U=U.slice(0,q);break}}return L.announce.of(`${Z.state.phrase("current match")}. ${U} ${Z.state.phrase("on line")} ${X.number}.`)}var UG=L.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),qG=[u0,P9.low(XG),UG];class B1{constructor(Z,$,J,X){this.state=Z,this.pos=$,this.explicit=J,this.view=X,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(Z){let $=r(this.state).resolveInner(this.pos,-1);while($&&Z.indexOf($.name)<0)$=$.parent;return $?{from:$.from,to:this.pos,text:this.state.sliceDoc($.from,this.pos),type:$.type}:null}matchBefore(Z){let $=this.state.doc.lineAt(this.pos),J=Math.max($.from,this.pos-250),X=$.text.slice(J-$.from,this.pos-$.from),Y=X.search(MY(Z,!1));return Y<0?null:{from:J+Y,to:this.pos,text:X.slice(Y)}}get aborted(){return this.abortListeners==null}addEventListener(Z,$,J){if(Z=="abort"&&this.abortListeners){if(this.abortListeners.push($),J&&J.onDocChange)this.abortOnDocChange=!0}}}function OY(Z){let $=Object.keys(Z).join(""),J=/\w/.test($);if(J)$=$.replace(/\w/g,"");return`[${J?"\\w":""}${$.replace(/[^\w\s]/g,"\\$&")}]`}function WG(Z){let $=Object.create(null),J=Object.create(null);for(let{label:Y}of Z){$[Y[0]]=!0;for(let K=1;K<Y.length;K++)J[Y[K]]=!0}let X=OY($)+OY(J)+"*$";return[new RegExp("^"+X),new RegExp(X)]}function E1(Z){let $=Z.map((Y)=>typeof Y=="string"?{label:Y}:Y),[J,X]=$.every((Y)=>/^\w+$/.test(Y.label))?[/\w*$/,/\w+$/]:WG($);return(Y)=>{let K=Y.matchBefore(X);return K||Y.explicit?{from:K?K.from:Y.pos,options:$,validFor:J}:null}}function IY(Z,$){return(J)=>{for(let X=r(J.state).resolveInner(J.pos,-1);X;X=X.parent){if(Z.indexOf(X.name)>-1)return null;if(X.type.isTop)break}return $(J)}}class L1{constructor(Z,$,J,X){this.completion=Z,this.source=$,this.match=J,this.score=X}}function $5(Z){return Z.selection.main.from}function MY(Z,$){var J;let{source:X}=Z,Y=$&&X[0]!="^",K=X[X.length-1]!="$";if(!Y&&!K)return Z;return new RegExp(`${Y?"^":""}(?:${X})${K?"$":""}`,(J=Z.flags)!==null&&J!==void 0?J:Z.ignoreCase?"i":"")}var P1=T9.define();function GG(Z,$,J,X){let{main:Y}=Z.selection,K=J-Y.from,Q=X-Y.from;return{...Z.changeByRange((U)=>{if(U!=Y&&J!=X&&Z.sliceDoc(U.from+K,U.from+Q)!=Z.sliceDoc(J,X))return{range:U};let q=Z.toText($);return{changes:{from:U.from+K,to:X==Y.from?U.to:U.from+Q,insert:q},range:F.cursor(U.from+K+q.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}var HY=new WeakMap;function zG(Z){if(!Array.isArray(Z))return Z;let $=HY.get(Z);if(!$)HY.set(Z,$=E1(Z));return $}var A3=S.define(),k7=S.define();class LY{constructor(Z){this.pattern=Z,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let $=0;$<Z.length;){let J=q9(Z,$),X=E9(J);this.chars.push(J);let Y=Z.slice($,$+X),K=Y.toUpperCase();this.folded.push(q9(K==Y?Y.toLowerCase():K,0)),$+=X}this.astral=Z.length!=this.chars.length}ret(Z,$){return this.score=Z,this.matched=$,this}match(Z){if(this.pattern.length==0)return this.ret(-100,[]);if(Z.length<this.pattern.length)return null;let{chars:$,folded:J,any:X,precise:Y,byWord:K}=this;if($.length==1){let D=q9(Z,0),A=E9(D),V=A==Z.length?0:-100;if(D==$[0]);else if(D==J[0])V+=-200;else return null;return this.ret(V,[0,A])}let Q=Z.indexOf(this.pattern);if(Q==0)return this.ret(Z.length==this.pattern.length?0:-100,[0,this.pattern.length]);let U=$.length,q=0;if(Q<0){for(let D=0,A=Math.min(Z.length,200);D<A&&q<U;){let V=q9(Z,D);if(V==$[q]||V==J[q])X[q++]=D;D+=E9(V)}if(q<U)return null}let W=0,G=0,z=!1,j=0,_=-1,O=-1,H=/[a-z]/.test(Z),N=!0;for(let D=0,A=Math.min(Z.length,200),V=0;D<A&&G<U;){let I=q9(Z,D);if(Q<0){if(W<U&&I==$[W])Y[W++]=D;if(j<U)if(I==$[j]||I==J[j]){if(j==0)_=D;O=D+1,j++}else j=0}let M,y=I<255?I>=48&&I<=57||I>=97&&I<=122?2:I>=65&&I<=90?1:0:(M=_5(I))!=M.toLowerCase()?1:M!=M.toUpperCase()?2:0;if(!D||y==1&&H||V==0&&y!=0){if($[G]==I||J[G]==I&&(z=!0))K[G++]=D;else if(K.length)N=!1}V=y,D+=E9(I)}if(G==U&&K[0]==0&&N)return this.result(-100+(z?-200:0),K,Z);if(j==U&&_==0)return this.ret(-200-Z.length+(O==Z.length?0:-100),[0,O]);if(Q>-1)return this.ret(-700-Z.length,[Q,Q+this.pattern.length]);if(j==U)return this.ret(-900-Z.length,[_,O]);if(G==U)return this.result(-100+(z?-200:0)+-700+(N?0:-1100),K,Z);return $.length==2?null:this.result((X[0]?-700:0)+-200+-1100,X,Z)}result(Z,$,J){let X=[],Y=0;for(let K of $){let Q=K+(this.astral?E9(q9(J,K)):1);if(Y&&X[Y-1]==K)X[Y-1]=Q;else X[Y++]=K,X[Y++]=Q}return this.ret(Z-J.length,X)}}class BY{constructor(Z){this.pattern=Z,this.matched=[],this.score=0,this.folded=Z.toLowerCase()}match(Z){if(Z.length<this.pattern.length)return null;let $=Z.slice(0,this.pattern.length),J=$==this.pattern?0:$.toLowerCase()==this.folded?-200:null;if(J==null)return null;return this.matched=[0,$.length],this.score=J+(Z.length==this.pattern.length?0:-100),this}}var G9=B.define({combine(Z){return j9(Z,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:jG,filterStrict:!1,compareCompletions:($,J)=>$.label.localeCompare(J.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:($,J)=>$&&J,closeOnBlur:($,J)=>$&&J,icons:($,J)=>$&&J,tooltipClass:($,J)=>(X)=>NY($(X),J(X)),optionClass:($,J)=>(X)=>NY($(X),J(X)),addToOptions:($,J)=>$.concat(J),filterStrict:($,J)=>$||J})}});function NY(Z,$){return Z?$?Z+" "+$:Z:$}function jG(Z,$,J,X,Y,K){let Q=Z.textDirection==l.RTL,U=Q,q=!1,W="top",G,z,j=$.left-Y.left,_=Y.right-$.right,O=X.right-X.left,H=X.bottom-X.top;if(U&&j<Math.min(O,_))U=!1;else if(!U&&_<Math.min(O,j))U=!0;if(O<=(U?j:_))G=Math.max(Y.top,Math.min(J.top,Y.bottom-H))-$.top,z=Math.min(400,U?j:_);else{q=!0,z=Math.min(400,(Q?$.right:Y.right-$.left)-30);let A=Y.bottom-$.bottom;if(A>=H||A>$.top)G=J.bottom-$.top;else W="bottom",G=$.bottom-J.top}let N=($.bottom-$.top)/K.offsetHeight,D=($.right-$.left)/K.offsetWidth;return{style:`${W}: ${G/N}px; max-width: ${z/D}px`,class:"cm-completionInfo-"+(q?Q?"left-narrow":"right-narrow":U?"left":"right")}}function _G(Z){let $=Z.addToOptions.slice();if(Z.icons)$.push({render(J){let X=document.createElement("div");if(X.classList.add("cm-completionIcon"),J.type)X.classList.add(...J.type.split(/\s+/g).map((Y)=>"cm-completionIcon-"+Y));return X.setAttribute("aria-hidden","true"),X},position:20});return $.push({render(J,X,Y,K){let Q=document.createElement("span");Q.className="cm-completionLabel";let U=J.displayLabel||J.label,q=0;for(let W=0;W<K.length;){let G=K[W++],z=K[W++];if(G>q)Q.appendChild(document.createTextNode(U.slice(q,G)));let j=Q.appendChild(document.createElement("span"));j.appendChild(document.createTextNode(U.slice(G,z))),j.className="cm-completionMatchedText",q=z}if(q<U.length)Q.appendChild(document.createTextNode(U.slice(q)));return Q},position:50},{render(J){if(!J.detail)return null;let X=document.createElement("span");return X.className="cm-completionDetail",X.textContent=J.detail,X},position:80}),$.sort((J,X)=>J.position-X.position).map((J)=>J.render)}function A1(Z,$,J){if(Z<=J)return{from:0,to:Z};if($<0)$=0;if($<=Z>>1){let Y=Math.floor($/J);return{from:Y*J,to:(Y+1)*J}}let X=Math.floor((Z-$)/J);return{from:Z-(X+1)*J,to:Z-X*J}}class EY{constructor(Z,$,J){this.view=Z,this.stateField=$,this.applyCompletion=J,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:(U)=>this.placeInfo(U),key:this},this.space=null,this.currentClass="";let X=Z.state.field($),{options:Y,selected:K}=X.open,Q=Z.state.facet(G9);this.optionContent=_G(Q),this.optionClass=Q.optionClass,this.tooltipClass=Q.tooltipClass,this.range=A1(Y.length,K,Q.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(Z.state),this.dom.addEventListener("mousedown",(U)=>{let{options:q}=Z.state.field($).open;for(let W=U.target,G;W&&W!=this.dom;W=W.parentNode)if(W.nodeName=="LI"&&(G=/-(\d+)$/.exec(W.id))&&+G[1]<q.length){this.applyCompletion(Z,q[+G[1]]),U.preventDefault();return}}),this.dom.addEventListener("focusout",(U)=>{let q=Z.state.field(this.stateField,!1);if(q&&q.tooltip&&Z.state.facet(G9).closeOnBlur&&U.relatedTarget!=Z.contentDOM)Z.dispatch({effects:k7.of(null)})}),this.showOptions(Y,X.id)}mount(){this.updateSel()}showOptions(Z,$){if(this.list)this.list.remove();this.list=this.dom.appendChild(this.createListBox(Z,$,this.range)),this.list.addEventListener("scroll",()=>{if(this.info)this.view.requestMeasure(this.placeInfoReq)})}update(Z){var $;let J=Z.state.field(this.stateField),X=Z.startState.field(this.stateField);if(this.updateTooltipClass(Z.state),J!=X){let{options:Y,selected:K,disabled:Q}=J.open;if(!X.open||X.open.options!=Y)this.range=A1(Y.length,K,Z.state.facet(G9).maxRenderedOptions),this.showOptions(Y,J.id);if(this.updateSel(),Q!=(($=X.open)===null||$===void 0?void 0:$.disabled))this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!Q)}}updateTooltipClass(Z){let $=this.tooltipClass(Z);if($!=this.currentClass){for(let J of this.currentClass.split(" "))if(J)this.dom.classList.remove(J);for(let J of $.split(" "))if(J)this.dom.classList.add(J);this.currentClass=$}}positioned(Z){if(this.space=Z,this.info)this.view.requestMeasure(this.placeInfoReq)}updateSel(){let Z=this.view.state.field(this.stateField),$=Z.open;if($.selected>-1&&$.selected<this.range.from||$.selected>=this.range.to)this.range=A1($.options.length,$.selected,this.view.state.facet(G9).maxRenderedOptions),this.showOptions($.options,Z.id);if(this.updateSelectedOption($.selected)){this.destroyInfo();let{completion:J}=$.options[$.selected],{info:X}=J;if(!X)return;let Y=typeof X==="string"?document.createTextNode(X):X(J);if(!Y)return;if("then"in Y)Y.then((K)=>{if(K&&this.view.state.field(this.stateField,!1)==Z)this.addInfoPane(K,J)}).catch((K)=>W9(this.view.state,K,"completion info"));else this.addInfoPane(Y,J)}}addInfoPane(Z,$){this.destroyInfo();let J=this.info=document.createElement("div");if(J.className="cm-tooltip cm-completionInfo",Z.nodeType!=null)J.appendChild(Z),this.infoDestroy=null;else{let{dom:X,destroy:Y}=Z;J.appendChild(X),this.infoDestroy=Y||null}this.dom.appendChild(J),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(Z){let $=null;for(let J=this.list.firstChild,X=this.range.from;J;J=J.nextSibling,X++)if(J.nodeName!="LI"||!J.id)X--;else if(X==Z){if(!J.hasAttribute("aria-selected"))J.setAttribute("aria-selected","true"),$=J}else if(J.hasAttribute("aria-selected"))J.removeAttribute("aria-selected");if($)HG(this.list,$);return $}measureInfo(){let Z=this.dom.querySelector("[aria-selected]");if(!Z||!this.info)return null;let $=this.dom.getBoundingClientRect(),J=this.info.getBoundingClientRect(),X=Z.getBoundingClientRect(),Y=this.space;if(!Y){let K=this.dom.ownerDocument.documentElement;Y={left:0,top:0,right:K.clientWidth,bottom:K.clientHeight}}if(X.top>Math.min(Y.bottom,$.bottom)-10||X.bottom<Math.max(Y.top,$.top)+10)return null;return this.view.state.facet(G9).positionInfo(this.view,$,X,J,Y,this.dom)}placeInfo(Z){if(this.info)if(Z){if(Z.style)this.info.style.cssText=Z.style;this.info.className="cm-tooltip cm-completionInfo "+(Z.class||"")}else this.info.style.cssText="top: -1e6px"}createListBox(Z,$,J){let X=document.createElement("ul");X.id=$,X.setAttribute("role","listbox"),X.setAttribute("aria-expanded","true"),X.setAttribute("aria-label",this.view.state.phrase("Completions")),X.addEventListener("mousedown",(K)=>{if(K.target==X)K.preventDefault()});let Y=null;for(let K=J.from;K<J.to;K++){let{completion:Q,match:U}=Z[K],{section:q}=Q;if(q){let z=typeof q=="string"?q:q.name;if(z!=Y&&(K>J.from||J.from==0))if(Y=z,typeof q!="string"&&q.header)X.appendChild(q.header(q));else{let j=X.appendChild(document.createElement("completion-section"));j.textContent=z}}let W=X.appendChild(document.createElement("li"));W.id=$+"-"+K,W.setAttribute("role","option");let G=this.optionClass(Q);if(G)W.className=G;for(let z of this.optionContent){let j=z(Q,this.view.state,this.view,U);if(j)W.appendChild(j)}}if(J.from)X.classList.add("cm-completionListIncompleteTop");if(J.to<Z.length)X.classList.add("cm-completionListIncompleteBottom");return X}destroyInfo(){if(this.info){if(this.infoDestroy)this.infoDestroy();this.info.remove(),this.info=null}}destroy(){this.destroyInfo()}}function OG(Z,$){return(J)=>new EY(J,Z,$)}function HG(Z,$){let J=Z.getBoundingClientRect(),X=$.getBoundingClientRect(),Y=J.height/Z.offsetHeight;if(X.top<J.top)Z.scrollTop-=(J.top-X.top)/Y;else if(X.bottom>J.bottom)Z.scrollTop+=(X.bottom-J.bottom)/Y}function RY(Z){return(Z.boost||0)*100+(Z.apply?10:0)+(Z.info?5:0)+(Z.type?1:0)}function NG(Z,$){let J=[],X=null,Y=null,K=(G)=>{J.push(G);let{section:z}=G.completion;if(z){if(!X)X=[];let j=typeof z=="string"?z:z.name;if(!X.some((_)=>_.name==j))X.push(typeof z=="string"?{name:j}:z)}},Q=$.facet(G9);for(let G of Z)if(G.hasResult()){let z=G.result.getMatch;if(G.result.filter===!1)for(let j of G.result.options)K(new L1(j,G.source,z?z(j):[],1e9-J.length));else{let j=$.sliceDoc(G.from,G.to),_,O=Q.filterStrict?new BY(j):new LY(j);for(let H of G.result.options)if(_=O.match(H.label)){let N=!H.displayLabel?_.matched:z?z(H,_.matched):[],D=_.score+(H.boost||0);if(K(new L1(H,G.source,N,D)),typeof H.section=="object"&&H.section.rank==="dynamic"){let{name:A}=H.section;if(!Y)Y=Object.create(null);Y[A]=Math.max(D,Y[A]||-1e9)}}}}if(X){let G=Object.create(null),z=0,j=(_,O)=>{return(_.rank==="dynamic"&&O.rank==="dynamic"?Y[O.name]-Y[_.name]:0)||(typeof _.rank=="number"?_.rank:1e9)-(typeof O.rank=="number"?O.rank:1e9)||(_.name<O.name?-1:1)};for(let _ of X.sort(j))z-=1e5,G[_.name]=z;for(let _ of J){let{section:O}=_.completion;if(O)_.score+=G[typeof O=="string"?O:O.name]}}let U=[],q=null,W=Q.compareCompletions;for(let G of J.sort((z,j)=>j.score-z.score||W(z.completion,j.completion))){let z=G.completion;if(!q||q.label!=z.label||q.detail!=z.detail||q.type!=null&&z.type!=null&&q.type!=z.type||q.apply!=z.apply||q.boost!=z.boost)U.push(G);else if(RY(G.completion)>RY(q))U[U.length-1]=G;q=G.completion}return U}class m5{constructor(Z,$,J,X,Y,K){this.options=Z,this.attrs=$,this.tooltip=J,this.timestamp=X,this.selected=Y,this.disabled=K}setSelected(Z,$){return Z==this.selected||Z>=this.options.length?this:new m5(this.options,DY($,Z),this.tooltip,this.timestamp,Z,this.disabled)}static build(Z,$,J,X,Y,K){if(X&&!K&&Z.some((q)=>q.isPending))return X.setDisabled();let Q=NG(Z,$);if(!Q.length)return X&&Z.some((q)=>q.isPending)?X.setDisabled():null;let U=$.facet(G9).selectOnOpen?0:-1;if(X&&X.selected!=U&&X.selected!=-1){let q=X.options[X.selected].completion;for(let W=0;W<Q.length;W++)if(Q[W].completion==q){U=W;break}}return new m5(Q,DY(J,U),{pos:Z.reduce((q,W)=>W.hasResult()?Math.min(q,W.from):q,1e8),create:IG,above:Y.aboveCursor},X?X.timestamp:Date.now(),U,!1)}map(Z){return new m5(this.options,this.attrs,{...this.tooltip,pos:Z.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new m5(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class I3{constructor(Z,$,J){this.active=Z,this.id=$,this.open=J}static start(){return new I3(VG,"cm-ac-"+Math.floor(Math.random()*2000000).toString(36),null)}update(Z){let{state:$}=Z,J=$.facet(G9),Y=(J.override||$.languageDataAt("autocomplete",$5($)).map(zG)).map((U)=>{return(this.active.find((W)=>W.source==U)||new n9(U,this.active.some((W)=>W.state!=0)?1:0)).update(Z,J)});if(Y.length==this.active.length&&Y.every((U,q)=>U==this.active[q]))Y=this.active;let K=this.open,Q=Z.effects.some((U)=>U.is(T1));if(K&&Z.docChanged)K=K.map(Z.changes);if(Z.selection||Y.some((U)=>U.hasResult()&&Z.changes.touchesRange(U.from,U.to))||!RG(Y,this.active)||Q)K=m5.build(Y,$,this.id,K,J,Q);else if(K&&K.disabled&&!Y.some((U)=>U.isPending))K=null;if(!K&&Y.every((U)=>!U.isPending)&&Y.some((U)=>U.hasResult()))Y=Y.map((U)=>U.hasResult()?new n9(U.source,0):U);for(let U of Z.effects)if(U.is(TY))K=K&&K.setSelected(U.value,this.id);return Y==this.active&&K==this.open?this:new I3(Y,this.id,K)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?DG:FG}}function RG(Z,$){if(Z==$)return!0;for(let J=0,X=0;;){while(J<Z.length&&!Z[J].hasResult())J++;while(X<$.length&&!$[X].hasResult())X++;let Y=J==Z.length,K=X==$.length;if(Y||K)return Y==K;if(Z[J++].result!=$[X++].result)return!1}}var DG={"aria-autocomplete":"list"},FG={};function DY(Z,$){let J={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":Z};if($>-1)J["aria-activedescendant"]=Z+"-"+$;return J}var VG=[];function PY(Z,$){if(Z.isUserEvent("input.complete")){let X=Z.annotation(P1);if(X&&$.activateOnCompletion(X))return 12}let J=Z.isUserEvent("input.type");return J&&$.activateOnTyping?5:J?1:Z.isUserEvent("delete.backward")?2:Z.selection?8:Z.docChanged?16:0}class n9{constructor(Z,$,J=!1){this.source=Z,this.state=$,this.explicit=J}hasResult(){return!1}get isPending(){return this.state==1}update(Z,$){let J=PY(Z,$),X=this;if(J&8||J&16&&this.touches(Z))X=new n9(X.source,0);if(J&4&&X.state==0)X=new n9(this.source,1);X=X.updateFor(Z,J);for(let Y of Z.effects)if(Y.is(A3))X=new n9(X.source,1,Y.value);else if(Y.is(k7))X=new n9(X.source,0);else if(Y.is(T1)){for(let K of Y.value)if(K.source==X.source)X=K}return X}updateFor(Z,$){return this.map(Z.changes)}map(Z){return this}touches(Z){return Z.changes.touchesRange($5(Z.state))}}class u5 extends n9{constructor(Z,$,J,X,Y,K){super(Z,3,$);this.limit=J,this.result=X,this.from=Y,this.to=K}hasResult(){return!0}updateFor(Z,$){var J;if(!($&3))return this.map(Z.changes);let X=this.result;if(X.map&&!Z.changes.empty)X=X.map(X,Z.changes);let Y=Z.changes.mapPos(this.from),K=Z.changes.mapPos(this.to,1),Q=$5(Z.state);if(Q>K||!X||$&2&&($5(Z.startState)==this.from||Q<this.limit))return new n9(this.source,$&4?1:0);let U=Z.changes.mapPos(this.limit);if(AG(X.validFor,Z.state,Y,K))return new u5(this.source,this.explicit,U,X,Y,K);if(X.update&&(X=X.update(X,Y,K,new B1(Z.state,Q,!1))))return new u5(this.source,this.explicit,U,X,X.from,(J=X.to)!==null&&J!==void 0?J:$5(Z.state));return new n9(this.source,1,this.explicit)}map(Z){if(Z.empty)return this;if(!(this.result.map?this.result.map(this.result,Z):this.result))return new n9(this.source,0);return new u5(this.source,this.explicit,Z.mapPos(this.limit),this.result,Z.mapPos(this.from),Z.mapPos(this.to,1))}touches(Z){return Z.changes.touchesRange(this.from,this.to)}}function AG(Z,$,J,X){if(!Z)return!1;let Y=$.sliceDoc(J,X);return typeof Z=="function"?Z(Y,J,X,$):MY(Z,!0).test(Y)}var T1=S.define({map(Z,$){return Z.map((J)=>J.map($))}}),TY=S.define(),b9=t.define({create(){return I3.start()},update(Z,$){return Z.update($)},provide:(Z)=>[L5.from(Z,($)=>$.tooltip),L.contentAttributes.from(Z,($)=>$.attrs)]});function C1(Z,$){let J=$.completion.apply||$.completion.label,X=Z.state.field(b9).active.find((Y)=>Y.source==$.source);if(!(X instanceof u5))return!1;if(typeof J=="string")Z.dispatch({...GG(Z.state,J,X.from,X.to),annotations:P1.of($.completion)});else J(Z,$.completion,X.from,X.to);return!0}var IG=OG(b9,C1);function V3(Z,$="option"){return(J)=>{let X=J.state.field(b9,!1);if(!X||!X.open||X.open.disabled||Date.now()-X.open.timestamp<J.state.facet(G9).interactionDelay)return!1;let Y=1,K;if($=="page"&&(K=TZ(J,X.open.tooltip)))Y=Math.max(2,Math.floor(K.dom.offsetHeight/K.dom.querySelector("li").offsetHeight)-1);let{length:Q}=X.open.options,U=X.open.selected>-1?X.open.selected+Y*(Z?1:-1):Z?0:Q-1;if(U<0)U=$=="page"?0:Q-1;else if(U>=Q)U=$=="page"?Q-1:0;return J.dispatch({effects:TY.of(U)}),!0}}var MG=(Z)=>{let $=Z.state.field(b9,!1);if(Z.state.readOnly||!$||!$.open||$.open.selected<0||$.open.disabled||Date.now()-$.open.timestamp<Z.state.facet(G9).interactionDelay)return!1;return C1(Z,$.open.options[$.open.selected])},I1=(Z)=>{if(!Z.state.field(b9,!1))return!1;return Z.dispatch({effects:A3.of(!0)}),!0},LG=(Z)=>{let $=Z.state.field(b9,!1);if(!$||!$.active.some((J)=>J.state!=0))return!1;return Z.dispatch({effects:k7.of(null)}),!0};class CY{constructor(Z,$){this.active=Z,this.context=$,this.time=Date.now(),this.updates=[],this.done=void 0}}var BG=50,EG=1000,PG=c.fromClass(class{constructor(Z){this.view=Z,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let $ of Z.state.field(b9).active)if($.isPending)this.startQuery($)}update(Z){let $=Z.state.field(b9),J=Z.state.facet(G9);if(!Z.selectionSet&&!Z.docChanged&&Z.startState.field(b9)==$)return;let X=Z.transactions.some((K)=>{let Q=PY(K,J);return Q&8||(K.selection||K.docChanged)&&!(Q&3)});for(let K=0;K<this.running.length;K++){let Q=this.running[K];if(X||Q.context.abortOnDocChange&&Z.docChanged||Q.updates.length+Z.transactions.length>BG&&Date.now()-Q.time>EG){for(let U of Q.context.abortListeners)try{U()}catch(q){W9(this.view.state,q)}Q.context.abortListeners=null,this.running.splice(K--,1)}else Q.updates.push(...Z.transactions)}if(this.debounceUpdate>-1)clearTimeout(this.debounceUpdate);if(Z.transactions.some((K)=>K.effects.some((Q)=>Q.is(A3))))this.pendingStart=!0;let Y=this.pendingStart?50:J.activateOnTypingDelay;if(this.debounceUpdate=$.active.some((K)=>K.isPending&&!this.running.some((Q)=>Q.active.source==K.source))?setTimeout(()=>this.startUpdate(),Y):-1,this.composing!=0){for(let K of Z.transactions)if(K.isUserEvent("input.type"))this.composing=2;else if(this.composing==2&&K.selection)this.composing=3}}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:Z}=this.view,$=Z.field(b9);for(let J of $.active)if(J.isPending&&!this.running.some((X)=>X.active.source==J.source))this.startQuery(J);if(this.running.length&&$.open&&$.open.disabled)this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(G9).updateSyncTime)}startQuery(Z){let{state:$}=this.view,J=$5($),X=new B1($,J,Z.explicit,this.view),Y=new CY(Z,X);this.running.push(Y),Promise.resolve(Z.source(X)).then((K)=>{if(!Y.context.aborted)Y.done=K||null,this.scheduleAccept()},(K)=>{this.view.dispatch({effects:k7.of(null)}),W9(this.view.state,K)})}scheduleAccept(){if(this.running.every((Z)=>Z.done!==void 0))this.accept();else if(this.debounceAccept<0)this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(G9).updateSyncTime)}accept(){var Z;if(this.debounceAccept>-1)clearTimeout(this.debounceAccept);this.debounceAccept=-1;let $=[],J=this.view.state.facet(G9),X=this.view.state.field(b9);for(let Y=0;Y<this.running.length;Y++){let K=this.running[Y];if(K.done===void 0)continue;if(this.running.splice(Y--,1),K.done){let U=$5(K.updates.length?K.updates[0].startState:this.view.state),q=Math.min(U,K.done.from+(K.active.explicit?0:1)),W=new u5(K.active.source,K.active.explicit,q,K.done,K.done.from,(Z=K.done.to)!==null&&Z!==void 0?Z:U);for(let G of K.updates)W=W.update(G,J);if(W.hasResult()){$.push(W);continue}}let Q=X.active.find((U)=>U.source==K.active.source);if(Q&&Q.isPending)if(K.done==null){let U=new n9(K.active.source,0);for(let q of K.updates)U=U.update(q,J);if(!U.isPending)$.push(U)}else this.startQuery(Q)}if($.length||X.open&&X.open.disabled)this.view.dispatch({effects:T1.of($)})}},{eventHandlers:{blur(Z){let $=this.view.state.field(b9,!1);if($&&$.tooltip&&this.view.state.facet(G9).closeOnBlur){let J=$.open&&TZ(this.view,$.open.tooltip);if(!J||!J.dom.contains(Z.relatedTarget))setTimeout(()=>this.view.dispatch({effects:k7.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){if(this.composing==3)setTimeout(()=>this.view.dispatch({effects:A3.of(!1)}),20);this.composing=0}}}),TG=typeof navigator=="object"&&/Win/.test(navigator.platform),CG=P9.highest(L.domEventHandlers({keydown(Z,$){let J=$.state.field(b9,!1);if(!J||!J.open||J.open.disabled||J.open.selected<0||Z.key.length>1||Z.ctrlKey&&!(TG&&Z.altKey)||Z.metaKey)return!1;let X=J.open.options[J.open.selected],Y=J.active.find((Q)=>Q.source==X.source),K=X.completion.commitCharacters||Y.result.commitCharacters;if(K&&K.indexOf(Z.key)>-1)C1($,X);return!1}})),yY=L.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:0.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"¬∑¬∑¬∑"',opacity:0.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'∆í'"}},".cm-completionIcon-class":{"&:after":{content:"'‚óã'"}},".cm-completionIcon-interface":{"&:after":{content:"'‚óå'"}},".cm-completionIcon-variable":{"&:after":{content:"'\uD835\uDC65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\uD835\uDC36'"}},".cm-completionIcon-type":{"&:after":{content:"'\uD835\uDC61'"}},".cm-completionIcon-enum":{"&:after":{content:"'‚à™'"}},".cm-completionIcon-property":{"&:after":{content:"'‚ñ°'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\uD83D\uDD11Ô∏é'"}},".cm-completionIcon-namespace":{"&:after":{content:"'‚ñ¢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class SY{constructor(Z,$,J,X){this.field=Z,this.line=$,this.from=J,this.to=X}}class y1{constructor(Z,$,J){this.field=Z,this.from=$,this.to=J}map(Z){let $=Z.mapPos(this.from,-1,Q9.TrackDel),J=Z.mapPos(this.to,1,Q9.TrackDel);return $==null||J==null?null:new y1(this.field,$,J)}}class S1{constructor(Z,$){this.lines=Z,this.fieldPositions=$}instantiate(Z,$){let J=[],X=[$],Y=Z.doc.lineAt($),K=/^\s*/.exec(Y.text)[0];for(let U of this.lines){if(J.length){let q=K,W=/^\t*/.exec(U)[0].length;for(let G=0;G<W;G++)q+=Z.facet(a0);X.push($+q.length-W),U=q+U.slice(W)}J.push(U),$+=U.length+1}let Q=this.fieldPositions.map((U)=>new y1(U.field,X[U.line]+U.from,X[U.line]+U.to));return{text:J,ranges:Q}}static parse(Z){let $=[],J=[],X=[],Y;for(let K of Z.split(/\r\n?|\n/)){while(Y=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(K)){let Q=Y[1]?+Y[1]:null,U=Y[2]||Y[3]||"",q=-1,W=U.replace(/\\[{}]/g,(G)=>G[1]);for(let G=0;G<$.length;G++)if(Q!=null?$[G].seq==Q:W?$[G].name==W:!1)q=G;if(q<0){let G=0;while(G<$.length&&(Q==null||$[G].seq!=null&&$[G].seq<Q))G++;$.splice(G,0,{seq:Q,name:W}),q=G;for(let z of X)if(z.field>=q)z.field++}for(let G of X)if(G.line==J.length&&G.from>Y.index){let z=Y[2]?3+(Y[1]||"").length:2;G.from-=z,G.to-=z}X.push(new SY(q,J.length,Y.index,Y.index+W.length)),K=K.slice(0,Y.index)+U+K.slice(Y.index+Y[0].length)}K=K.replace(/\\([{}])/g,(Q,U,q)=>{for(let W of X)if(W.line==J.length&&W.from>q)W.from--,W.to--;return U}),J.push(K)}return new S1(J,X)}}var yG=T.widget({widget:new class extends L9{toDOM(){let Z=document.createElement("span");return Z.className="cm-snippetFieldPosition",Z}ignoreEvent(){return!1}}}),SG=T.mark({class:"cm-snippetField"});class g5{constructor(Z,$){this.ranges=Z,this.active=$,this.deco=T.set(Z.map((J)=>(J.from==J.to?yG:SG).range(J.from,J.to)),!0)}map(Z){let $=[];for(let J of this.ranges){let X=J.map(Z);if(!X)return null;$.push(X)}return new g5($,this.active)}selectionInsideField(Z){return Z.ranges.every(($)=>this.ranges.some((J)=>J.field==this.active&&J.from<=$.from&&J.to>=$.to))}}var w7=S.define({map(Z,$){return Z&&Z.map($)}}),kG=S.define(),b7=t.define({create(){return null},update(Z,$){for(let J of $.effects){if(J.is(w7))return J.value;if(J.is(kG)&&Z)return new g5(Z.ranges,J.value)}if(Z&&$.docChanged)Z=Z.map($.changes);if(Z&&$.selection&&!Z.selectionInsideField($.selection))Z=null;return Z},provide:(Z)=>L.decorations.from(Z,($)=>$?$.deco:T.none)});function k1(Z,$){return F.create(Z.filter((J)=>J.field==$).map((J)=>F.range(J.from,J.to)))}function bG(Z){let $=S1.parse(Z);return(J,X,Y,K)=>{let{text:Q,ranges:U}=$.instantiate(J.state,Y),{main:q}=J.state.selection,W={changes:{from:Y,to:K==q.from?q.to:K,insert:h.of(Q)},scrollIntoView:!0,annotations:X?[P1.of(X),Z9.userEvent.of("input.complete")]:void 0};if(U.length)W.selection=k1(U,0);if(U.some((G)=>G.field>0)){let G=new g5(U,0),z=W.effects=[w7.of(G)];if(J.state.field(b7,!1)===void 0)z.push(S.appendConfig.of([b7,mG,uG,yY]))}J.dispatch(J.state.update(W))}}function kY(Z){return({state:$,dispatch:J})=>{let X=$.field(b7,!1);if(!X||Z<0&&X.active==0)return!1;let Y=X.active+Z,K=Z>0&&!X.ranges.some((Q)=>Q.field==Y+Z);return J($.update({selection:k1(X.ranges,Y),effects:w7.of(K?null:new g5(X.ranges,Y)),scrollIntoView:!0})),!0}}var xG=({state:Z,dispatch:$})=>{if(!Z.field(b7,!1))return!1;return $(Z.update({effects:w7.of(null)})),!0},wG=kY(1),hG=kY(-1);var vG=[{key:"Tab",run:wG,shift:hG},{key:"Escape",run:xG}],FY=B.define({combine(Z){return Z.length?Z[0]:vG}}),mG=P9.highest(y0.compute([FY],(Z)=>Z.facet(FY)));function B9(Z,$){return{...$,apply:bG(Z)}}var uG=L.domEventHandlers({mousedown(Z,$){let J=$.state.field(b7,!1),X;if(!J||(X=$.posAtCoords({x:Z.clientX,y:Z.clientY}))==null)return!1;let Y=J.ranges.find((K)=>K.from<=X&&K.to>=X);if(!Y||Y.field==J.active)return!1;return $.dispatch({selection:k1(J.ranges,Y.field),effects:w7.of(J.ranges.some((K)=>K.field>Y.field)?new g5(J.ranges,Y.field):null),scrollIntoView:!0}),!0}});var x7={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Z5=S.define({map(Z,$){let J=$.mapPos(Z,-1,Q9.TrackAfter);return J==null?void 0:J}}),b1=new class extends a9{};b1.startSide=1;b1.endSide=-1;var bY=t.define({create(){return w.empty},update(Z,$){if(Z=Z.map($.changes),$.selection){let J=$.state.doc.lineAt($.selection.main.head);Z=Z.update({filter:(X)=>X>=J.from&&X<=J.to})}for(let J of $.effects)if(J.is(Z5))Z=Z.update({add:[b1.range(J.value,J.value+1)]});return Z}});function xY(){return[fG,bY]}var M1="()[]{}<>¬´¬ª¬ª¬´ÔºªÔºΩÔΩõÔΩù";function wY(Z){for(let $=0;$<M1.length;$+=2)if(M1.charCodeAt($)==Z)return M1.charAt($+1);return _5(Z<128?Z:Z+1)}function hY(Z,$){return Z.languageDataAt("closeBrackets",$)[0]||x7}var gG=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),fG=L.inputHandler.of((Z,$,J,X)=>{if((gG?Z.composing:Z.compositionStarted)||Z.state.readOnly)return!1;let Y=Z.state.selection.main;if(X.length>2||X.length==2&&E9(q9(X,0))==1||$!=Y.from||J!=Y.to)return!1;let K=lG(Z.state,X);if(!K)return!1;return Z.dispatch(K),!0}),pG=({state:Z,dispatch:$})=>{if(Z.readOnly)return!1;let X=hY(Z,Z.selection.main.head).brackets||x7.brackets,Y=null,K=Z.changeByRange((Q)=>{if(Q.empty){let U=dG(Z.doc,Q.head);for(let q of X)if(q==U&&M3(Z.doc,Q.head)==wY(q9(q,0)))return{changes:{from:Q.head-q.length,to:Q.head+q.length},range:F.cursor(Q.head-q.length)}}return{range:Y=Q}});if(!Y)$(Z.update(K,{scrollIntoView:!0,userEvent:"delete.backward"}));return!Y},vY=[{key:"Backspace",run:pG}];function lG(Z,$){let J=hY(Z,Z.selection.main.head),X=J.brackets||x7.brackets;for(let Y of X){let K=wY(q9(Y,0));if($==Y)return K==Y?iG(Z,Y,X.indexOf(Y+Y+Y)>-1,J):cG(Z,Y,K,J.before||x7.before);if($==K&&mY(Z,Z.selection.main.from))return sG(Z,Y,K)}return null}function mY(Z,$){let J=!1;return Z.field(bY).between(0,Z.doc.length,(X)=>{if(X==$)J=!0}),J}function M3(Z,$){let J=Z.sliceString($,$+2);return J.slice(0,E9(q9(J,0)))}function dG(Z,$){let J=Z.sliceString($-2,$);return E9(q9(J,0))==J.length?J:J.slice(1)}function cG(Z,$,J,X){let Y=null,K=Z.changeByRange((Q)=>{if(!Q.empty)return{changes:[{insert:$,from:Q.from},{insert:J,from:Q.to}],effects:Z5.of(Q.to+$.length),range:F.range(Q.anchor+$.length,Q.head+$.length)};let U=M3(Z.doc,Q.head);if(!U||/\s/.test(U)||X.indexOf(U)>-1)return{changes:{insert:$+J,from:Q.head},effects:Z5.of(Q.head+$.length),range:F.cursor(Q.head+$.length)};return{range:Y=Q}});return Y?null:Z.update(K,{scrollIntoView:!0,userEvent:"input.type"})}function sG(Z,$,J){let X=null,Y=Z.changeByRange((K)=>{if(K.empty&&M3(Z.doc,K.head)==J)return{changes:{from:K.head,to:K.head+J.length,insert:J},range:F.cursor(K.head+J.length)};return X={range:K}});return X?null:Z.update(Y,{scrollIntoView:!0,userEvent:"input.type"})}function iG(Z,$,J,X){let Y=X.stringPrefixes||x7.stringPrefixes,K=null,Q=Z.changeByRange((U)=>{if(!U.empty)return{changes:[{insert:$,from:U.from},{insert:$,from:U.to}],effects:Z5.of(U.to+$.length),range:F.range(U.anchor+$.length,U.head+$.length)};let q=U.head,W=M3(Z.doc,q),G;if(W==$){if(VY(Z,q))return{changes:{insert:$+$,from:q},effects:Z5.of(q+$.length),range:F.cursor(q+$.length)};else if(mY(Z,q)){let j=J&&Z.sliceDoc(q,q+$.length*3)==$+$+$?$+$+$:$;return{changes:{from:q,to:q+j.length,insert:j},range:F.cursor(q+j.length)}}}else if(J&&Z.sliceDoc(q-2*$.length,q)==$+$&&(G=AY(Z,q-2*$.length,Y))>-1&&VY(Z,G))return{changes:{insert:$+$+$+$,from:q},effects:Z5.of(q+$.length),range:F.cursor(q+$.length)};else if(Z.charCategorizer(q)(W)!=u.Word){if(AY(Z,q,Y)>-1&&!nG(Z,q,$,Y))return{changes:{insert:$+$,from:q},effects:Z5.of(q+$.length),range:F.cursor(q+$.length)}}return{range:K=U}});return K?null:Z.update(Q,{scrollIntoView:!0,userEvent:"input.type"})}function VY(Z,$){let J=r(Z).resolveInner($+1);return J.parent&&J.from==$}function nG(Z,$,J,X){let Y=r(Z).resolveInner($,-1),K=X.reduce((Q,U)=>Math.max(Q,U.length),0);for(let Q=0;Q<5;Q++){let U=Z.sliceDoc(Y.from,Math.min(Y.to,Y.from+J.length+K)),q=U.indexOf(J);if(!q||q>-1&&X.indexOf(U.slice(0,q))>-1){let G=Y.firstChild;while(G&&G.from==Y.from&&G.to-G.from>J.length+q){if(Z.sliceDoc(G.to-J.length,G.to)==J)return!1;G=G.firstChild}return!0}let W=Y.to==$&&Y.parent;if(!W)break;Y=W}return!1}function AY(Z,$,J){let X=Z.charCategorizer($);if(X(Z.sliceDoc($-1,$))!=u.Word)return $;for(let Y of J){let K=$-Y.length;if(Z.sliceDoc(K,$)==Y&&X(Z.sliceDoc(K-1,K))!=u.Word)return K}return-1}function uY(Z={}){return[CG,b9,G9.of(Z),PG,aG,yY]}var x1=[{key:"Ctrl-Space",run:I1},{mac:"Alt-`",run:I1},{mac:"Alt-i",run:I1},{key:"Escape",run:LG},{key:"ArrowDown",run:V3(!0)},{key:"ArrowUp",run:V3(!1)},{key:"PageDown",run:V3(!0,"page")},{key:"PageUp",run:V3(!1,"page")},{key:"Enter",run:MG}],aG=P9.highest(y0.computeN([G9],(Z)=>Z.facet(G9).defaultKeymap?[x1]:[]));class w1{constructor(Z,$,J){this.from=Z,this.to=$,this.diagnostic=J}}class J5{constructor(Z,$,J){this.diagnostics=Z,this.panel=$,this.selected=J}static init(Z,$,J){let X=J.facet(h7).markerFilter;if(X)Z=X(Z,J);let Y=Z.slice().sort((W,G)=>W.from-G.from||W.to-G.to),K=new M9,Q=[],U=0;for(let W=0;;){let G=W==Y.length?null:Y[W];if(!G&&!Q.length)break;let z,j;if(Q.length)z=U,j=Q.reduce((O,H)=>Math.min(O,H.to),G&&G.from>z?G.from:1e8);else z=G.from,j=G.to,Q.push(G),W++;while(W<Y.length){let O=Y[W];if(O.from==z&&(O.to>O.from||O.to==z))Q.push(O),W++,j=Math.min(O.to,j);else{j=Math.min(O.from,j);break}}let _=Qz(Q);if(Q.some((O)=>O.from==O.to||O.from==O.to-1&&J.doc.lineAt(O.from).to==O.from))K.add(z,z,T.widget({widget:new iY(_),diagnostics:Q.slice()}));else{let O=Q.reduce((H,N)=>N.markClass?H+" "+N.markClass:H,"");K.add(z,j,T.mark({class:"cm-lintRange cm-lintRange-"+_+O,diagnostics:Q.slice(),inclusiveEnd:Q.some((H)=>H.to>j)}))}U=j;for(let O=0;O<Q.length;O++)if(Q[O].to<=U)Q.splice(O--,1)}let q=K.finish();return new J5(q,$,f5(q))}}function f5(Z,$=null,J=0){let X=null;return Z.between(J,1e9,(Y,K,{spec:Q})=>{if($&&Q.diagnostics.indexOf($)<0)return;if(!X)X=new w1(Y,K,$||Q.diagnostics[0]);else if(Q.diagnostics.indexOf(X.diagnostic)<0)return!1;else X=new w1(X.from,K,X.diagnostic)}),X}function rG(Z,$){let J=$.pos,X=$.end||J,Y=Z.state.facet(h7).hideOn(Z,J,X);if(Y!=null)return Y;let K=Z.startState.doc.lineAt($.pos);return!!(Z.effects.some((Q)=>Q.is(pY))||Z.changes.touchesRange(K.from,Math.max(K.to,X)))}function oG(Z,$){return Z.field(u9,!1)?$:$.concat(S.appendConfig.of(Uz))}var pY=S.define(),v1=S.define(),lY=S.define(),u9=t.define({create(){return new J5(T.none,null,null)},update(Z,$){if($.docChanged&&Z.diagnostics.size){let J=Z.diagnostics.map($.changes),X=null,Y=Z.panel;if(Z.selected){let K=$.changes.mapPos(Z.selected.from,1);X=f5(J,Z.selected.diagnostic,K)||f5(J,null,K)}if(!J.size&&Y&&$.state.facet(h7).autoPanel)Y=null;Z=new J5(J,Y,X)}for(let J of $.effects)if(J.is(pY)){let X=!$.state.facet(h7).autoPanel?Z.panel:J.value.length?v7.open:null;Z=J5.init(J.value,X,$.state)}else if(J.is(v1))Z=new J5(Z.diagnostics,J.value?v7.open:null,Z.selected);else if(J.is(lY))Z=new J5(Z.diagnostics,Z.panel,J.value);return Z},provide:(Z)=>[D0.from(Z,($)=>$.panel),L.decorations.from(Z,($)=>$.diagnostics)]});var tG=T.mark({class:"cm-lintRange cm-lintRange-active"});function eG(Z,$,J){let{diagnostics:X}=Z.state.field(u9),Y,K=-1,Q=-1;X.between($-(J<0?1:0),$+(J>0?1:0),(q,W,{spec:G})=>{if($>=q&&$<=W&&(q==W||($>q||J>0)&&($<W||J<0)))return Y=G.diagnostics,K=q,Q=W,!1});let U=Z.state.facet(h7).tooltipFilter;if(Y&&U)Y=U(Y,Z.state);if(!Y)return null;return{pos:K,end:Q,above:Z.state.doc.lineAt(K).to<Q,create(){return{dom:Zz(Z,Y)}}}}function Zz(Z,$){return g("ul",{class:"cm-tooltip-lint"},$.map((J)=>sY(Z,J,!1)))}var $z=(Z)=>{let $=Z.state.field(u9,!1);if(!$||!$.panel)Z.dispatch({effects:oG(Z.state,[v1.of(!0)])});let J=F0(Z,v7.open);if(J)J.dom.querySelector(".cm-panel-lint ul").focus();return!0},gY=(Z)=>{let $=Z.state.field(u9,!1);if(!$||!$.panel)return!1;return Z.dispatch({effects:v1.of(!1)}),!0},Jz=(Z)=>{let $=Z.state.field(u9,!1);if(!$)return!1;let J=Z.state.selection.main,X=$.diagnostics.iter(J.to+1);if(!X.value){if(X=$.diagnostics.iter(0),!X.value||X.from==J.from&&X.to==J.to)return!1}return Z.dispatch({selection:{anchor:X.from,head:X.to},scrollIntoView:!0}),!0};var dY=[{key:"Mod-Shift-m",run:$z,preventDefault:!0},{key:"F8",run:Jz}];var h7=B.define({combine(Z){return{sources:Z.map(($)=>$.source).filter(($)=>$!=null),...j9(Z.map(($)=>$.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:fY,tooltipFilter:fY,needsRefresh:($,J)=>!$?J:!J?$:(X)=>$(X)||J(X),hideOn:($,J)=>!$?J:!J?$:(X,Y,K)=>$(X,Y,K)||J(X,Y,K),autoPanel:($,J)=>$||J})}}});function fY(Z,$){return!Z?$:!$?Z:(J,X)=>$(Z(J,X),X)}function cY(Z){let $=[];if(Z)Z:for(let{name:J}of Z){for(let X=0;X<J.length;X++){let Y=J[X];if(/[a-zA-Z]/.test(Y)&&!$.some((K)=>K.toLowerCase()==Y.toLowerCase())){$.push(Y);continue Z}}$.push("")}return $}function sY(Z,$,J){var X;let Y=J?cY($.actions):[];return g("li",{class:"cm-diagnostic cm-diagnostic-"+$.severity},g("span",{class:"cm-diagnosticText"},$.renderMessage?$.renderMessage(Z):$.message),(X=$.actions)===null||X===void 0?void 0:X.map((K,Q)=>{let U=!1,q=(_)=>{if(_.preventDefault(),U)return;U=!0;let O=f5(Z.state.field(u9).diagnostics,$);if(O)K.apply(Z,O.from,O.to)},{name:W}=K,G=Y[Q]?W.indexOf(Y[Q]):-1,z=G<0?W:[W.slice(0,G),g("u",W.slice(G,G+1)),W.slice(G+1)],j=K.markClass?" "+K.markClass:"";return g("button",{type:"button",class:"cm-diagnosticAction"+j,onclick:q,onmousedown:q,"aria-label":` Action: ${W}${G<0?"":` (access key "${Y[Q]})"`}.`},z)}),$.source&&g("div",{class:"cm-diagnosticSource"},$.source))}class iY extends L9{constructor(Z){super();this.sev=Z}eq(Z){return Z.sev==this.sev}toDOM(){return g("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class h1{constructor(Z,$){this.diagnostic=$,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=sY(Z,$,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class v7{constructor(Z){this.view=Z,this.items=[];let $=(X)=>{if(X.keyCode==27)gY(this.view),this.view.focus();else if(X.keyCode==38||X.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(X.keyCode==40||X.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(X.keyCode==36)this.moveSelection(0);else if(X.keyCode==35)this.moveSelection(this.items.length-1);else if(X.keyCode==13)this.view.focus();else if(X.keyCode>=65&&X.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:Y}=this.items[this.selectedIndex],K=cY(Y.actions);for(let Q=0;Q<K.length;Q++)if(K[Q].toUpperCase().charCodeAt(0)==X.keyCode){let U=f5(this.view.state.field(u9).diagnostics,Y);if(U)Y.actions[Q].apply(Z,U.from,U.to)}}else return;X.preventDefault()},J=(X)=>{for(let Y=0;Y<this.items.length;Y++)if(this.items[Y].dom.contains(X.target))this.moveSelection(Y)};this.list=g("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:$,onclick:J}),this.dom=g("div",{class:"cm-panel-lint"},this.list,g("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>gY(this.view)},"√ó")),this.update()}get selectedIndex(){let Z=this.view.state.field(u9).selected;if(!Z)return-1;for(let $=0;$<this.items.length;$++)if(this.items[$].diagnostic==Z.diagnostic)return $;return-1}update(){let{diagnostics:Z,selected:$}=this.view.state.field(u9),J=0,X=!1,Y=null,K=new Set;Z.between(0,this.view.state.doc.length,(Q,U,{spec:q})=>{for(let W of q.diagnostics){if(K.has(W))continue;K.add(W);let G=-1,z;for(let j=J;j<this.items.length;j++)if(this.items[j].diagnostic==W){G=j;break}if(G<0)z=new h1(this.view,W),this.items.splice(J,0,z),X=!0;else if(z=this.items[G],G>J)this.items.splice(J,G-J),X=!0;if($&&z.diagnostic==$.diagnostic){if(!z.dom.hasAttribute("aria-selected"))z.dom.setAttribute("aria-selected","true"),Y=z}else if(z.dom.hasAttribute("aria-selected"))z.dom.removeAttribute("aria-selected");J++}});while(J<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0))X=!0,this.items.pop();if(this.items.length==0)this.items.push(new h1(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),X=!0;if(Y)this.list.setAttribute("aria-activedescendant",Y.id),this.view.requestMeasure({key:this,read:()=>({sel:Y.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:Q,panel:U})=>{let q=U.height/this.list.offsetHeight;if(Q.top<U.top)this.list.scrollTop-=(U.top-Q.top)/q;else if(Q.bottom>U.bottom)this.list.scrollTop+=(Q.bottom-U.bottom)/q}});else if(this.selectedIndex<0)this.list.removeAttribute("aria-activedescendant");if(X)this.sync()}sync(){let Z=this.list.firstChild;function $(){let J=Z;Z=J.nextSibling,J.remove()}for(let J of this.items)if(J.dom.parentNode==this.list){while(Z!=J.dom)$();Z=J.dom.nextSibling}else this.list.insertBefore(J.dom,Z);while(Z)$()}moveSelection(Z){if(this.selectedIndex<0)return;let $=this.view.state.field(u9),J=f5($.diagnostics,this.items[Z].diagnostic);if(!J)return;this.view.dispatch({selection:{anchor:J.from,head:J.to},scrollIntoView:!0,effects:lY.of(J)})}static open(Z){return new v7(Z)}}function Xz(Z,$='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${$}>${encodeURIComponent(Z)}</svg>')`}function L3(Z){return Xz(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${Z}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}var Yz=L.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:0.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:L3("#d11")},".cm-lintRange-warning":{backgroundImage:L3("orange")},".cm-lintRange-info":{backgroundImage:L3("#999")},".cm-lintRange-hint":{backgroundImage:L3("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Kz(Z){return Z=="error"?4:Z=="warning"?3:Z=="info"?2:1}function Qz(Z){let $="hint",J=1;for(let X of Z){let Y=Kz(X.severity);if(Y>J)J=Y,$=X.severity}return $}var Uz=[u9,L.decorations.compute([u9],(Z)=>{let{selected:$,panel:J}=Z.field(u9);return!$||!J||$.from==$.to?T.none:T.set([tG.range($.from,$.to)])}),r4(eG,{hideOn:rG}),Yz];var qz=(()=>[e4(),Z8(),BZ(),$3(),C8(),LZ(),c4(),m.allowMultipleSelections.of(!0),I8(),cZ(sZ,{fallback:!0}),y8(),xY(),uY(),i4(),n4(),s4(),KY(),y0.of([...vY,...z3,...jY,...X3,...E8,...x1,...dY])])(),Wz=(()=>[BZ(),$3(),LZ(),cZ(sZ,{fallback:!0}),y0.of([...z3,...X3])])();var a1={};Q5(a1,{typescriptSnippets:()=>jK,typescriptLanguage:()=>DK,tsxLanguage:()=>VK,snippets:()=>i1,scopeCompletionSource:()=>cz,localCompletionSource:()=>HK,jsxLanguage:()=>FK,javascriptLanguage:()=>L0,javascript:()=>iz,esLint:()=>rz,completionPath:()=>NK,autoCloseTags:()=>MK});class B3{constructor(Z,$,J,X,Y,K,Q,U,q,W=0,G){this.p=Z,this.stack=$,this.state=J,this.reducePos=X,this.pos=Y,this.score=K,this.buffer=Q,this.bufferBase=U,this.curContext=q,this.lookAhead=W,this.parent=G}toString(){return`[${this.stack.filter((Z,$)=>$%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(Z,$,J=0){let X=Z.parser.context;return new B3(Z,[],$,J,J,0,[],0,X?new f1(X,X.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(Z,$){this.stack.push(this.state,$,this.bufferBase+this.buffer.length),this.state=Z}reduce(Z){var $;let J=Z>>19,X=Z&65535,{parser:Y}=this.p,K=this.reducePos<this.pos-25;if(K)this.setLookAhead(this.pos);let Q=Y.dynamicPrecedence(X);if(Q)this.score+=Q;if(J==0){if(this.pushState(Y.getGoto(this.state,X,!0),this.reducePos),X<Y.minRepeatTerm)this.storeNode(X,this.reducePos,this.reducePos,K?8:4,!0);this.reduceContext(X,this.reducePos);return}let U=this.stack.length-(J-1)*3-(Z&262144?6:0),q=U?this.stack[U-2]:this.p.ranges[0].from,W=this.reducePos-q;if(W>=2000&&!(($=this.p.parser.nodeSet.types[X])===null||$===void 0?void 0:$.isAnonymous)){if(q==this.p.lastBigReductionStart)this.p.bigReductionCount++,this.p.lastBigReductionSize=W;else if(this.p.lastBigReductionSize<W)this.p.bigReductionCount=1,this.p.lastBigReductionStart=q,this.p.lastBigReductionSize=W}let G=U?this.stack[U-1]:0,z=this.bufferBase+this.buffer.length-G;if(X<Y.minRepeatTerm||Z&131072){let j=Y.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(X,q,j,z+4,!0)}if(Z&262144)this.state=this.stack[U];else{let j=this.stack[U-3];this.state=Y.getGoto(j,X,!0)}while(this.stack.length>U)this.stack.pop();this.reduceContext(X,q)}storeNode(Z,$,J,X=4,Y=!1){if(Z==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let K=this,Q=this.buffer.length;if(Q==0&&K.parent)Q=K.bufferBase-K.parent.bufferBase,K=K.parent;if(Q>0&&K.buffer[Q-4]==0&&K.buffer[Q-1]>-1){if($==J)return;if(K.buffer[Q-2]>=$){K.buffer[Q-2]=J;return}}}if(!Y||this.pos==J)this.buffer.push(Z,$,J,X);else{let K=this.buffer.length;if(K>0&&this.buffer[K-4]!=0){let Q=!1;for(let U=K;U>0&&this.buffer[U-2]>J;U-=4)if(this.buffer[U-1]>=0){Q=!0;break}if(Q){while(K>0&&this.buffer[K-2]>J)if(this.buffer[K]=this.buffer[K-4],this.buffer[K+1]=this.buffer[K-3],this.buffer[K+2]=this.buffer[K-2],this.buffer[K+3]=this.buffer[K-1],K-=4,X>4)X-=4}}this.buffer[K]=Z,this.buffer[K+1]=$,this.buffer[K+2]=J,this.buffer[K+3]=X}}shift(Z,$,J,X){if(Z&131072)this.pushState(Z&65535,this.pos);else if((Z&262144)==0){let Y=Z,{parser:K}=this.p;if(X>this.pos||$<=K.maxNode){if(this.pos=X,!K.stateFlag(Y,1))this.reducePos=X}if(this.pushState(Y,J),this.shiftContext($,J),$<=K.maxNode)this.buffer.push($,J,X,4)}else if(this.pos=X,this.shiftContext($,J),$<=this.p.parser.maxNode)this.buffer.push($,J,X,4)}apply(Z,$,J,X){if(Z&65536)this.reduce(Z);else this.shift(Z,$,J,X)}useNode(Z,$){let J=this.p.reused.length-1;if(J<0||this.p.reused[J]!=Z)this.p.reused.push(Z),J++;let X=this.pos;if(this.reducePos=this.pos=X+Z.length,this.pushState($,X),this.buffer.push(J,X,this.reducePos,-1),this.curContext)this.updateContext(this.curContext.tracker.reuse(this.curContext.context,Z,this,this.p.stream.reset(this.pos-Z.length)))}split(){let Z=this,$=Z.buffer.length;while($>0&&Z.buffer[$-2]>Z.reducePos)$-=4;let J=Z.buffer.slice($),X=Z.bufferBase+$;while(Z&&X==Z.bufferBase)Z=Z.parent;return new B3(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,J,X,this.curContext,this.lookAhead,Z)}recoverByDelete(Z,$){let J=Z<=this.p.parser.maxNode;if(J)this.storeNode(Z,this.pos,$,4);this.storeNode(0,this.pos,$,J?8:4),this.pos=this.reducePos=$,this.score-=190}canShift(Z){for(let $=new eY(this);;){let J=this.p.parser.stateSlot($.state,4)||this.p.parser.hasAction($.state,Z);if(J==0)return!1;if((J&65536)==0)return!0;$.reduce(J)}}recoverByInsert(Z){if(this.stack.length>=300)return[];let $=this.p.parser.nextStates(this.state);if($.length>8||this.stack.length>=120){let X=[];for(let Y=0,K;Y<$.length;Y+=2)if((K=$[Y+1])!=this.state&&this.p.parser.hasAction(K,Z))X.push($[Y],K);if(this.stack.length<120)for(let Y=0;X.length<8&&Y<$.length;Y+=2){let K=$[Y+1];if(!X.some((Q,U)=>U&1&&Q==K))X.push($[Y],K)}$=X}let J=[];for(let X=0;X<$.length&&J.length<4;X+=2){let Y=$[X+1];if(Y==this.state)continue;let K=this.split();K.pushState(Y,this.pos),K.storeNode(0,K.pos,K.pos,4,!0),K.shiftContext($[X],this.pos),K.reducePos=this.pos,K.score-=200,J.push(K)}return J}forceReduce(){let{parser:Z}=this.p,$=Z.stateSlot(this.state,5);if(($&65536)==0)return!1;if(!Z.validAction(this.state,$)){let J=$>>19,X=$&65535,Y=this.stack.length-J*3;if(Y<0||Z.getGoto(this.stack[Y],X,!1)<0){let K=this.findForcedReduction();if(K==null)return!1;$=K}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce($),!0}findForcedReduction(){let{parser:Z}=this.p,$=[],J=(X,Y)=>{if($.includes(X))return;return $.push(X),Z.allActions(X,(K)=>{if(K&393216);else if(K&65536){let Q=(K>>19)-Y;if(Q>1){let U=K&65535,q=this.stack.length-Q*3;if(q>=0&&Z.getGoto(this.stack[q],U,!1)>=0)return Q<<19|65536|U}}else{let Q=J(K,Y+1);if(Q!=null)return Q}})};return J(this.state,0)}forceAll(){while(!this.p.parser.stateFlag(this.state,2))if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:Z}=this.p;return Z.data[Z.stateSlot(this.state,1)]==65535&&!Z.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(Z){if(this.state!=Z.state||this.stack.length!=Z.stack.length)return!1;for(let $=0;$<this.stack.length;$+=3)if(this.stack[$]!=Z.stack[$])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(Z){return this.p.parser.dialect.flags[Z]}shiftContext(Z,$){if(this.curContext)this.updateContext(this.curContext.tracker.shift(this.curContext.context,Z,this,this.p.stream.reset($)))}reduceContext(Z,$){if(this.curContext)this.updateContext(this.curContext.tracker.reduce(this.curContext.context,Z,this,this.p.stream.reset($)))}emitContext(){let Z=this.buffer.length-1;if(Z<0||this.buffer[Z]!=-3)this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let Z=this.buffer.length-1;if(Z<0||this.buffer[Z]!=-4)this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(Z){if(Z!=this.curContext.context){let $=new f1(this.curContext.tracker,Z);if($.hash!=this.curContext.hash)this.emitContext();this.curContext=$}}setLookAhead(Z){if(Z>this.lookAhead)this.emitLookAhead(),this.lookAhead=Z}close(){if(this.curContext&&this.curContext.tracker.strict)this.emitContext();if(this.lookAhead>0)this.emitLookAhead()}}class f1{constructor(Z,$){this.tracker=Z,this.context=$,this.hash=Z.strict?Z.hash($):0}}class eY{constructor(Z){this.start=Z,this.state=Z.state,this.stack=Z.stack,this.base=this.stack.length}reduce(Z){let $=Z&65535,J=Z>>19;if(J==0){if(this.stack==this.start.stack)this.stack=this.stack.slice();this.stack.push(this.state,0,0),this.base+=3}else this.base-=(J-1)*3;let X=this.start.p.parser.getGoto(this.stack[this.base-3],$,!0);this.state=X}}class E3{constructor(Z,$,J){if(this.stack=Z,this.pos=$,this.index=J,this.buffer=Z.buffer,this.index==0)this.maybeNext()}static create(Z,$=Z.bufferBase+Z.buffer.length){return new E3(Z,$,$-Z.bufferBase)}maybeNext(){let Z=this.stack.parent;if(Z!=null)this.index=this.stack.bufferBase-Z.bufferBase,this.stack=Z,this.buffer=Z.buffer}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){if(this.index-=4,this.pos-=4,this.index==0)this.maybeNext()}fork(){return new E3(this.stack,this.pos,this.index)}}function m7(Z,$=Uint16Array){if(typeof Z!="string")return Z;let J=null;for(let X=0,Y=0;X<Z.length;){let K=0;for(;;){let Q=Z.charCodeAt(X++),U=!1;if(Q==126){K=65535;break}if(Q>=92)Q--;if(Q>=34)Q--;let q=Q-32;if(q>=46)q-=46,U=!0;if(K+=q,U)break;K*=46}if(J)J[Y++]=K;else J=new $(K)}return J}class u7{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}var nY=new u7;class ZK{constructor(Z,$){this.input=Z,this.ranges=$,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nY,this.rangeIndex=0,this.pos=this.chunkPos=$[0].from,this.range=$[0],this.end=$[$.length-1].to,this.readNext()}resolveOffset(Z,$){let J=this.range,X=this.rangeIndex,Y=this.pos+Z;while(Y<J.from){if(!X)return null;let K=this.ranges[--X];Y-=J.from-K.to,J=K}while($<0?Y>J.to:Y>=J.to){if(X==this.ranges.length-1)return null;let K=this.ranges[++X];Y+=K.from-J.to,J=K}return Y}clipPos(Z){if(Z>=this.range.from&&Z<this.range.to)return Z;for(let $ of this.ranges)if($.to>Z)return Math.max(Z,$.from);return this.end}peek(Z){let $=this.chunkOff+Z,J,X;if($>=0&&$<this.chunk.length)J=this.pos+Z,X=this.chunk.charCodeAt($);else{let Y=this.resolveOffset(Z,1);if(Y==null)return-1;if(J=Y,J>=this.chunk2Pos&&J<this.chunk2Pos+this.chunk2.length)X=this.chunk2.charCodeAt(J-this.chunk2Pos);else{let K=this.rangeIndex,Q=this.range;while(Q.to<=J)Q=this.ranges[++K];if(this.chunk2=this.input.chunk(this.chunk2Pos=J),J+this.chunk2.length>Q.to)this.chunk2=this.chunk2.slice(0,Q.to-J);X=this.chunk2.charCodeAt(0)}}if(J>=this.token.lookAhead)this.token.lookAhead=J+1;return X}acceptToken(Z,$=0){let J=$?this.resolveOffset($,-1):this.pos;if(J==null||J<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=Z,this.token.end=J}acceptTokenTo(Z,$){this.token.value=Z,this.token.end=$}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:Z,chunkPos:$}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=Z,this.chunk2Pos=$,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let Z=this.input.chunk(this.pos),$=this.pos+Z.length;this.chunk=$>this.range.to?Z.slice(0,this.range.to-this.pos):Z,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){if(this.chunkOff>=this.chunk.length){if(this.getChunk(),this.chunkOff==this.chunk.length)return this.next=-1}return this.next=this.chunk.charCodeAt(this.chunkOff)}advance(Z=1){this.chunkOff+=Z;while(this.pos+Z>=this.range.to){if(this.rangeIndex==this.ranges.length-1)return this.setDone();Z-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}if(this.pos+=Z,this.pos>=this.token.lookAhead)this.token.lookAhead=this.pos+1;return this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(Z,$){if($)this.token=$,$.start=Z,$.lookAhead=Z+1,$.value=$.extended=-1;else this.token=nY;if(this.pos!=Z){if(this.pos=Z,Z==this.end)return this.setDone(),this;while(Z<this.range.from)this.range=this.ranges[--this.rangeIndex];while(Z>=this.range.to)this.range=this.ranges[++this.rangeIndex];if(Z>=this.chunkPos&&Z<this.chunkPos+this.chunk.length)this.chunkOff=Z-this.chunkPos;else this.chunk="",this.chunkOff=0;this.readNext()}return this}read(Z,$){if(Z>=this.chunkPos&&$<=this.chunkPos+this.chunk.length)return this.chunk.slice(Z-this.chunkPos,$-this.chunkPos);if(Z>=this.chunk2Pos&&$<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(Z-this.chunk2Pos,$-this.chunk2Pos);if(Z>=this.range.from&&$<=this.range.to)return this.input.read(Z,$);let J="";for(let X of this.ranges){if(X.from>=$)break;if(X.to>Z)J+=this.input.read(Math.max(X.from,Z),Math.min(X.to,$))}return J}}class X5{constructor(Z,$){this.data=Z,this.id=$}token(Z,$){let{parser:J}=$.p;$K(this.data,Z,$,this.id,J.data,J.tokenPrecTable)}}X5.prototype.contextual=X5.prototype.fallback=X5.prototype.extend=!1;class f7{constructor(Z,$,J){this.precTable=$,this.elseToken=J,this.data=typeof Z=="string"?m7(Z):Z}token(Z,$){let J=Z.pos,X=0;for(;;){let Y=Z.next<0,K=Z.resolveOffset(1,1);if($K(this.data,Z,$,0,this.data,this.precTable),Z.token.value>-1)break;if(this.elseToken==null)return;if(!Y)X++;if(K==null)break;Z.reset(K,Z.token)}if(X)Z.reset(J,Z.token),Z.acceptToken(this.elseToken,X)}}f7.prototype.contextual=X5.prototype.fallback=X5.prototype.extend=!1;class Y5{constructor(Z,$={}){this.token=Z,this.contextual=!!$.contextual,this.fallback=!!$.fallback,this.extend=!!$.extend}}function $K(Z,$,J,X,Y,K){let Q=0,U=1<<X,{dialect:q}=J.p.parser;Z:for(;;){if((U&Z[Q])==0)break;let W=Z[Q+1];for(let _=Q+3;_<W;_+=2)if((Z[_+1]&U)>0){let O=Z[_];if(q.allows(O)&&($.token.value==-1||$.token.value==O||Gz(O,$.token.value,Y,K))){$.acceptToken(O);break}}let G=$.next,z=0,j=Z[Q+2];if($.next<0&&j>z&&Z[W+j*3-3]==65535){Q=Z[W+j*3-1];continue Z}for(;z<j;){let _=z+j>>1,O=W+_+(_<<1),H=Z[O],N=Z[O+1]||65536;if(G<H)j=_;else if(G>=N)z=_+1;else{Q=Z[O+2],$.advance();continue Z}}break}}function aY(Z,$,J){for(let X=$,Y;(Y=Z[X])!=65535;X++)if(Y==J)return X-$;return-1}function Gz(Z,$,J,X){let Y=aY(J,X,$);return Y<0||aY(J,X,Z)<Y}var g9=typeof process!="undefined"&&process.env&&/\bparse\b/.test(process.env.LOG),u1=null;function rY(Z,$,J){let X=Z.cursor(Y9.IncludeAnonymous);X.moveTo($);for(;;)if(!(J<0?X.childBefore($):X.childAfter($)))for(;;){if((J<0?X.to<$:X.from>$)&&!X.type.isError)return J<0?Math.max(0,Math.min(X.to-1,$-25)):Math.min(Z.length,Math.max(X.from+1,$+25));if(J<0?X.prevSibling():X.nextSibling())break;if(!X.parent())return J<0?0:Z.length}}class JK{constructor(Z,$){this.fragments=Z,this.nodeSet=$,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let Z=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(Z){this.safeFrom=Z.openStart?rY(Z.tree,Z.from+Z.offset,1)-Z.offset:Z.from,this.safeTo=Z.openEnd?rY(Z.tree,Z.to+Z.offset,-1)-Z.offset:Z.to;while(this.trees.length)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(Z.tree),this.start.push(-Z.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(Z){if(Z<this.nextStart)return null;while(this.fragment&&this.safeTo<=Z)this.nextFragment();if(!this.fragment)return null;for(;;){let $=this.trees.length-1;if($<0)return this.nextFragment(),null;let J=this.trees[$],X=this.index[$];if(X==J.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let Y=J.children[X],K=this.start[$]+J.positions[X];if(K>Z)return this.nextStart=K,null;if(Y instanceof s){if(K==Z){if(K<this.safeFrom)return null;let Q=K+Y.length;if(Q<=this.safeTo){let U=Y.prop(b.lookAhead);if(!U||Q+U<this.fragment.to)return Y}}if(this.index[$]++,K+Y.length>=Math.max(this.safeFrom,Z))this.trees.push(Y),this.start.push(K),this.index.push(0)}else this.index[$]++,this.nextStart=K+Y.length}}}class XK{constructor(Z,$){this.stream=$,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=Z.tokenizers.map((J)=>new u7)}getActions(Z){let $=0,J=null,{parser:X}=Z.p,{tokenizers:Y}=X,K=X.stateSlot(Z.state,3),Q=Z.curContext?Z.curContext.hash:0,U=0;for(let q=0;q<Y.length;q++){if((1<<q&K)==0)continue;let W=Y[q],G=this.tokens[q];if(J&&!W.fallback)continue;if(W.contextual||G.start!=Z.pos||G.mask!=K||G.context!=Q)this.updateCachedToken(G,W,Z),G.mask=K,G.context=Q;if(G.lookAhead>G.end+25)U=Math.max(G.lookAhead,U);if(G.value!=0){let z=$;if(G.extended>-1)$=this.addActions(Z,G.extended,G.end,$);if($=this.addActions(Z,G.value,G.end,$),!W.extend){if(J=G,$>z)break}}}while(this.actions.length>$)this.actions.pop();if(U)Z.setLookAhead(U);if(!J&&Z.pos==this.stream.end)J=new u7,J.value=Z.p.parser.eofTerm,J.start=J.end=Z.pos,$=this.addActions(Z,J.value,J.end,$);return this.mainToken=J,this.actions}getMainToken(Z){if(this.mainToken)return this.mainToken;let $=new u7,{pos:J,p:X}=Z;return $.start=J,$.end=Math.min(J+1,X.stream.end),$.value=J==X.stream.end?X.parser.eofTerm:0,$}updateCachedToken(Z,$,J){let X=this.stream.clipPos(J.pos);if($.token(this.stream.reset(X,Z),J),Z.value>-1){let{parser:Y}=J.p;for(let K=0;K<Y.specialized.length;K++)if(Y.specialized[K]==Z.value){let Q=Y.specializers[K](this.stream.read(Z.start,Z.end),J);if(Q>=0&&J.p.parser.dialect.allows(Q>>1)){if((Q&1)==0)Z.value=Q>>1;else Z.extended=Q>>1;break}}}else Z.value=0,Z.end=this.stream.clipPos(X+1)}putAction(Z,$,J,X){for(let Y=0;Y<X;Y+=3)if(this.actions[Y]==Z)return X;return this.actions[X++]=Z,this.actions[X++]=$,this.actions[X++]=J,X}addActions(Z,$,J,X){let{state:Y}=Z,{parser:K}=Z.p,{data:Q}=K;for(let U=0;U<2;U++)for(let q=K.stateSlot(Y,U?2:1);;q+=3){if(Q[q]==65535)if(Q[q+1]==1)q=M0(Q,q+2);else{if(X==0&&Q[q+1]==2)X=this.putAction(M0(Q,q+2),$,J,X);break}if(Q[q]==$)X=this.putAction(M0(Q,q+1),$,J,X)}return X}}class YK{constructor(Z,$,J,X){this.parser=Z,this.input=$,this.ranges=X,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new ZK($,X),this.tokens=new XK(Z,this.stream),this.topTerm=Z.top[1];let{from:Y}=X[0];this.stacks=[B3.start(this,Z.top[0],Y)],this.fragments=J.length&&this.stream.end-Y>Z.bufferLength*4?new JK(J,Z.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let Z=this.stacks,$=this.minStackPos,J=this.stacks=[],X,Y;if(this.bigReductionCount>300&&Z.length==1){let[K]=Z;while(K.forceReduce()&&K.stack.length&&K.stack[K.stack.length-2]>=this.lastBigReductionStart);this.bigReductionCount=this.lastBigReductionSize=0}for(let K=0;K<Z.length;K++){let Q=Z[K];for(;;){if(this.tokens.mainToken=null,Q.pos>$)J.push(Q);else if(this.advanceStack(Q,J,Z))continue;else{if(!X)X=[],Y=[];X.push(Q);let U=this.tokens.getMainToken(Q);Y.push(U.value,U.end)}break}}if(!J.length){let K=X&&zz(X);if(K){if(g9)console.log("Finish with "+this.stackID(K));return this.stackToTree(K)}if(this.parser.strict){if(g9&&X)console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none"));throw new SyntaxError("No parse at "+$)}if(!this.recovering)this.recovering=5}if(this.recovering&&X){let K=this.stoppedAt!=null&&X[0].pos>this.stoppedAt?X[0]:this.runRecovery(X,Y,J);if(K){if(g9)console.log("Force-finish "+this.stackID(K));return this.stackToTree(K.forceAll())}}if(this.recovering){let K=this.recovering==1?1:this.recovering*3;if(J.length>K){J.sort((Q,U)=>U.score-Q.score);while(J.length>K)J.pop()}if(J.some((Q)=>Q.reducePos>$))this.recovering--}else if(J.length>1){Z:for(let K=0;K<J.length-1;K++){let Q=J[K];for(let U=K+1;U<J.length;U++){let q=J[U];if(Q.sameState(q)||Q.buffer.length>500&&q.buffer.length>500)if((Q.score-q.score||Q.buffer.length-q.buffer.length)>0)J.splice(U--,1);else{J.splice(K--,1);continue Z}}}if(J.length>12)J.splice(12,J.length-12)}this.minStackPos=J[0].pos;for(let K=1;K<J.length;K++)if(J[K].pos<this.minStackPos)this.minStackPos=J[K].pos;return null}stopAt(Z){if(this.stoppedAt!=null&&this.stoppedAt<Z)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=Z}advanceStack(Z,$,J){let X=Z.pos,{parser:Y}=this,K=g9?this.stackID(Z)+" -> ":"";if(this.stoppedAt!=null&&X>this.stoppedAt)return Z.forceReduce()?Z:null;if(this.fragments){let q=Z.curContext&&Z.curContext.tracker.strict,W=q?Z.curContext.hash:0;for(let G=this.fragments.nodeAt(X);G;){let z=this.parser.nodeSet.types[G.type.id]==G.type?Y.getGoto(Z.state,G.type.id):-1;if(z>-1&&G.length&&(!q||(G.prop(b.contextHash)||0)==W)){if(Z.useNode(G,z),g9)console.log(K+this.stackID(Z)+` (via reuse of ${Y.getName(G.type.id)})`);return!0}if(!(G instanceof s)||G.children.length==0||G.positions[0]>0)break;let j=G.children[0];if(j instanceof s&&G.positions[0]==0)G=j;else break}}let Q=Y.stateSlot(Z.state,4);if(Q>0){if(Z.reduce(Q),g9)console.log(K+this.stackID(Z)+` (via always-reduce ${Y.getName(Q&65535)})`);return!0}if(Z.stack.length>=8400)while(Z.stack.length>6000&&Z.forceReduce());let U=this.tokens.getActions(Z);for(let q=0;q<U.length;){let W=U[q++],G=U[q++],z=U[q++],j=q==U.length||!J,_=j?Z:Z.split(),O=this.tokens.mainToken;if(_.apply(W,G,O?O.start:_.pos,z),g9)console.log(K+this.stackID(_)+` (via ${(W&65536)==0?"shift":`reduce of ${Y.getName(W&65535)}`} for ${Y.getName(G)} @ ${X}${_==Z?"":", split"})`);if(j)return!0;else if(_.pos>X)$.push(_);else J.push(_)}return!1}advanceFully(Z,$){let J=Z.pos;for(;;){if(!this.advanceStack(Z,null,null))return!1;if(Z.pos>J)return oY(Z,$),!0}}runRecovery(Z,$,J){let X=null,Y=!1;for(let K=0;K<Z.length;K++){let Q=Z[K],U=$[K<<1],q=$[(K<<1)+1],W=g9?this.stackID(Q)+" -> ":"";if(Q.deadEnd){if(Y)continue;if(Y=!0,Q.restart(),g9)console.log(W+this.stackID(Q)+" (restarted)");if(this.advanceFully(Q,J))continue}let G=Q.split(),z=W;for(let j=0;G.forceReduce()&&j<10;j++){if(g9)console.log(z+this.stackID(G)+" (via force-reduce)");if(this.advanceFully(G,J))break;if(g9)z=this.stackID(G)+" -> "}for(let j of Q.recoverByInsert(U)){if(g9)console.log(W+this.stackID(j)+" (via recover-insert)");this.advanceFully(j,J)}if(this.stream.end>Q.pos){if(q==Q.pos)q++,U=0;if(Q.recoverByDelete(U,q),g9)console.log(W+this.stackID(Q)+` (via recover-delete ${this.parser.getName(U)})`);oY(Q,J)}else if(!X||X.score<Q.score)X=Q}return X}stackToTree(Z){return Z.close(),s.build({buffer:E3.create(Z),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:Z.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(Z){let $=(u1||(u1=new WeakMap)).get(Z);if(!$)u1.set(Z,$=String.fromCodePoint(this.nextStackID++));return $+Z}}function oY(Z,$){for(let J=0;J<$.length;J++){let X=$[J];if(X.pos==Z.pos&&X.sameState(Z)){if($[J].score<Z.score)$[J]=Z;return}}$.push(Z)}class KK{constructor(Z,$,J){this.source=Z,this.flags=$,this.disabled=J}allows(Z){return!this.disabled||this.disabled[Z]==0}}var g1=(Z)=>Z;class p1{constructor(Z){this.start=Z.start,this.shift=Z.shift||g1,this.reduce=Z.reduce||g1,this.reuse=Z.reuse||g1,this.hash=Z.hash||(()=>0),this.strict=Z.strict!==!1}}class g7 extends E5{constructor(Z){super();if(this.wrappers=[],Z.version!=14)throw new RangeError(`Parser version (${Z.version}) doesn't match runtime version (14)`);let $=Z.nodeNames.split(" ");this.minRepeatTerm=$.length;for(let Q=0;Q<Z.repeatNodeCount;Q++)$.push("");let J=Object.keys(Z.topRules).map((Q)=>Z.topRules[Q][1]),X=[];for(let Q=0;Q<$.length;Q++)X.push([]);function Y(Q,U,q){X[Q].push([U,U.deserialize(String(q))])}if(Z.nodeProps)for(let Q of Z.nodeProps){let U=Q[0];if(typeof U=="string")U=b[U];for(let q=1;q<Q.length;){let W=Q[q++];if(W>=0)Y(W,U,Q[q++]);else{let G=Q[q+-W];for(let z=-W;z>0;z--)Y(Q[q++],U,G);q++}}}if(this.nodeSet=new B5($.map((Q,U)=>O9.define({name:U>=this.minRepeatTerm?void 0:Q,id:U,props:X[U],top:J.indexOf(U)>-1,error:U==0,skipped:Z.skippedNodes&&Z.skippedNodes.indexOf(U)>-1}))),Z.propSources)this.nodeSet=this.nodeSet.extend(...Z.propSources);this.strict=!1,this.bufferLength=pJ;let K=m7(Z.tokenData);this.context=Z.context,this.specializerSpecs=Z.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let Q=0;Q<this.specializerSpecs.length;Q++)this.specialized[Q]=this.specializerSpecs[Q].term;this.specializers=this.specializerSpecs.map(tY),this.states=m7(Z.states,Uint32Array),this.data=m7(Z.stateData),this.goto=m7(Z.goto),this.maxTerm=Z.maxTerm,this.tokenizers=Z.tokenizers.map((Q)=>typeof Q=="number"?new X5(K,Q):Q),this.topRules=Z.topRules,this.dialects=Z.dialects||{},this.dynamicPrecedences=Z.dynamicPrecedences||null,this.tokenPrecTable=Z.tokenPrec,this.termNames=Z.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(Z,$,J){let X=new YK(this,Z,$,J);for(let Y of this.wrappers)X=Y(X,Z,$,J);return X}getGoto(Z,$,J=!1){let X=this.goto;if($>=X[0])return-1;for(let Y=X[$+1];;){let K=X[Y++],Q=K&1,U=X[Y++];if(Q&&J)return U;for(let q=Y+(K>>1);Y<q;Y++)if(X[Y]==Z)return U;if(Q)return-1}}hasAction(Z,$){let J=this.data;for(let X=0;X<2;X++)for(let Y=this.stateSlot(Z,X?2:1),K;;Y+=3){if((K=J[Y])==65535)if(J[Y+1]==1)K=J[Y=M0(J,Y+2)];else if(J[Y+1]==2)return M0(J,Y+2);else break;if(K==$||K==0)return M0(J,Y+1)}return 0}stateSlot(Z,$){return this.states[Z*6+$]}stateFlag(Z,$){return(this.stateSlot(Z,0)&$)>0}validAction(Z,$){return!!this.allActions(Z,(J)=>J==$?!0:null)}allActions(Z,$){let J=this.stateSlot(Z,4),X=J?$(J):void 0;for(let Y=this.stateSlot(Z,1);X==null;Y+=3){if(this.data[Y]==65535)if(this.data[Y+1]==1)Y=M0(this.data,Y+2);else break;X=$(M0(this.data,Y+1))}return X}nextStates(Z){let $=[];for(let J=this.stateSlot(Z,1);;J+=3){if(this.data[J]==65535)if(this.data[J+1]==1)J=M0(this.data,J+2);else break;if((this.data[J+2]&1)==0){let X=this.data[J+1];if(!$.some((Y,K)=>K&1&&Y==X))$.push(this.data[J],X)}}return $}configure(Z){let $=Object.assign(Object.create(g7.prototype),this);if(Z.props)$.nodeSet=this.nodeSet.extend(...Z.props);if(Z.top){let J=this.topRules[Z.top];if(!J)throw new RangeError(`Invalid top rule name ${Z.top}`);$.top=J}if(Z.tokenizers)$.tokenizers=this.tokenizers.map((J)=>{let X=Z.tokenizers.find((Y)=>Y.from==J);return X?X.to:J});if(Z.specializers)$.specializers=this.specializers.slice(),$.specializerSpecs=this.specializerSpecs.map((J,X)=>{let Y=Z.specializers.find((Q)=>Q.from==J.external);if(!Y)return J;let K=Object.assign(Object.assign({},J),{external:Y.to});return $.specializers[X]=tY(K),K});if(Z.contextTracker)$.context=Z.contextTracker;if(Z.dialect)$.dialect=this.parseDialect(Z.dialect);if(Z.strict!=null)$.strict=Z.strict;if(Z.wrap)$.wrappers=$.wrappers.concat(Z.wrap);if(Z.bufferLength!=null)$.bufferLength=Z.bufferLength;return $}hasWrappers(){return this.wrappers.length>0}getName(Z){return this.termNames?this.termNames[Z]:String(Z<=this.maxNode&&this.nodeSet.types[Z].name||Z)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(Z){let $=this.dynamicPrecedences;return $==null?0:$[Z]||0}parseDialect(Z){let $=Object.keys(this.dialects),J=$.map(()=>!1);if(Z)for(let Y of Z.split(" ")){let K=$.indexOf(Y);if(K>=0)J[K]=!0}let X=null;for(let Y=0;Y<$.length;Y++)if(!J[Y])for(let K=this.dialects[$[Y]],Q;(Q=this.data[K++])!=65535;)(X||(X=new Uint8Array(this.maxTerm+1)))[Q]=1;return new KK(Z,J,X)}static deserialize(Z){return new g7(Z)}}function M0(Z,$){return Z[$]|Z[$+1]<<16}function zz(Z){let $=null;for(let J of Z){let X=J.p.stoppedAt;if((J.pos==J.p.stream.end||X!=null&&J.pos>X)&&J.p.parser.stateFlag(J.state,2)&&(!$||$.score<J.score))$=J}return $}function tY(Z){if(Z.external){let $=Z.extend?1:0;return(J,X)=>Z.external(J,X)<<1|$}return Z.get}var jz=316,_z=317,QK=1,Oz=2,Hz=3,Nz=4,Rz=318,Dz=320,Fz=321,Vz=5,Az=6,Iz=0,d1=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],UK=125,Mz=59,c1=47,Lz=42,Bz=43,Ez=45,Pz=60,Tz=44,Cz=63,yz=46,Sz=91,kz=new p1({start:!1,shift(Z,$){return $==Vz||$==Az||$==Dz?Z:$==Fz},strict:!1}),bz=new Y5((Z,$)=>{let{next:J}=Z;if(J==UK||J==-1||$.context)Z.acceptToken(Rz)},{contextual:!0,fallback:!0}),xz=new Y5((Z,$)=>{let{next:J}=Z,X;if(d1.indexOf(J)>-1)return;if(J==c1&&((X=Z.peek(1))==c1||X==Lz))return;if(J!=UK&&J!=Mz&&J!=-1&&!$.context)Z.acceptToken(jz)},{contextual:!0}),wz=new Y5((Z,$)=>{if(Z.next==Sz&&!$.context)Z.acceptToken(_z)},{contextual:!0}),hz=new Y5((Z,$)=>{let{next:J}=Z;if(J==Bz||J==Ez){if(Z.advance(),J==Z.next){Z.advance();let X=!$.context&&$.canShift(QK);Z.acceptToken(X?QK:Oz)}}else if(J==Cz&&Z.peek(1)==yz){if(Z.advance(),Z.advance(),Z.next<48||Z.next>57)Z.acceptToken(Hz)}},{contextual:!0});function l1(Z,$){return Z>=65&&Z<=90||Z>=97&&Z<=122||Z==95||Z>=192||!$&&Z>=48&&Z<=57}var vz=new Y5((Z,$)=>{if(Z.next!=Pz||!$.dialectEnabled(Iz))return;if(Z.advance(),Z.next==c1)return;let J=0;while(d1.indexOf(Z.next)>-1)Z.advance(),J++;if(l1(Z.next,!0)){Z.advance(),J++;while(l1(Z.next,!1))Z.advance(),J++;while(d1.indexOf(Z.next)>-1)Z.advance(),J++;if(Z.next==Tz)return;for(let X=0;;X++){if(X==7){if(!l1(Z.next,!0))return;break}if(Z.next!="extends".charCodeAt(X))break;Z.advance(),J++}}Z.acceptToken(Nz,-J)}),mz=mZ({"get set async static":R.modifier,"for while do if else switch try catch finally return throw break continue default case defer":R.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":R.operatorKeyword,"let var const using function class extends":R.definitionKeyword,"import export from":R.moduleKeyword,"with debugger new":R.keyword,TemplateString:R.special(R.string),super:R.atom,BooleanLiteral:R.bool,this:R.self,null:R.null,Star:R.modifier,VariableName:R.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":R.function(R.variableName),VariableDefinition:R.definition(R.variableName),Label:R.labelName,PropertyName:R.propertyName,PrivatePropertyName:R.special(R.propertyName),"CallExpression/MemberExpression/PropertyName":R.function(R.propertyName),"FunctionDeclaration/VariableDefinition":R.function(R.definition(R.variableName)),"ClassDeclaration/VariableDefinition":R.definition(R.className),"NewExpression/VariableName":R.className,PropertyDefinition:R.definition(R.propertyName),PrivatePropertyDefinition:R.definition(R.special(R.propertyName)),UpdateOp:R.updateOperator,"LineComment Hashbang":R.lineComment,BlockComment:R.blockComment,Number:R.number,String:R.string,Escape:R.escape,ArithOp:R.arithmeticOperator,LogicOp:R.logicOperator,BitOp:R.bitwiseOperator,CompareOp:R.compareOperator,RegExp:R.regexp,Equals:R.definitionOperator,Arrow:R.function(R.punctuation),": Spread":R.punctuation,"( )":R.paren,"[ ]":R.squareBracket,"{ }":R.brace,"InterpolationStart InterpolationEnd":R.special(R.brace),".":R.derefOperator,", ;":R.separator,"@":R.meta,TypeName:R.typeName,TypeDefinition:R.definition(R.typeName),"type enum interface implements namespace module declare":R.definitionKeyword,"abstract global Privacy readonly override":R.modifier,"is keyof unique infer asserts":R.operatorKeyword,JSXAttributeValue:R.attributeValue,JSXText:R.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":R.angleBracket,"JSXIdentifier JSXNameSpacedName":R.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":R.attributeName,"JSXBuiltin/JSXIdentifier":R.standard(R.tagName)}),uz={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},gz={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},fz={__proto__:null,"<":193},qK=g7.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:"‚ö† ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:kz,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[mz],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[xz,wz,hz,vz,2,3,4,5,6,7,8,9,10,11,12,13,14,bz,new f7("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new f7("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{"80":1,"82":1,"94":1,"169":1,"199":1},specialized:[{term:327,get:(Z)=>uz[Z]||-1},{term:343,get:(Z)=>gz[Z]||-1},{term:95,get:(Z)=>fz[Z]||-1}],tokenPrec:15201});var i1=[B9("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),B9("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),B9("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),B9("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),B9("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),B9(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),B9("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),B9(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),B9(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),B9('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),B9('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],jK=i1.concat([B9("interface ${name} {\n\t${}\n}",{label:"interface",detail:"definition",type:"keyword"}),B9("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),B9("enum ${name} {\n\t${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),WK=new U8,_K=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function p7(Z){return($,J)=>{let X=$.node.getChild("VariableDefinition");if(X)J(X,Z);return!0}}var pz=["FunctionDeclaration"],lz={FunctionDeclaration:p7("function"),ClassDeclaration:p7("class"),ClassExpression:()=>!0,EnumDeclaration:p7("constant"),TypeAliasDeclaration:p7("type"),NamespaceDeclaration:p7("namespace"),VariableDefinition(Z,$){if(!Z.matchContext(pz))$(Z,"variable")},TypeDefinition(Z,$){$(Z,"type")},__proto__:null};function OK(Z,$){let J=WK.get($);if(J)return J;let X=[],Y=!0;function K(Q,U){let q=Z.sliceString(Q.from,Q.to);X.push({label:q,type:U})}return $.cursor(Y9.IncludeAnonymous).iterate((Q)=>{if(Y)Y=!1;else if(Q.name){let U=lz[Q.name];if(U&&U(Q,K)||_K.has(Q.name))return!1}else if(Q.to-Q.from>8192){for(let U of OK(Z,Q.node))X.push(U);return!1}}),WK.set($,X),X}var P3=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,n1=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function HK(Z){let $=r(Z.state).resolveInner(Z.pos,-1);if(n1.indexOf($.name)>-1)return null;let J=$.name=="VariableName"||$.to-$.from<20&&P3.test(Z.state.sliceDoc($.from,$.to));if(!J&&!Z.explicit)return null;let X=[];for(let Y=$;Y;Y=Y.parent)if(_K.has(Y.name))X=X.concat(OK(Z.state.doc,Y));return{options:X,from:J?$.from:Z.pos,validFor:P3}}function s1(Z,$,J){var X;let Y=[];for(;;){let K=$.firstChild,Q;if((K===null||K===void 0?void 0:K.name)=="VariableName")return Y.push(Z(K)),{path:Y.reverse(),name:J};else if((K===null||K===void 0?void 0:K.name)=="MemberExpression"&&((X=Q=K.lastChild)===null||X===void 0?void 0:X.name)=="PropertyName")Y.push(Z(Q)),$=K;else return null}}function NK(Z){let $=(X)=>Z.state.doc.sliceString(X.from,X.to),J=r(Z.state).resolveInner(Z.pos,-1);if(J.name=="PropertyName")return s1($,J.parent,$(J));else if((J.name=="."||J.name=="?.")&&J.parent.name=="MemberExpression")return s1($,J.parent,"");else if(n1.indexOf(J.name)>-1)return null;else if(J.name=="VariableName"||J.to-J.from<20&&P3.test($(J)))return{path:[],name:$(J)};else if(J.name=="MemberExpression")return s1($,J,"");else return Z.explicit?{path:[],name:""}:null}function dz(Z,$){let J=[],X=new Set;for(let Y=0;;Y++){for(let Q of(Object.getOwnPropertyNames||Object.keys)(Z)){if(!/^[a-zA-Z_$\xaa-\uffdc][\w$\xaa-\uffdc]*$/.test(Q)||X.has(Q))continue;X.add(Q);let U;try{U=Z[Q]}catch(q){continue}J.push({label:Q,type:typeof U=="function"?/^[A-Z]/.test(Q)?"class":$?"function":"method":$?"variable":"property",boost:-Y})}let K=Object.getPrototypeOf(Z);if(!K)return J;Z=K}}function cz(Z){let $=new Map;return(J)=>{let X=NK(J);if(!X)return null;let Y=Z;for(let Q of X.path)if(Y=Y[Q],!Y)return null;let K=$.get(Y);if(!K)$.set(Y,K=dz(Y,!X.path.length));return{from:J.pos-X.name.length,options:K,validFor:P3}}}var L0=P5.define({name:"javascript",parser:qK.configure({props:[B7.add({IfStatement:E7({except:/^\s*({|else\b)/}),TryStatement:E7({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:A8,SwitchBody:(Z)=>{let $=Z.textAfter,J=/^\s*\}/.test($),X=/^\s*(case|default)\b/.test($);return Z.baseIndent+(J?0:X?1:2)*Z.unit},Block:V8({closing:"}"}),ArrowFunction:(Z)=>Z.baseIndent+Z.unit,"TemplateString BlockComment":()=>null,"Statement Property":E7({except:/^\s*{/}),JSXElement(Z){let $=/^\s*<\//.test(Z.textAfter);return Z.lineIndent(Z.node.from)+($?0:Z.unit)},JSXEscape(Z){let $=/\s*\}/.test(Z.textAfter);return Z.lineIndent(Z.node.from)+($?0:Z.unit)},"JSXOpenTag JSXSelfClosingTag"(Z){return Z.column(Z.node.from)+Z.unit}}),dZ.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":M8,BlockComment(Z){return{from:Z.from+2,to:Z.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),RK={test:(Z)=>/^JSX/.test(Z.name),facet:M7({commentTokens:{block:{open:"{/*",close:"*/}"}}})},DK=L0.configure({dialect:"ts"},"typescript"),FK=L0.configure({dialect:"jsx",props:[L7.add((Z)=>Z.isTop?[RK]:void 0)]}),VK=L0.configure({dialect:"jsx ts",props:[L7.add((Z)=>Z.isTop?[RK]:void 0)]},"typescript"),AK=(Z)=>({label:Z,type:"keyword"}),IK="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(AK),sz=IK.concat(["declare","implements","private","protected","public"].map(AK));function iz(Z={}){let $=Z.jsx?Z.typescript?VK:FK:Z.typescript?DK:L0,J=Z.typescript?jK.concat(sz):i1.concat(IK);return new pZ($,[L0.data.of({autocomplete:IY(n1,E1(J))}),L0.data.of({autocomplete:HK}),Z.jsx?MK:[]])}function nz(Z){for(;;){if(Z.name=="JSXOpenTag"||Z.name=="JSXSelfClosingTag"||Z.name=="JSXFragmentTag")return Z;if(Z.name=="JSXEscape"||!Z.parent)return null;Z=Z.parent}}function GK(Z,$,J=Z.length){for(let X=$===null||$===void 0?void 0:$.firstChild;X;X=X.nextSibling)if(X.name=="JSXIdentifier"||X.name=="JSXBuiltin"||X.name=="JSXNamespacedName"||X.name=="JSXMemberExpression")return Z.sliceString(X.from,Math.min(X.to,J));return""}var az=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),MK=L.inputHandler.of((Z,$,J,X,Y)=>{if((az?Z.composing:Z.compositionStarted)||Z.state.readOnly||$!=J||X!=">"&&X!="/"||!L0.isActiveAt(Z.state,$,-1))return!1;let K=Y(),{state:Q}=K,U=Q.changeByRange((q)=>{var W;let{head:G}=q,z=r(Q).resolveInner(G-1,-1),j;if(z.name=="JSXStartTag")z=z.parent;if(Q.doc.sliceString(G-1,G)!=X||z.name=="JSXAttributeValue"&&z.to>G);else if(X==">"&&z.name=="JSXFragmentTag")return{range:q,changes:{from:G,insert:"</>"}};else if(X=="/"&&z.name=="JSXStartCloseTag"){let _=z.parent,O=_.parent;if(O&&_.from==G-2&&((j=GK(Q.doc,O.firstChild,G))||((W=O.firstChild)===null||W===void 0?void 0:W.name)=="JSXFragmentTag")){let H=`${j}>`;return{range:F.cursor(G+H.length,-1),changes:{from:G,insert:H}}}}else if(X==">"){let _=nz(z);if(_&&_.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(Q.doc.sliceString(G,G+2))&&(j=GK(Q.doc,_,G)))return{range:q,changes:{from:G,insert:`</${j}>`}}}return{range:q}});if(U.changes.empty)return!1;return Z.dispatch([K,Q.update(U,{userEvent:"input.complete",scrollIntoView:!0})]),!0});function rz(Z,$){if(!$)$={parserOptions:{ecmaVersion:2019,sourceType:"module"},env:{browser:!0,node:!0,es6:!0,es2015:!0,es2017:!0,es2020:!0},rules:{}},Z.getRules().forEach((J,X)=>{var Y;if((Y=J.meta.docs)===null||Y===void 0?void 0:Y.recommended)$.rules[X]=2});return(J)=>{let{state:X}=J,Y=[];for(let{from:K,to:Q}of L0.findRegions(X)){let U=X.doc.lineAt(K),q={line:U.number-1,col:K-U.from,pos:K};for(let W of Z.verify(X.sliceDoc(K,Q),$))Y.push(oz(W,X.doc,q))}return Y}}function zK(Z,$,J,X){return J.line(Z+X.line).from+$+(Z==1?X.col-1:-1)}function oz(Z,$,J){let X=zK(Z.line,Z.column,$,J),Y={from:X,to:Z.endLine!=null&&Z.endColumn!=1?zK(Z.endLine,Z.endColumn,$,J):X,message:Z.message,source:Z.ruleId?"eslint:"+Z.ruleId:"eslint",severity:Z.severity==1?"warning":"error"};if(Z.fix){let{range:K,text:Q}=Z.fix,U=K[0]+J.pos-X,q=K[1]+J.pos-X;Y.actions=[{name:"fix",apply(W,G){W.dispatch({changes:{from:G+U,to:G+q,insert:Q},scrollIntoView:!0})}}]}return Y}var F_={All:m1,State:r3,View:$8,Commands:W1,Language:w8,Languages:{JavaScript:a1}};export{F_ as default};
</script>
	</head>
	<body style="">
		<main><div styles-key="CgkJCQkJCSYgewoJCQkJCQkJcG9zaXRpb246IGZpeGVkOwoJCQkJCQkJdG9wOiAwOwoJCQkJCQkJbGVmdDogMDsKCQkJCQkJCXdpZHRoOiAxMDAlOwoJCQkJCQkJaGVpZ2h0OiAxMDAlOwoJCQkJCQkJYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTsKCQkJCQkJCWNvbG9yOiAjMzMzOwoJCQkJCQl9CgkJCQkJ"><div class="cm-editor Õº1 Õº2 Õº4"><div class="cm-announced" aria-live="polite"></div><div tabindex="-1" class="cm-scroller"><div class="cm-gutters cm-gutters-before" aria-hidden="true" style="min-height: 26.1875px; position: sticky;"><div class="cm-gutter cm-lineNumbers"><div class="cm-gutterElement" style="height: 0px; visibility: hidden; pointer-events: none;">9</div><div class="cm-gutterElement cm-activeLineGutter" style="height: 18.1875px; margin-top: 4px;">1</div></div><div class="cm-gutter cm-foldGutter"><div class="cm-gutterElement" style="height: 0px; visibility: hidden; pointer-events: none;"><span title="Unfold line">‚Ä∫</span></div><div class="cm-gutterElement cm-activeLineGutter" style="height: 18.1875px; margin-top: 4px;"></div></div></div><div spellcheck="false" autocorrect="off" autocapitalize="off" writingsuggestions="false" translate="no" contenteditable="true" class="cm-content" role="textbox" aria-multiline="true" data-language="javascript" style="tab-size: 4;" aria-autocomplete="list"><div class="cm-activeLine cm-line"><span class="Õºe">"hello"</span></div></div><div class="cm-layer cm-layer-above cm-cursorLayer" aria-hidden="true" style="z-index: 150; animation-duration: 1200ms; animation-name: cm-blink;"><div class="cm-cursor cm-cursor-primary" style="left: 91.4062px; top: 5px; height: 15px;"></div></div><div class="cm-layer cm-selectionLayer" aria-hidden="true" style="z-index: -2;"></div></div></div></div></main>
	

</body></html>