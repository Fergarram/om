function L(){return new Proxy({},{get:x})}function k(q){let j=typeof window==="undefined",F=typeof q==="string"?{namespace:q}:q||{};if(j)return L();else return new Proxy({},{get:(z,B)=>M(z,String(B),F)})}if(typeof window==="undefined")globalThis.document={createElement:()=>({}),createTextNode:()=>({}),createComment:()=>({}),createElementNS:()=>({})},console.warn("Trying to use client-side tags on server.");function A(q){let j={},F=q,z,B;if(q.length>0){let J=q[0];if(typeof J==="string"||typeof J==="number"||typeof window!=="undefined"&&J instanceof HTMLElement||typeof J==="function")F=q;else if(Object.getPrototypeOf(J||0)===Object.prototype){let[P,...K]=q,{is:Q,ref:U,innerHTML:Y,...W}=P;j=W,F=K,z=U,B=Y}}return{props:j,children:F,ref:z,innerHTML:B}}function M(q,j,F){return(...z)=>{let{props:B,children:J,ref:P,innerHTML:K}=A(z),Q=F?.namespace?document.createElementNS(F.namespace,j):document.createElement(j);if(P)P.current=Q;for(let[U,Y]of Object.entries(B)){let W=U,X=Y;if(F?.attr){let S=F.attr(U,Y);W=S.name,X=S.value}if(W.startsWith("on")&&typeof X==="function"){let S=W.substring(2).toLowerCase();Q.addEventListener(S,X);continue}if(typeof X==="function"&&!W.startsWith("on")){f(Q,W,X);continue}if(X===!0)Q.setAttribute(W,"true");else if(X===!1)Q.setAttribute(W,"false");else if(X!==null&&X!==void 0)Q.setAttribute(W,String(X))}if(K!==void 0)return Q.innerHTML=String(K),Q;for(let U of J.flat(1/0))if(U!=null)if(U instanceof Node)Q.appendChild(U);else if(typeof U==="function"){let Y=T(U);Q.appendChild(Y)}else Q.appendChild(document.createTextNode(String(U)));return Q}}var $=[],I=[],D=[],O=0,V=[],C=[],G=[],Z=[],N=0,y=0,E=0;if(typeof window!=="undefined")requestAnimationFrame(R);function R(){let q=performance.now(),j=!1,F=!1;for(let z=0;z<N;z++){let B=V[z];if(!B||!B.isConnected){j=!0;continue}let J=C[z],P=G[z];if(!J||!P)continue;let K=P();if(K!==Z[z]){if(K===!0)B.setAttribute(J,"true");else if(K===!1)B.setAttribute(J,"false");else if(K===null||K===void 0)B.removeAttribute(J);else B.setAttribute(J,String(K));Z[z]=K}}for(let z=0;z<O;z++){let B=$[z];if(!B||!B.isConnected){F=!0;continue}let J=I[z];if(!J)continue;let P=J(),K=B.previousSibling;if(!K)continue;let Q=!1;if(P instanceof Node)if(K instanceof HTMLElement&&P instanceof HTMLElement){if(K.outerHTML!==P.outerHTML)Q=!0}else Q=!0;else{let U=String(P||"");if(K.nodeType===Node.TEXT_NODE)Q=K.textContent!==U;else Q=!0}if(Q){let U;if(P instanceof Node)U=P;else U=document.createTextNode(String(P||""));K.replaceWith(U)}}if(j||F){if(E++,E>=60)E=0,H()}y=performance.now()-q,requestAnimationFrame(R)}function H(){let q=0;for(let j=0;j<O;j++){let F=$[j],z=I[j],B=D[j];if(F&&F.isConnected){if(q!==j)$[q]=F,I[q]=z,D[q]=B;q++}}for(let j=q;j<O;j++)$[j]=null,I[j]=null,D[j]=null;O=q,q=0;for(let j=0;j<N;j++){let F=V[j],z=C[j],B=G[j],J=Z[j];if(F&&F.isConnected){if(q!==j)V[q]=F,C[q]=z,G[q]=B,Z[q]=J;q++}}for(let j=q;j<N;j++)V[j]=null,C[j]=null,G[j]=null,Z[j]=void 0;N=q}function g(){return y}function T(q){let j=O++,F=document.createComment(`reactive-${j}`),z=q(),B;if(z instanceof Node)B=z;else B=document.createTextNode(String(z||""));let J=document.createDocumentFragment();return J.appendChild(B),J.appendChild(F),$[j]=F,I[j]=q,D[j]=B,J}function f(q,j,F){let z=N++,B=F();if(B===!0)q.setAttribute(j,"true");else if(B===!1)q.setAttribute(j,"false");else if(B!==null&&B!==void 0)q.setAttribute(j,String(B));V[z]=q,C[z]=j,G[z]=F,Z[z]=B}var b=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]);function h(q){return q.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function w(q){let j="";for(let[F,z]of Object.entries(q)){if(F.startsWith("on")||typeof z==="function")continue;if(z===!0)j+=` ${F}`;else if(z!==!1&&z!=null)j+=` ${F}="${h(String(z))}"`}return j}function x(q,j){return(...F)=>{let{props:z,children:B,innerHTML:J}=A(F),P=`<${j}${w(z)}`;if(b.has(j))return P+"/>";if(P+=">",J!==void 0){let K=typeof J==="function"?J():J;return P+=String(K),P+`</${j}>`}for(let K of B.flat(1/0))if(K!=null)if(typeof K==="function")P+=String(K());else P+=String(K);return P+`</${j}>`}}export{k as useTags,L as useStaticTags,M as tagGenerator,A as parseTagArgs,g as getFrameTime,h as escapeHtml,w as buildAttributesHtml};
